/*! For license information please see 5285-6229d872518082b22b25.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[5285],{85239:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(87462),i=n(63366),o=n(84481),a=(n(45697),n(94780)),u=n(28562);function c(t){return(0,u.Z)("MuiButton",t)}(0,n(1588).Z)("MuiButton",["root","active","disabled","focusVisible"]);var s=n(99962),l=n(33703),f=n(30437);var d=n(54391),h=n(31873),p=n(85893);const v=["action","children","component","disabled","focusableWhenDisabled","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseLeave","slotProps","slots"];var m=o.forwardRef((function(t,e){var n;const{action:u,children:m,component:g,focusableWhenDisabled:y=!1,slotProps:b={},slots:w={}}=t,x=(0,i.Z)(t,v),$=o.useRef(),{active:C,focusVisible:_,setFocusVisible:k,getRootProps:E}=function(t){const{disabled:e=!1,focusableWhenDisabled:n,href:i,ref:a,tabIndex:u,to:c,type:d}=t,h=o.useRef(),[p,v]=o.useState(!1),{isFocusVisibleRef:m,onFocus:g,onBlur:y,ref:b}=(0,s.Z)(),[w,x]=o.useState(!1);e&&!n&&w&&x(!1),o.useEffect((()=>{m.current=w}),[w,m]);const[$,C]=o.useState(""),_=t=>e=>{var n;w&&e.preventDefault(),null==(n=t.onMouseLeave)||n.call(t,e)},k=t=>e=>{var n;y(e),!1===m.current&&x(!1),null==(n=t.onBlur)||n.call(t,e)},E=t=>e=>{var n,r;h.current||(h.current=e.currentTarget),g(e),!0===m.current&&(x(!0),null==(r=t.onFocusVisible)||r.call(t,e)),null==(n=t.onFocus)||n.call(t,e)},M=()=>{const t=h.current;return"BUTTON"===$||"INPUT"===$&&["button","submit","reset"].includes(null==t?void 0:t.type)||"A"===$&&(null==t?void 0:t.href)},S=t=>n=>{var r;e||null==(r=t.onClick)||r.call(t,n)},R=t=>n=>{var r;e||(v(!0),document.addEventListener("mouseup",(()=>{v(!1)}),{once:!0})),null==(r=t.onMouseDown)||r.call(t,n)},I=t=>n=>{var r,i;null==(r=t.onKeyDown)||r.call(t,n),n.defaultPrevented||(n.target!==n.currentTarget||M()||" "!==n.key||n.preventDefault(),n.target!==n.currentTarget||" "!==n.key||e||v(!0),n.target!==n.currentTarget||M()||"Enter"!==n.key||e||(null==(i=t.onClick)||i.call(t,n),n.preventDefault()))},L=t=>n=>{var r,i;n.target===n.currentTarget&&v(!1),null==(r=t.onKeyUp)||r.call(t,n),n.target!==n.currentTarget||M()||e||" "!==n.key||n.defaultPrevented||null==(i=t.onClick)||i.call(t,n)},O=o.useCallback((t=>{var e;C(null!=(e=null==t?void 0:t.tagName)?e:"")}),[]),P=(0,l.Z)(O,a,b,h),A={};return"BUTTON"===$?(A.type=null!=d?d:"button",n?A["aria-disabled"]=e:A.disabled=e):""!==$&&(i||c||(A.role="button",A.tabIndex=null!=u?u:0),e&&(A["aria-disabled"]=e,A.tabIndex=n?null!=u?u:0:-1)),{getRootProps:(e={})=>{const n=(0,f.Z)(t),i=(0,r.Z)({},n,e);return delete i.onFocusVisible,(0,r.Z)({type:d},i,A,{onBlur:k(i),onClick:S(i),onFocus:E(i),onKeyDown:I(i),onKeyUp:L(i),onMouseDown:R(i),onMouseLeave:_(i),ref:P})},focusVisible:w,setFocusVisible:x,disabled:e,active:p}}((0,r.Z)({},t,{focusableWhenDisabled:y}));o.useImperativeHandle(u,(()=>({focusVisible:()=>{k(!0),$.current.focus()}})),[k]);const M=(0,r.Z)({},t,{active:C,focusableWhenDisabled:y,focusVisible:_}),S=(t=>{const{active:e,disabled:n,focusVisible:r}=t,i={root:["root",n&&"disabled",r&&"focusVisible",e&&"active"]};return(0,a.Z)(i,(0,h.T)(c))})(M),R=x.href||x.to?"a":"button",I=null!=(n=null!=g?g:w.root)?n:R,L=(0,d.Z)({elementType:I,getSlotProps:E,externalForwardedProps:x,externalSlotProps:b.root,additionalProps:{ref:e},ownerState:M,className:S.root});return(0,p.jsx)(I,(0,r.Z)({},L,{children:m}))}))},78385:function(t,e,n){"use strict";var r=n(84481),i=n(97170),o=(n(45697),n(33703)),a=n(73546),u=n(7960),c=n(85893);const s=r.forwardRef((function(t,e){const{children:n,container:s,disablePortal:l=!1}=t,[f,d]=r.useState(null),h=(0,o.Z)(r.isValidElement(n)?n.ref:null,e);if((0,a.Z)((()=>{l||d(function(t){return"function"==typeof t?t():t}(s)||document.body)}),[s,l]),(0,a.Z)((()=>{if(f&&!l)return(0,u.Z)(e,f),()=>{(0,u.Z)(e,null)}}),[e,f,l]),l){if(r.isValidElement(n)){const t={ref:h};return r.cloneElement(n,t)}return(0,c.jsx)(r.Fragment,{children:n})}return(0,c.jsx)(r.Fragment,{children:f?i.createPortal(n,f):f})}));e.Z=s},31873:function(t,e,n){"use strict";n.d(e,{T:function(){return a}});var r=n(84481);n(85893);const i={disableDefaultClasses:!1},o=r.createContext(i);function a(t){const{disableDefaultClasses:e}=r.useContext(o);return n=>e?"":t(n)}},30437:function(t,e,n){"use strict";function r(t,e=[]){if(void 0===t)return{};const n={};return Object.keys(t).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof t[n]&&!e.includes(n))).forEach((e=>{n[e]=t[e]})),n}n.d(e,{Z:function(){return r}})},28442:function(t,e,n){"use strict";function r(t){return"string"==typeof t}n.d(e,{Z:function(){return r}})},54391:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(87462),i=n(63366),o=n(33703),a=n(28442);var u=n(86010),c=n(30437);function s(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"==typeof t[e]))).forEach((n=>{e[n]=t[n]})),e}const l=["elementType","externalSlotProps","ownerState"];function f(t){var e;const{elementType:n,externalSlotProps:f,ownerState:d}=t,h=(0,i.Z)(t,l),p=function(t,e){return"function"==typeof t?t(e):t}(f,d),{props:v,internalRef:m}=function(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:i,externalForwardedProps:o,className:a}=t;if(!e){const t=(0,u.Z)(null==o?void 0:o.className,null==i?void 0:i.className,a,null==n?void 0:n.className),e=(0,r.Z)({},null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),c=(0,r.Z)({},n,o,i);return t.length>0&&(c.className=t),Object.keys(e).length>0&&(c.style=e),{props:c,internalRef:void 0}}const l=(0,c.Z)((0,r.Z)({},o,i)),f=s(i),d=s(o),h=e(l),p=(0,u.Z)(null==h?void 0:h.className,null==n?void 0:n.className,a,null==o?void 0:o.className,null==i?void 0:i.className),v=(0,r.Z)({},null==h?void 0:h.style,null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),m=(0,r.Z)({},h,n,d,f);return p.length>0&&(m.className=p),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:h.ref}}((0,r.Z)({},h,{externalSlotProps:p})),g=(0,o.Z)(m,null==p?void 0:p.ref,null==(e=t.additionalProps)?void 0:e.ref),y=function(t,e,n){return void 0===t||(0,a.Z)(t)?e:(0,r.Z)({},e,{ownerState:(0,r.Z)({},e.ownerState,n)})}(n,(0,r.Z)({},v,{ref:g}),d);return y}},94780:function(t,e,n){"use strict";function r(t,e,n=void 0){const r={};return Object.keys(t).forEach((i=>{r[i]=t[i].reduce(((t,r)=>{if(r){const i=e(r);""!==i&&t.push(i),n&&n[r]&&t.push(n[r])}return t}),[]).join(" ")})),r}n.d(e,{Z:function(){return r}})},28562:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});const r=t=>t;var i=(()=>{let t=r;return{configure(e){t=e},generate(e){return t(e)},reset(){t=r}}})();const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function a(t,e,n="Mui"){const r=o[e];return r?`${n}-${r}`:`${i.generate(t)}-${e}`}},1588:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(28562);function i(t,e,n="Mui"){const i={};return e.forEach((e=>{i[e]=(0,r.Z)(t,e,n)})),i}},82690:function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}n.d(e,{Z:function(){return r}})},7960:function(t,e,n){"use strict";function r(t,e){"function"==typeof t?t(e):t&&(t.current=e)}n.d(e,{Z:function(){return r}})},19032:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(84481);function i({controlled:t,default:e,name:n,state:i="value"}){const{current:o}=r.useRef(void 0!==t),[a,u]=r.useState(e);return[o?t:a,r.useCallback((t=>{o||u(t)}),[])]}},73546:function(t,e,n){"use strict";var r=n(84481);const i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;e.Z=i},33703:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(84481),i=n(7960);function o(...t){return r.useMemo((()=>t.every((t=>null==t))?null:e=>{t.forEach((t=>{(0,i.Z)(t,e)}))}),t)}},99962:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(84481);let i,o=!0,a=!1;const u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(t){t.metaKey||t.altKey||t.ctrlKey||(o=!0)}function s(){o=!1}function l(){"hidden"===this.visibilityState&&a&&(o=!0)}function f(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(t){}return o||function(t){const{type:e,tagName:n}=t;return!("INPUT"!==n||!u[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}function d(){const t=r.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",c,!0),e.addEventListener("mousedown",s,!0),e.addEventListener("pointerdown",s,!0),e.addEventListener("touchstart",s,!0),e.addEventListener("visibilitychange",l,!0))}),[]),e=r.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!f(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(a=!0,window.clearTimeout(i),i=window.setTimeout((()=>{a=!1}),100),e.current=!1,!0)},ref:t}}},66931:function(t,e,n){"use strict";n.d(e,{zx:function(){return h},tS:function(){return r},hZ:function(){return i}});var r,i,o=n(85893),a=n(84481),u=n(94184),c=n.n(u),s=n(85239),l=n(87850),f=["variant","size","children","className","fullWidth"];!function(t){t.EXTRA_SMALL="extraSmall",t.SMALL="small",t.MEDIUM="medium",t.LARGE="large"}(r||(r={})),function(t){t.PRIMARY="primary",t.SECONDARY="secondary",t.TERTIARY="tertiary",t.HOLLOW="hollow"}(i||(i={}));var d=(0,a.forwardRef)((function(t,e){var n,a,u=t.variant,d=void 0===u?i.PRIMARY:u,h=t.size,p=void 0===h?r.SMALL:h,v=t.children,m=t.className,g=t.fullWidth,y=void 0!==g&&g,b=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,f),w=(0,l.F)("button"),x=c()(w.Button,w[d],w[p],((n={})[w.fullWidth]=y,n),m),$=c()(b.pendingClassName);return(0,o.jsx)(s.Z,Object.assign({},b,{className:c()(x,(a={},a[$]=b.pending,a)),ref:e,children:b.pending&&b.pendingChildren?b.pendingChildren:v}))}));d.displayName="Button";var h=d},91740:function(t,e,n){"use strict";n.d(e,{h:function(){return f}});var r=n(85893),i=n(84481),o=n(94184),a=n.n(o),u=n(87850),c=n(85239),s=["ariaLabel","children","className"];var l=(0,i.forwardRef)((function(t,e){var n=t.ariaLabel,i=t.children,o=t.className,l=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s),f=(0,u.F)("iconButton"),d=a()(f.IconButton,o);return(0,r.jsx)(c.Z,Object.assign({},l,{"aria-label":n,className:d,ref:e,children:i}))}));l.displayName="IconButton";var f=l},27868:function(t,e,n){"use strict";n.d(e,{r:function(){return l}});var r=n(85893),i=n(84481),o=n(94184),a=n.n(o),u=n(87850),c=["children","href","buttonStyleProps","ariaLabel","className"];var s=(0,i.forwardRef)((function(t,e){var n=t.children,i=t.href,o=t.buttonStyleProps,s=t.ariaLabel,l=t.className,f=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,c),d=(0,u.F)("link"),h=(0,u.F)("button"),p=o?function(t,e){var n,r=e.fullWidth,i=e.variant,o=e.size;return a()(t.Button,t[i],t[o],((n={})[t.fullWidth]=r,n))}(h,o):d.Link,v=a()(p,l);return(0,r.jsx)("a",Object.assign({},f,{ref:e,"aria-label":s,href:i,className:v,children:n}))}));s.displayName="Link";var l=s},20056:function(t,e,n){"use strict";n.d(e,{a:function(){return c},H:function(){return l}});var r=n(85893),i=n(94184),o=n.n(i),a=n(87850),u=["children","className","orderedList"];var c=function(t){var e=t.children,n=t.className,i=t.orderedList,c=void 0!==i&&i,s=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,u),l=(0,a.F)("list"),f=o()(l.List,n);return c?(0,r.jsx)("ol",Object.assign({},s,{className:f,children:e})):(0,r.jsx)("ul",Object.assign({},s,{className:f,children:e}))},s=["children","className"];var l=function(t){var e=t.children,n=t.className,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s),u=(0,a.F)("list"),c=o()(u.ListItem,n);return(0,r.jsx)("li",Object.assign({},i,{className:c,children:e}))}},69406:function(t,e,n){"use strict";n.d(e,{rs:function(){return O}});var r=n(85893),i=n(84481),o=n(94184),a=n.n(o),u=n(87462),c=n(63366),s=(n(45697),n(94780)),l=n(19032),f=n(99962),d=n(33703);var h=n(54391),p=n(31873),v=n(28562);function m(t){return(0,v.Z)("MuiSwitch",t)}(0,n(1588).Z)("MuiSwitch",["root","input","track","thumb","checked","disabled","focusVisible","readOnly"]);const g=["checked","component","defaultChecked","disabled","onBlur","onChange","onFocus","onFocusVisible","readOnly","required","slotProps","slots"],y=i.forwardRef((function(t,e){var n,o,a,v;const{checked:y,component:b,defaultChecked:w,disabled:x,onBlur:$,onChange:C,onFocus:_,onFocusVisible:k,readOnly:E,slotProps:M={},slots:S={}}=t,R=(0,c.Z)(t,g),I={checked:y,defaultChecked:w,disabled:x,onBlur:$,onChange:C,onFocus:_,onFocusVisible:k,readOnly:E},{getInputProps:L,checked:O,disabled:P,focusVisible:A,readOnly:T}=function(t){const{checked:e,defaultChecked:n,disabled:r,onBlur:o,onChange:a,onFocus:c,onFocusVisible:s,readOnly:h,required:p}=t,[v,m]=(0,l.Z)({controlled:e,default:Boolean(n),name:"Switch",state:"checked"}),g=t=>e=>{var n;e.nativeEvent.defaultPrevented||(m(e.target.checked),null==a||a(e),null==(n=t.onChange)||n.call(t,e))},{isFocusVisibleRef:y,onBlur:b,onFocus:w,ref:x}=(0,f.Z)(),[$,C]=i.useState(!1);r&&$&&C(!1),i.useEffect((()=>{y.current=$}),[$,y]);const _=i.useRef(null),k=t=>e=>{var n;_.current||(_.current=e.currentTarget),w(e),!0===y.current&&(C(!0),null==s||s(e)),null==c||c(e),null==(n=t.onFocus)||n.call(t,e)},E=t=>e=>{var n;b(e),!1===y.current&&C(!1),null==o||o(e),null==(n=t.onBlur)||n.call(t,e)},M=(0,d.Z)(x,_);return{checked:v,disabled:Boolean(r),focusVisible:$,getInputProps:(t={})=>(0,u.Z)({checked:e,defaultChecked:n,disabled:r,readOnly:h,ref:M,required:p,type:"checkbox"},t,{onChange:g(t),onFocus:k(t),onBlur:E(t)}),readOnly:Boolean(h)}}(I),j=(0,u.Z)({},t,{checked:O,disabled:P,focusVisible:A,readOnly:T}),B=(t=>{const{checked:e,disabled:n,focusVisible:r,readOnly:i}=t,o={root:["root",e&&"checked",n&&"disabled",r&&"focusVisible",i&&"readOnly"],thumb:["thumb"],input:["input"],track:["track"]};return(0,s.Z)(o,(0,p.T)(m))})(j),D=null!=(n=null!=b?b:S.root)?n:"span",N=(0,h.Z)({elementType:D,externalSlotProps:M.root,externalForwardedProps:R,additionalProps:{ref:e},ownerState:j,className:B.root}),z=null!=(o=S.thumb)?o:"span",F=(0,h.Z)({elementType:z,externalSlotProps:M.thumb,ownerState:j,className:B.thumb}),Z=null!=(a=S.input)?a:"input",H=(0,h.Z)({elementType:Z,getSlotProps:L,externalSlotProps:M.input,ownerState:j,className:B.input}),V=null===S.track?()=>null:null!=(v=S.track)?v:"span",U=(0,h.Z)({elementType:V,externalSlotProps:M.track,ownerState:j,className:B.track});return(0,r.jsxs)(D,(0,u.Z)({},N,{children:[(0,r.jsx)(V,(0,u.Z)({},U)),(0,r.jsx)(z,(0,u.Z)({},F)),(0,r.jsx)(Z,(0,u.Z)({},H))]}))}));var b=y,w=n(87850),x=n(3891),$=["className"];var C=function(t,e){var n=t.className,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,$),o=(0,x.jK)(i),u=(0,w.F)("switch"),c=a()(u.Thumb,n);return(0,r.jsx)("span",Object.assign({},o,{className:c,ref:e,"data-testid":"switch-thumb"}))},_=(0,i.forwardRef)(C),k=["className"];var E,M,S=function(t,e){var n=t.className,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,k),o=(0,x.jK)(i),u=(0,w.F)("switch"),c=a()(u.Track,n);return(0,r.jsx)("span",Object.assign({},o,{className:c,ref:e,"data-testid":"switch-track"}))},R=(0,i.forwardRef)(S),I=["checkedLabel","uncheckedLabel","className","ThumbComponent","thumbProps","TrackComponent","trackProps","id","variant","shape"];!function(t){t.PRIMARY="primary",t.SECONDARY="secondary"}(E||(E={})),function(t){t.ROUNDED="rounded",t.SQUARED="squared"}(M||(M={}));var L=(0,i.forwardRef)((function(t,e){var n,o,u,c,s=t.checkedLabel,l=t.uncheckedLabel,f=t.className,d=t.ThumbComponent,h=t.thumbProps,p=t.TrackComponent,v=t.trackProps,m=t.id,g=t.variant,y=void 0===g?E.PRIMARY:g,x=t.shape,$=void 0===x?M.ROUNDED:x,C=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,I),k=(0,w.F)("switch"),S=a()(k.Switch,f,k[y]),L=a()(k.InnerSwitch,((n={})[k.checked]=C.checked,n),((o={})[k.disabled]=C.disabled,o),k[$],k[y]),O=a()(k.Label,((u={})[k.checkedLabel]=!C.checked,u)),P=a()(k.Label,((c={})[k.checkedLabel]=C.checked,c)),A=(0,i.useMemo)((function(){return null!=(t=d)?t:_;var t}),[d]),T=(0,i.useMemo)((function(){return null!=(t=p)?t:R;var t}),[p]),j={"aria-label":C.checked?s:l,className:k.Checkbox,checked:C.checked,disabled:C.disabled,readOnly:C.readOnly,required:C.required,id:m};return(0,r.jsxs)("div",{className:S,children:[(0,r.jsx)("label",{htmlFor:m,className:O,children:l}),(0,r.jsx)(b,Object.assign({},C,{slots:{thumb:A,track:T},slotProps:{thumb:h,track:v,input:j},className:L,ref:e})),(0,r.jsx)("label",{htmlFor:m,className:P,children:s})]})}));L.displayName="Switch";var O=L},18050:function(t,e,n){"use strict";n.d(e,{u:function(){return Ht}});var r=n(85893),i=n(84481),o=n.n(i),a=n(94184),u=n.n(a),c=n(87850),s=n(87462),l=n(63366),f=n(33703),d=n(73546),h=n(82690);function p(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function v(t){return t instanceof p(t).Element||t instanceof Element}function m(t){return t instanceof p(t).HTMLElement||t instanceof HTMLElement}function g(t){return"undefined"!=typeof ShadowRoot&&(t instanceof p(t).ShadowRoot||t instanceof ShadowRoot)}var y=Math.max,b=Math.min,w=Math.round;function x(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function $(){return!/^((?!chrome|android).)*safari/i.test(x())}function C(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&m(t)&&(i=t.offsetWidth>0&&w(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&w(r.height)/t.offsetHeight||1);var a=(v(t)?p(t):window).visualViewport,u=!$()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/i,s=(r.top+(u&&a?a.offsetTop:0))/o,l=r.width/i,f=r.height/o;return{width:l,height:f,top:s,right:c+l,bottom:s+f,left:c,x:c,y:s}}function _(t){var e=p(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function k(t){return t?(t.nodeName||"").toLowerCase():null}function E(t){return((v(t)?t.ownerDocument:t.document)||window.document).documentElement}function M(t){return C(E(t)).left+_(t).scrollLeft}function S(t){return p(t).getComputedStyle(t)}function R(t){var e=S(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function I(t,e,n){void 0===n&&(n=!1);var r,i,o=m(e),a=m(e)&&function(t){var e=t.getBoundingClientRect(),n=w(e.width)/t.offsetWidth||1,r=w(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),u=E(e),c=C(t,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!n)&&(("body"!==k(e)||R(u))&&(s=(r=e)!==p(r)&&m(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:_(r)),m(e)?((l=C(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):u&&(l.x=M(u))),{x:c.left+s.scrollLeft-l.x,y:c.top+s.scrollTop-l.y,width:c.width,height:c.height}}function L(t){var e=C(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function O(t){return"html"===k(t)?t:t.assignedSlot||t.parentNode||(g(t)?t.host:null)||E(t)}function P(t){return["html","body","#document"].indexOf(k(t))>=0?t.ownerDocument.body:m(t)&&R(t)?t:P(O(t))}function A(t,e){var n;void 0===e&&(e=[]);var r=P(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=p(r),a=i?[o].concat(o.visualViewport||[],R(r)?r:[]):r,u=e.concat(a);return i?u:u.concat(A(O(a)))}function T(t){return["table","td","th"].indexOf(k(t))>=0}function j(t){return m(t)&&"fixed"!==S(t).position?t.offsetParent:null}function B(t){for(var e=p(t),n=j(t);n&&T(n)&&"static"===S(n).position;)n=j(n);return n&&("html"===k(n)||"body"===k(n)&&"static"===S(n).position)?e:n||function(t){var e=/firefox/i.test(x());if(/Trident/i.test(x())&&m(t)&&"fixed"===S(t).position)return null;var n=O(t);for(g(n)&&(n=n.host);m(n)&&["html","body"].indexOf(k(n))<0;){var r=S(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var D="top",N="bottom",z="right",F="left",Z="auto",H=[D,N,z,F],V="start",U="end",W="clippingParents",q="viewport",G="popper",K="reference",Y=H.reduce((function(t,e){return t.concat([e+"-"+V,e+"-"+U])}),[]),X=[].concat(H,[Z]).reduce((function(t,e){return t.concat([e,e+"-"+V,e+"-"+U])}),[]),J=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Q(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}var tt={placement:"bottom",modifiers:[],strategy:"absolute"};function et(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function nt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?tt:i;return function(t,e,n){void 0===n&&(n=o);var i,a,u={placement:"bottom",orderedModifiers:[],options:Object.assign({},tt,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],s=!1,l={state:u,setOptions:function(n){var i="function"==typeof n?n(u.options):n;f(),u.options=Object.assign({},o,u.options,i),u.scrollParents={reference:v(t)?A(t):t.contextElement?A(t.contextElement):[],popper:A(e)};var a,s,d=function(t){var e=Q(t);return J.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(r,u.options.modifiers),s=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(s).map((function(t){return s[t]}))));return u.orderedModifiers=d.filter((function(t){return t.enabled})),u.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var o=i({state:u,name:e,instance:l,options:r}),a=function(){};c.push(o||a)}})),l.update()},forceUpdate:function(){if(!s){var t=u.elements,e=t.reference,n=t.popper;if(et(e,n)){u.rects={reference:I(e,B(n),"fixed"===u.options.strategy),popper:L(n)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach((function(t){return u.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<u.orderedModifiers.length;r++)if(!0!==u.reset){var i=u.orderedModifiers[r],o=i.fn,a=i.options,c=void 0===a?{}:a,f=i.name;"function"==typeof o&&(u=o({state:u,options:c,name:f,instance:l})||u)}else u.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){l.forceUpdate(),t(u)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(i())}))}))),a}),destroy:function(){f(),s=!0}};if(!et(t,e))return l;function f(){c.forEach((function(t){return t()})),c=[]}return l.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var rt={passive:!0};function it(t){return t.split("-")[0]}function ot(t){return t.split("-")[1]}function at(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ut(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?it(i):null,a=i?ot(i):null,u=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case D:e={x:u,y:n.y-r.height};break;case N:e={x:u,y:n.y+n.height};break;case z:e={x:n.x+n.width,y:c};break;case F:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var s=o?at(o):null;if(null!=s){var l="y"===s?"height":"width";switch(a){case V:e[s]=e[s]-(n[l]/2-r[l]/2);break;case U:e[s]=e[s]+(n[l]/2-r[l]/2)}}return e}var ct={top:"auto",right:"auto",bottom:"auto",left:"auto"};function st(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,u=t.position,c=t.gpuAcceleration,s=t.adaptive,l=t.roundOffsets,f=t.isFixed,d=a.x,h=void 0===d?0:d,v=a.y,m=void 0===v?0:v,g="function"==typeof l?l({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),x=F,$=D,C=window;if(s){var _=B(n),k="clientHeight",M="clientWidth";if(_===p(n)&&"static"!==S(_=E(n)).position&&"absolute"===u&&(k="scrollHeight",M="scrollWidth"),i===D||(i===F||i===z)&&o===U)$=N,m-=(f&&_===C&&C.visualViewport?C.visualViewport.height:_[k])-r.height,m*=c?1:-1;if(i===F||(i===D||i===N)&&o===U)x=z,h-=(f&&_===C&&C.visualViewport?C.visualViewport.width:_[M])-r.width,h*=c?1:-1}var R,I=Object.assign({position:u},s&&ct),L=!0===l?function(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:w(n*i)/i||0,y:w(r*i)/i||0}}({x:h,y:m},p(n)):{x:h,y:m};return h=L.x,m=L.y,c?Object.assign({},I,((R={})[$]=b?"0":"",R[x]=y?"0":"",R.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",R)):Object.assign({},I,((e={})[$]=b?m+"px":"",e[x]=y?h+"px":"",e.transform="",e))}var lt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=X.reduce((function(t,n){return t[n]=function(t,e,n){var r=it(t),i=[F,D].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[F,z].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}(n,e.rects,o),t}),{}),u=a[e.placement],c=u.x,s=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=s),e.modifiersData[r]=a}},ft={left:"right",right:"left",bottom:"top",top:"bottom"};function dt(t){return t.replace(/left|right|bottom|top/g,(function(t){return ft[t]}))}var ht={start:"end",end:"start"};function pt(t){return t.replace(/start|end/g,(function(t){return ht[t]}))}function vt(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&g(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function gt(t,e,n){return e===q?mt(function(t,e){var n=p(t),r=E(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,u=0,c=0;if(i){o=i.width,a=i.height;var s=$();(s||!s&&"fixed"===e)&&(u=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:u+M(t),y:c}}(t,n)):v(e)?function(t,e){var n=C(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):mt(function(t){var e,n=E(t),r=_(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=y(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=y(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+M(t),c=-r.scrollTop;return"rtl"===S(i||n).direction&&(u+=y(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:u,y:c}}(E(t)))}function yt(t,e,n,r){var i="clippingParents"===e?function(t){var e=A(O(t)),n=["absolute","fixed"].indexOf(S(t).position)>=0&&m(t)?B(t):t;return v(n)?e.filter((function(t){return v(t)&&vt(t,n)&&"body"!==k(t)})):[]}(t):[].concat(e),o=[].concat(i,[n]),a=o[0],u=o.reduce((function(e,n){var i=gt(t,n,r);return e.top=y(i.top,e.top),e.right=b(i.right,e.right),e.bottom=b(i.bottom,e.bottom),e.left=y(i.left,e.left),e}),gt(t,a,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function bt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function wt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function xt(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,a=void 0===o?t.strategy:o,u=n.boundary,c=void 0===u?W:u,s=n.rootBoundary,l=void 0===s?q:s,f=n.elementContext,d=void 0===f?G:f,h=n.altBoundary,p=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,y=bt("number"!=typeof g?g:wt(g,H)),b=d===G?K:G,w=t.rects.popper,x=t.elements[p?b:d],$=yt(v(x)?x:x.contextElement||E(t.elements.popper),c,l,a),_=C(t.elements.reference),k=ut({reference:_,element:w,strategy:"absolute",placement:i}),M=mt(Object.assign({},w,k)),S=d===G?M:_,R={top:$.top-S.top+y.top,bottom:S.bottom-$.bottom+y.bottom,left:$.left-S.left+y.left,right:S.right-$.right+y.right},I=t.modifiersData.offset;if(d===G&&I){var L=I[i];Object.keys(R).forEach((function(t){var e=[z,N].indexOf(t)>=0?1:-1,n=[D,N].indexOf(t)>=0?"y":"x";R[t]+=L[n]*e}))}return R}function $t(t,e,n){return y(t,b(e,n))}var Ct={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,u=void 0!==a&&a,c=n.boundary,s=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=xt(e,{boundary:c,rootBoundary:s,padding:f,altBoundary:l}),g=it(e.placement),w=ot(e.placement),x=!w,$=at(g),C="x"===$?"y":"x",_=e.modifiersData.popperOffsets,k=e.rects.reference,E=e.rects.popper,M="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,S="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(_){if(o){var O,P="y"===$?D:F,A="y"===$?N:z,T="y"===$?"height":"width",j=_[$],Z=j+m[P],H=j-m[A],U=h?-E[T]/2:0,W=w===V?k[T]:E[T],q=w===V?-E[T]:-k[T],G=e.elements.arrow,K=h&&G?L(G):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=Y[P],J=Y[A],Q=$t(0,k[T],K[T]),tt=x?k[T]/2-U-Q-X-S.mainAxis:W-Q-X-S.mainAxis,et=x?-k[T]/2+U+Q+J+S.mainAxis:q+Q+J+S.mainAxis,nt=e.elements.arrow&&B(e.elements.arrow),rt=nt?"y"===$?nt.clientTop||0:nt.clientLeft||0:0,ut=null!=(O=null==R?void 0:R[$])?O:0,ct=j+et-ut,st=$t(h?b(Z,j+tt-ut-rt):Z,j,h?y(H,ct):H);_[$]=st,I[$]=st-j}if(u){var lt,ft="x"===$?D:F,dt="x"===$?N:z,ht=_[C],pt="y"===C?"height":"width",vt=ht+m[ft],mt=ht-m[dt],gt=-1!==[D,F].indexOf(g),yt=null!=(lt=null==R?void 0:R[C])?lt:0,bt=gt?vt:ht-k[pt]-E[pt]-yt+S.altAxis,wt=gt?ht+k[pt]+E[pt]-yt-S.altAxis:mt,Ct=h&&gt?function(t,e,n){var r=$t(t,e,n);return r>n?n:r}(bt,ht,wt):$t(h?bt:vt,ht,h?wt:mt);_[C]=Ct,I[C]=Ct-ht}e.modifiersData[r]=I}},requiresIfExists:["offset"]};var _t={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,u=it(n.placement),c=at(u),s=[F,z].indexOf(u)>=0?"height":"width";if(o&&a){var l=function(t,e){return bt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:wt(t,H))}(i.padding,n),f=L(o),d="y"===c?D:F,h="y"===c?N:z,p=n.rects.reference[s]+n.rects.reference[c]-a[c]-n.rects.popper[s],v=a[c]-n.rects.reference[c],m=B(o),g=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[d],w=g-f[s]-l[h],x=g/2-f[s]/2+y,$=$t(b,x,w),C=c;n.modifiersData[r]=((e={})[C]=$,e.centerOffset=$-x,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&vt(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Et(t){return[D,z,N,F].some((function(e){return t[e]>=0}))}var Mt=nt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,u=void 0===a||a,c=p(e.elements.popper),s=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&s.forEach((function(t){t.addEventListener("scroll",n.update,rt)})),u&&c.addEventListener("resize",n.update,rt),function(){o&&s.forEach((function(t){t.removeEventListener("scroll",n.update,rt)})),u&&c.removeEventListener("resize",n.update,rt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=ut({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,u=n.roundOffsets,c=void 0===u||u,s={placement:it(e.placement),variation:ot(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,st(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,st(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];m(i)&&k(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});m(r)&&k(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},lt,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,u=void 0===a||a,c=n.fallbackPlacements,s=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=e.options.placement,g=it(m),y=c||(g===m||!p?[dt(m)]:function(t){if(it(t)===Z)return[];var e=dt(t);return[pt(t),e,pt(e)]}(m)),b=[m].concat(y).reduce((function(t,n){return t.concat(it(n)===Z?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,s=void 0===c?X:c,l=ot(r),f=l?u?Y:Y.filter((function(t){return ot(t)===l})):H,d=f.filter((function(t){return s.indexOf(t)>=0}));0===d.length&&(d=f);var h=d.reduce((function(e,n){return e[n]=xt(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[it(n)],e}),{});return Object.keys(h).sort((function(t,e){return h[t]-h[e]}))}(e,{placement:n,boundary:l,rootBoundary:f,padding:s,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),w=e.rects.reference,x=e.rects.popper,$=new Map,C=!0,_=b[0],k=0;k<b.length;k++){var E=b[k],M=it(E),S=ot(E)===V,R=[D,N].indexOf(M)>=0,I=R?"width":"height",L=xt(e,{placement:E,boundary:l,rootBoundary:f,altBoundary:d,padding:s}),O=R?S?z:F:S?N:D;w[I]>x[I]&&(O=dt(O));var P=dt(O),A=[];if(o&&A.push(L[M]<=0),u&&A.push(L[O]<=0,L[P]<=0),A.every((function(t){return t}))){_=E,C=!1;break}$.set(E,A)}if(C)for(var T=function(t){var e=b.find((function(e){var n=$.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return _=e,"break"},j=p?3:1;j>0;j--){if("break"===T(j))break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Ct,_t,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=xt(e,{elementContext:"reference"}),u=xt(e,{altBoundary:!0}),c=kt(a,r),s=kt(u,i,o),l=Et(c),f=Et(s);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:s,isReferenceHidden:l,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),St=(n(45697),n(94780)),Rt=n(78385),It=n(28562);function Lt(t){return(0,It.Z)("MuiPopper",t)}(0,n(1588).Z)("MuiPopper",["root"]);var Ot=n(54391),Pt=n(31873);const At=["anchorEl","children","component","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Tt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function jt(t){return"function"==typeof t?t():t}function Bt(t){return void 0!==t.nodeType}const Dt={},Nt=i.forwardRef((function(t,e){var n;const{anchorEl:o,children:a,component:u,direction:c,disablePortal:h,modifiers:p,open:v,placement:m,popperOptions:g,popperRef:y,slotProps:b={},slots:w={},TransitionProps:x}=t,$=(0,l.Z)(t,At),C=i.useRef(null),_=(0,f.Z)(C,e),k=i.useRef(null),E=(0,f.Z)(k,y),M=i.useRef(E);(0,d.Z)((()=>{M.current=E}),[E]),i.useImperativeHandle(y,(()=>k.current),[]);const S=function(t,e){if("ltr"===e)return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(m,c),[R,I]=i.useState(S),[L,O]=i.useState(jt(o));i.useEffect((()=>{k.current&&k.current.forceUpdate()})),i.useEffect((()=>{o&&O(jt(o))}),[o]),(0,d.Z)((()=>{if(!L||!v)return;let t=[{name:"preventOverflow",options:{altBoundary:h}},{name:"flip",options:{altBoundary:h}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:t})=>{I(t.placement)}}];null!=p&&(t=t.concat(p)),g&&null!=g.modifiers&&(t=t.concat(g.modifiers));const e=Mt(L,C.current,(0,s.Z)({placement:S},g,{modifiers:t}));return M.current(e),()=>{e.destroy(),M.current(null)}}),[L,h,p,v,g,S]);const P={placement:R};null!==x&&(P.TransitionProps=x);const A=(0,St.Z)({root:["root"]},(0,Pt.T)(Lt)),T=null!=(n=null!=u?u:w.root)?n:"div",j=(0,Ot.Z)({elementType:T,externalSlotProps:b.root,externalForwardedProps:$,additionalProps:{role:"tooltip",ref:_},ownerState:t,className:A.root});return(0,r.jsx)(T,(0,s.Z)({},j,{children:"function"==typeof a?a(P):a}))}));var zt=i.forwardRef((function(t,e){const{anchorEl:n,children:o,container:a,direction:u="ltr",disablePortal:c=!1,keepMounted:f=!1,modifiers:d,open:p,placement:v="bottom",popperOptions:m=Dt,popperRef:g,style:y,transition:b=!1,slotProps:w={},slots:x={}}=t,$=(0,l.Z)(t,Tt),[C,_]=i.useState(!0);if(!f&&!p&&(!b||C))return null;let k;if(a)k=a;else if(n){const t=jt(n);k=t&&Bt(t)?(0,h.Z)(t).body:(0,h.Z)(null).body}const E=p||!f||b&&!C?void 0:"none",M=b?{in:p,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:void 0;return(0,r.jsx)(Rt.Z,{disablePortal:c,container:k,children:(0,r.jsx)(Nt,(0,s.Z)({anchorEl:n,direction:u,disablePortal:c,modifiers:d,ref:e,open:b?!C:p,placement:v,popperOptions:m,popperRef:g,slotProps:w,slots:x},$,{style:(0,s.Z)({position:"fixed",top:0,left:0,display:E},y),TransitionProps:M,children:o}))})})),Ft=n(90604),Zt=["children","content","className"];var Ht=function(t){var e=t.children,n=t.content,a=t.className,s=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Zt),l=(0,i.useRef)(null),f=(0,i.useRef)(null),d=o().useState(null),h=d[0],p=d[1],v=(0,i.useState)(!1),m=v[0],g=v[1],y=(0,c.F)("tooltip"),b=(0,i.useCallback)((function(){g(!0)}),[]),w=(0,i.useCallback)((function(){g(!1)}),[]),x=(0,i.useMemo)((function(){var t;if(f.current)return null==(t=f.current.children)?void 0:t[0]}),[f.current]),$=(0,i.useMemo)((function(){return[{name:"arrow",enabled:Boolean(h),options:{element:h}}]}),[h]);return(0,r.jsxs)("div",{className:y.contentWrapper,ref:f,onMouseEnter:b,onFocus:b,onMouseLeave:w,onBlur:w,children:[o().Children.only(e),(0,r.jsx)(Ft.Transition,{in:m,timeout:200,nodeRef:l,unmountOnExit:!0,children:function(t){return(0,r.jsxs)(zt,Object.assign({},s,{ref:l,anchorEl:x,open:!0,className:u()(y.tooltip,a,y[t]),modifiers:$,disablePortal:!0,children:[(0,r.jsx)("div",{className:u()(y.tooltipContentWrapper),children:n}),(0,r.jsx)("span",{className:y.arrow,ref:p})]}))}})]})}},57561:function(t,e,n){"use strict";n.d(e,{ZT:function(){return p},dh:function(){return l},O3:function(){return r}});var r,i,o=n(85893),a=n(94184),u=n.n(a),c=(n(2043),n(87850)),s=["component","variant","children","className"];!function(t){t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.BODY1="body1",t.BODY2="body2",t.CAPTION="caption",t.LEGAL="legal"}(r||(r={})),function(t){t["title.xxxLarge"]="title.xxxLarge",t["title.xxLarge"]="title.xxLarge",t["title.xLarge"]="title.xLarge",t["title.large"]="title.large",t["title.medium"]="title.medium",t["title.small"]="title.small",t["body.large"]="body.large",t["body.small"]="body.small",t["tertiary.small"]="tertiary.small",t["tertiary.large"]="tertiary.large"}(i||(i={}));var l,f={title:{xxxLarge:i["title.xxxLarge"],xxLarge:i["title.xxLarge"],xLarge:i["title.xLarge"],large:i["title.large"],medium:i["title.medium"],small:i["title.small"]},body:{large:i["body.large"],small:i["body.small"]},tertiary:{large:i["tertiary.large"],small:i["tertiary.small"]}};!function(t){t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.P="p",t.SPAN="span",t.CAPTION="caption",t.DIV="div"}(l||(l={}));var d=function(t){0},h=f.body.small,p=function(t){var e=t.component,n=void 0===e?l.P:e,i=t.variant,a=void 0===i?h:i,p=t.children,v=t.className,m=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s),g=function(t){switch(t){case r.H1:return d(),f.title.xxxLarge;case r.H2:return d(),f.title.xxLarge;case r.H3:return d(),f.title.xLarge;case r.H4:return d(),f.title.large;case r.H5:return d(),f.title.medium;case r.H6:return d(),f.title.small;case r.BODY1:return d(),f.body.small;case r.BODY2:return d(),f.body.large;case r.CAPTION:return d(),f.tertiary.large;case r.LEGAL:return d(),f.tertiary.small;default:return t}}(a).replace(".","_"),y=(0,c.F)("typography"),b=y[g],w=u()(y.typography,b,v),x=n;return(0,o.jsx)(x,Object.assign({},m,{className:w,children:p}))}},3891:function(t,e,n){"use strict";n.d(e,{jK:function(){return i}});var r,i=function(t){var e=Object.assign({},t);return delete e.ownerState,e};n(84481);!function(t){t.ENTER="enter",t.EXIT="exit"}(r||(r={}))},80977:function(t,e,n){"use strict";var r=n(84481),i=(0,r.createContext)([]);e.Z=i},38098:function(t,e,n){"use strict";var r=n(85893),i=n(84481),o=n(80977);e.Z=function(t,e){return function(n){var a=(0,i.useContext)(o.Z),u=(0,i.useMemo)((function(){return[].concat(a,[e])}),[a,e]);return t.displayName="TrackingLocation("+e+")",(0,r.jsx)(o.Z.Provider,{value:u,children:(0,r.jsx)(t,Object.assign({},n))})}}},18930:function(t,e,n){"use strict";var r=n(84481),i=n(80977);e.Z=function(){var t=(0,r.useContext)(i.Z);return(0,r.useMemo)((function(){return 0===t.length?void 0:t.join("-")}),[t])}},97871:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e;return{event:"asset_interaction",event_name:"select_asset",asset_interaction:"select_asset",ui_element_location:null!=(e=t.ui_element_location)?e:"thumbnail",asset_id:t.asset_id,asset_type:t.asset_type,asset_family:t.asset_family,istock_collection:t.istock_collection,has_nudity:t.has_nudity}}))},21499:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e,n;return{event:"cta_interaction",event_name:null!=(e=t.cta_interaction)?e:"cta_clicked",cta_interaction:null!=(n=t.cta_interaction)?n:"cta_clicked",cta_text:t.cta_text,cta_url:t.cta_url,ui_element_location:t.ui_element_location}}))},75328:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e=t.asset_details,n=t.download_selection,r=void 0===n?null:n,i=t.ui_element_location,o=void 0===i?null:i;return{event:"download_interaction",event_name:"initiate_download",download_interaction:"initiate_download",download_selection:r,asset_id:e.asset_id,asset_type:e.asset_type,asset_family:e.asset_family,asset_category:e.asset_category,asset_size:e.asset_size,ui_element_location:o}}))},51155:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){return{event:"error_message_interaction",event_name:"error_message_shown",error_message_interaction:"error_message_shown",error_message_selection:t.error_message_selection,error_message_name:t.error_message_name,ui_element_location:t.ui_element_location}}))},31465:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e=t.event_name,n=t.member_interaction;return{event:"member_management_interaction",event_name:e,member_interaction:null!=n?n:e,member_selection:t.member_selection,ui_element_location:t.ui_element_location}}))},3871:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e=t.event_name,n=t.notification_description,r=t.ui_element_location,i=t.item_id,o=t.creative_name,a=t.item_name,u=t.coupon,c=t.item_category;return"dismiss_promotion"===e?{event:e,event_name:e,notification_interaction:"view_promotion",notification_description:n,notification_type:"promotion",ui_element_location:r,item_id:i,item_name:a,creative_name:o,promotion_name:n,coupon:u}:{event:e,event_name:e,notification_interaction:"view_promotion",notification_description:n,notification_type:"promotion",ui_element_location:r,item_id:i,ecommerce:{creative_name:o,promotion_name:n,items:[{item_id:i,item_name:a,coupon:u,location_id:r,item_category:c}]}}}))},97355:function(t,e,n){"use strict";n.d(e,{M:function(){return r}});var r=(0,n(17129).Qg)((function(t){var e=t.event_name;return{event:"search_interaction",event_name:e,search_interaction:e,search_selection:t.search_selection,ui_element_location:t.ui_element_location,search_grid_slot_number:t.search_grid_slot_number}}))},23369:function(t,e,n){"use strict";var r=n(31120),i=n(65727),o=n(17129);e.Z=(0,o.Qg)((function(t){var e=t.billing_currency,n=t.products,o=t.ui_element_location,a=t.item_list_id,u=t.item_list_name,c=t.price,s=(0,r.$8)(n);return{event:"select_item",event_name:"select_item",item_id:s.map((function(t){return t.item_id})).join(","),ui_element_location:o,item_list_id:a,item_list_name:u,ecommerce:{value:(0,i.FW)(c,e),currency:"USD",items:s}}}))},63988:function(t,e,n){"use strict";var r=n(31120),i=n(17129);e.Z=(0,i.Qg)((function(t){var e=t.products,n=t.ui_element_location,i=(0,r.$8)(e);return{event:"view_item",event_name:"view_item",item_id:i.map((function(t){return t.item_id})).join(","),ui_element_location:n,ecommerce:{items:i}}}))},33176:function(t,e,n){"use strict";n.d(e,{xG:function(){return i}});var r={AED:{currencyDisplay:"narrowSymbol"},ARS:{currencyDisplay:"narrowSymbol",locale:"es-AR",customFormat:{currency:"AR$"}},AUD:{currencyDisplay:"narrowSymbol"},BRL:{currencyDisplay:"narrowSymbol"},CAD:{currencyDisplay:"narrowSymbol"},CHF:{currencyDisplay:"narrowSymbol",customFormat:{currency:"Fr."},locale:"de-CH"},CLP:{currencyDisplay:"narrowSymbol",customFormat:{currency:"CH$"},locale:"es-CL"},COP:{currencyDisplay:"narrowSymbol",customFormat:{currency:"COL$"},locale:"es-CO"},DKK:{currencyDisplay:"narrowSymbol",customFormat:{currency:"kr. ",symbolPlacement:"left"},locale:"da"},EUR:{},"EUR-FRA":{currencyDisplay:"narrowSymbol",customFormat:{group:" "}},"EUR-IRL":{currencyDisplay:"narrowSymbol",customFormat:{currency:" €",symbolPlacement:"right"},locale:"en-IE"},GBP:{currencyDisplay:"narrowSymbol"},HKD:{currencyDisplay:"symbol"},INR:{currencyDisplay:"narrowSymbol",locale:"hi-IN"},JPY:{currencyDisplay:"narrowSymbol"},KRW:{currencyDisplay:"narrowSymbol"},MXN:{currencyDisplay:"narrowSymbol",customFormat:{currency:"MX$",symbolPlacement:"left"},locale:"es-MX"},MYR:{currencyDisplay:"narrowSymbol"},NOK:{currencyDisplay:"narrowSymbol"},NZD:{currencyDisplay:"narrowSymbol"},PEN:{customFormat:{group:"."},currencyDisplay:"narrowSymbol",locale:"es-PE"},PHP:{currencyDisplay:"narrowSymbol"},SEK:{currencyDisplay:"narrowSymbol",customFormat:{currency:"kr ",decimal:".",group:",",symbolPlacement:"left"},locale:"sv-SE"},SGD:{currencyDisplay:"narrowSymbol"},THB:{currencyDisplay:"narrowSymbol"},TRY:{currencyDisplay:"narrowSymbol"},USD:{currencyDisplay:"narrowSymbol",locale:"en-us"}},i=function(t,e,n,i){void 0===i&&(i={});var o,a=function(t,e,n){var i=t;"EUR"===t&&"en-gb"===e&&(i="EUR-IRL"),"EUR"===t&&"fr"===e&&(i="EUR-FRA");var o=r[i];return[Object.assign({style:"currency",currency:o?t:"USD",currencyDisplay:null==o?void 0:o.currencyDisplay},n),o||r.USD]}(n,e,i),u=a[0],c=a[1],s=(null==c?void 0:c.locale)||e,l=t;!1===i.includeCents&&(l=Math.ceil(t));try{o=new Intl.NumberFormat(s,Object.assign({},u))}catch(t){if(!((t instanceof RangeError||t instanceof TypeError)&&"narrowSymbol"===u.currencyDisplay))throw t;o=new Intl.NumberFormat(s,Object.assign({},u,{currencyDisplay:"symbol"}))}return null!=c&&c.customFormat?function(t,e,n,r){var i=t.formatToParts(e);n.symbolPlacement&&function(t,e){var n=t.findIndex((function(t){return"currency"===t.type})),r=t[n];t.splice(n,1),"left"===e?t.unshift(r):t.push(r)}(i,n.symbolPlacement);var o=i.map((function(t){var e=r.currencyDisplay&&"currency"===t.type;return n[t.type]&&!e&&(t.value=n[t.type]),t.value})).join("").trim();return o}(o,l,c.customFormat,i):o.format(l)}},23967:function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.r(e);var o=function(){function t(){}var e=t.prototype;return e._parseQuery=function(t){for(var e,n={},i="image",o=r(t.toLowerCase().split("&"));!(e=o()).done;){var a=e.value,u=Array.from(a.split("=")),c=u[0],s=u[1];"assettype"===c&&(i=s),this._addItem(n,c,decodeURIComponent(s))}return n.assettype||this._addItem(n,"assettype",i),[n,i]},e._addItem=function(t,e,n){return t[e]||(t[e]={}),t[e][n]=n,!0},e._buildQuery=function(t){var e=this._parseQuery(t),n=e[0],r=e[1],i=["language","contracturl","assettype"],o=[];for(var a in n){var u=n[a];if(!i.contains(a))for(var c in u){var s=u[c];""!==s&&o.push(a+"="+encodeURIComponent(s))}}return[o.join("&"),r]},e.parseQuery=function(t){return this._parseQuery(t)},e.normalizeUrl=function(t){var e=t.split("?"),n=e[0];if(e.length>1){var r=e[1],i=this._buildQuery(r),o=i[0];i[1];return[n+"?"+o,r]}return[n,""]},e.normalizeUrlFromQuery=function(t){var e=this._buildQuery(t),n=e[0],r=e[1];return["/search/2/"+r+"?"+n,r]},t}();e.default=o},90847:function(t,e){"use strict";function n(){n=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:M(t,n,u)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",m="completed",g={};function y(){}function b(){}function w(){}var x={};l(x,u,(function(){return this}));var $=Object.getPrototypeOf,C=$&&$($(O([])));C&&C!==r&&i.call(C,u)&&(x=C);var _=w.prototype=y.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(r,o,a,u){var c=d(t[r],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var r;o(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}})}function M(e,n,r){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?m:p,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=m,r.method="throw",r.arg=s.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(_),l(_,s,"Generator"),l(_,u,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function r(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function u(t){r(a,i,o,u,c,"next",t)}function c(t){r(a,i,o,u,c,"throw",t)}u(void 0)}))}}var o=new Promise((function(t){"undefined"!=typeof window&&document.addEventListener("CNSClients:ready",(function(e){return t(e.detail.clients)}),{once:!0})})),a=function(){var t=i(n().mark((function t(){var e,r,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Promise((function(t,n){e=setTimeout((function(){return n(new Error("CNS Clients timeout"))}),500)})),t.next=3,Promise.race([o,r]);case 3:return i=t.sent,clearTimeout(e),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=i(n().mark((function t(e){var r,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:if(r=t.sent,i=r.get(e)){t.next=6;break}throw new Error(e+" not found");case 6:return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.Z=u},5146:function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return o}});var o=function(){function t(){}return t.decodeQueryParams=function(t){var e=new URLSearchParams(t);return Object.fromEntries(e.entries())},t.encodeQueryParams=function(t){for(var e,n=[],i=r(Object.keys(t).sort());!(e=i()).done;){var o=e.value;n.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]))}return n.join("&")},t.appendQueryParamsToString=function(t,e){var n=t.split("?"),r=n[0],i=n[1],o=i||"",a=this.encodeQueryParams(e);return i&&a&&(o=o.concat("&")),(o=o.concat(a))?r.concat("?").concat(o):r},t}()},58032:function(t,e,n){"use strict";n.d(e,{F5:function(){return j$},jZ:function(){return At},xI:function(){return Dt},qR:function(){return Ft},OW:function(){return Ht},Rc:function(){return Wt},e6:function(){return Gt},_y:function(){return Ct},S2:function(){return Ni},ML:function(){return Ot},vs:function(){return QC},rK:function(){return vC},x1:function(){return UC},bA:function(){return Ie},cw:function(){return ok},zt:function(){return _t},y6:function(){return _i},rY:function(){return Ye},a5:function(){return ji},$o:function(){return st},wW:function(){return ft},fV:function(){return Q},AA:function(){return pt},Zo:function(){return ot},L$:function(){return J},b5:function(){return $t},x4:function(){return dt}});var r=n(84481),i=n.n(r),o=function(t){var e=t.backgroundRemoved,n=t.backgroundBlurred,r=t.removedObjects,i=[];void 0!==e&&i.push({value:"image_adp_background_removed",included:e}),void 0!==n&&i.push({value:"image_adp_background_blurred",included:n}),void 0!==r&&i.push({value:"image_adp_objects_removed",included:r.size>0}),function(t){if(window.tracking_data){var e=window.tracking_data.page_mode,n=e?e.split("|"):[];t.forEach((function(t){var e,r,i=t.value,o=t.included;n=o?(r=i,(e=n).includes(r)||e.push(r),e):function(t,e){return t.filter((function(t){return t!==e}))}(n,i)})),window.tracking_data.page_mode=n.join("|")}}(i)},a=function(t){return o({backgroundRemoved:t})},u=function(t){return o({backgroundBlurred:t})},c=function(t){return o({removedObjects:t})};function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=function(t,e){if(0===t.size)return{removed:0,restored:0};for(var n,r=0,i=0,o=s(t);!(n=o()).done;){var a=n.value;e.has(a)?i+=1:r+=1}return{removed:r,restored:i}};function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p,v=function(t,e){for(var n,r=new Set(t),i=d(e);!(n=i()).done;){var o=n.value;r.has(o)?r.delete(o):r.add(o)}return r},m=function(){},g=function(){},y=(0,r.createContext)({objects:[],hoveredListItem:null,objectListHovered:!1,maskingCoordinates:new Set,modificationCount:null,removedObjects:new Set,selectedObjects:new Set,addObjectMask:m,removeObjectMask:m,addHoveredListItem:m,removeHoveredListItem:g,modifyObjects:g,toggleObjectListHovered:g,toggleObjectSelected:m,clearMaskingAndHoverData:g,resetAllObjects:g,hasRemovedObjectsChange:function(){return!1},setModificationCount:function(){},setRemovedObjects:function(){}}),b=function(t){var e=t.objects,n=t.initialRemovedObjects,o=t.children,a=(0,r.useState)({removed:0,restored:0}),u=a[0],s=a[1],l=(0,r.useState)(!1),d=l[0],h=l[1],p=(0,r.useState)(null),m=p[0],g=p[1],b=(0,r.useState)(new Set(n)),w=b[0],x=b[1],$=(0,r.useState)(new Set),C=$[0],_=$[1],k=(0,r.useState)(new Set),E=k[0],M=k[1],S=(0,r.useCallback)((function(t){c(t),x(t)}),[c,x]),R=(0,r.useCallback)((function(t){E.has(t.coordinates)||(E.add(t.coordinates),M(new Set(E)))}),[E]),I=(0,r.useCallback)((function(t){C.has(t)||E.has(t.coordinates)&&(E.delete(t.coordinates),M(new Set(E)))}),[C,E]),L=(0,r.useCallback)((function(t){g(t)}),[]),O=(0,r.useCallback)((function(){g(null)}),[]),P=(0,r.useCallback)((function(){h(!d)}),[d]),A=(0,r.useCallback)((function(t){C.has(t)?C.delete(t):C.add(t),_(new Set(C))}),[C]),T=(0,r.useCallback)((function(){_(new Set),M(new Set),h(!1),g(null)}),[]),j=(0,r.useCallback)((function(){s(f(C,w)),S(v(C,w)),T()}),[C,w,v,T]),B=(0,r.useCallback)((function(){T(),S(new Set)}),[]),D=(0,r.useCallback)((function(){return v(w,n).size>0}),[w,n]),N=(0,r.useMemo)((function(){return{objects:e,hoveredListItem:m,objectListHovered:d,maskingCoordinates:E,modificationCount:u,removedObjects:w,selectedObjects:C,addObjectMask:R,removeObjectMask:I,addHoveredListItem:L,removeHoveredListItem:O,modifyObjects:j,toggleObjectListHovered:P,toggleObjectSelected:A,clearMaskingAndHoverData:T,resetAllObjects:B,hasRemovedObjectsChange:D,setModificationCount:s,setRemovedObjects:S}}),[e,m,d,E,u,w,C,R,I,L,O,j,P,A,T,B,D,s,S]);return i().createElement(y.Provider,{value:N},o)};!function(t){t.RemoveBackground="RemoveBackground",t.RemoveObjects="RemoveObjects",t.ModifyBackground="ModifyBackground"}(p||(p={}));var w,x,$,C=(0,r.createContext)({activeModificationType:p.RemoveBackground,setActiveModificationType:function(t){},activeModificationSubtype:p.RemoveBackground,setActiveModificationSubtype:function(t){}}),_=function(t){var e=t.initialModificationType,n=t.children,o=(0,r.useState)(e),a=o[0],u=o[1],c=(0,r.useState)(p.RemoveBackground),s=c[0],l=c[1],f=(0,r.useMemo)((function(){return{activeModificationType:a,setActiveModificationType:u,activeModificationSubtype:s,setActiveModificationSubtype:l}}),[a,s]);return i().createElement(C.Provider,{value:f},n)},k=n(24735),E=(0,r.createContext)({activeModifications:[],setActiveModifications:function(){},showModal:!1,openModal:function(){},closeModal:function(){},modalIsClosing:!1,showDropdown:!1,setShowDropdown:function(){},initialModificationType:p.RemoveBackground,initialBackgroundRemoved:{current:!1},initialBackgroundBlurred:{current:!1},initialRemovedObjects:{current:new Set},showOpenAnimation:{current:!1},modificationSessionId:{current:Date.now().toString()},resetToOriginal:!1,setResetToOriginal:function(){},resetInitialModifications:function(){},enhancedObjectRemoval:!1}),M=function(t){var e=t.availableModifications,n=t.openWithModificationType,a=t.children,u=(0,r.useState)([]),c=u[0],s=u[1],l=(0,r.useState)(!!n),f=l[0],d=l[1],h=(0,r.useState)(!1),p=h[0],v=h[1],m=(0,r.useState)(!1),g=m[0],y=m[1],w=(0,r.useState)(n),x=w[0],$=w[1],C=(0,r.useState)(!1),_=C[0],M=C[1],S=(0,r.useRef)(!1),R=(0,r.useRef)(!1),I=(0,r.useRef)(new Set),L=(0,r.useRef)(!n),O=(0,k._P)("BriaEnhancedObjectRemoval").isActive(),A=(0,r.useRef)(Date.now().toString());(0,r.useEffect)((function(){document.body.classList.remove("modifications-modal")}),[]);var T=(0,r.useCallback)((function(t){$(t),A.current=Date.now().toString(),d(!0)}),[]),j=(0,r.useCallback)((function(t,e,n){void 0!==t&&(S.current=t),void 0!==n&&(I.current=n),void 0!==e&&(R.current=e),o({backgroundRemoved:S.current,backgroundBlurred:R.current,removedObjects:I.current}),L.current=!0,v(!0),setTimeout((function(){d(!1),v(!1)}),500)}),[]),B=(0,r.useCallback)((function(){S.current=!1,R.current=!1,I.current=new Set}),[]),D=(0,r.useMemo)((function(){return{activeModifications:c,setActiveModifications:s,showModal:f,openModal:T,closeModal:j,modalIsClosing:p,showDropdown:g,setShowDropdown:y,initialModificationType:x,initialBackgroundRemoved:S,initialBackgroundBlurred:R,initialRemovedObjects:I,showOpenAnimation:L,modificationSessionId:A,resetToOriginal:_,setResetToOriginal:M,resetInitialModifications:B,enhancedObjectRemoval:O}}),[c,s,f,T,j,p,g,y,x,S,R,I,L,A,_,M,B,O]);return i().createElement(E.Provider,{value:D},i().createElement(b,{objects:null==e?void 0:e.objects,initialRemovedObjects:I.current},i().createElement(P,{initialBackgroundRemoved:S.current,initialBackgroundBlurred:R.current},a)))},S=function(){},R=S,I=S,L=S,O=(0,r.createContext)({backgroundRemoved:!1,backgroundBlurred:!1,backgroundBlurredScale:null,setBackgroundBlurred:I,setBackgroundBlurredScale:L,setBackgroundRemoved:R,hasBackgroundChange:function(){return!1}}),P=function(t){var e=t.initialBackgroundRemoved,n=t.initialBackgroundBlurred,o=t.children,c=(0,r.useState)(e),s=c[0],l=c[1],f=(0,r.useState)(n),d=f[0],h=f[1],p=(0,r.useState)(null),v=p[0],m=p[1],g=(0,r.useCallback)((function(t){a(t),l(t),t&&(h(!1),u(!1),m(null))}),[]),y=(0,r.useCallback)((function(t){u(t),h(t),t?(l(!1),a(!1),m(3)):m(null)}),[]),b=(0,r.useCallback)((function(){return s!==e||d!==n}),[s,e,d,n]),w=(0,r.useMemo)((function(){return{backgroundRemoved:s,backgroundBlurred:d,backgroundBlurredScale:v,hasBackgroundChange:b,setBackgroundRemoved:g,setBackgroundBlurred:y,setBackgroundBlurredScale:m}}),[s,d,v,b,g,m]);return i().createElement(O.Provider,{value:w},o)},A=function(){},T=(0,r.createContext)({showBackgroundError:!1,setShowBackgroundError:A,showObjectError:!1,setShowObjectError:A,showNotification:!1,clearModificationErrors:function(){},setShowNotification:A,clearNotification:!1,setClearNotification:A}),j=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useState)(!1),c=u[0],s=u[1],l=(0,r.useState)(!1),f=l[0],d=l[1],h=(0,r.useState)(!1),p=h[0],v=h[1],m=(0,r.useCallback)((function(){a(!1),s(!1)}),[]),g=(0,r.useMemo)((function(){return{clearNotification:p,setClearNotification:v,showBackgroundError:o,setShowBackgroundError:a,showObjectError:c,setShowObjectError:s,clearModificationErrors:m,showNotification:f,setShowNotification:d}}),[p,v,o,a,c,s,m,f,d]);return i().createElement(T.Provider,{value:g},e)},B=function(){},D=(0,r.createContext)({showFeedbackModal:!1,toggleFeedbackModal:B,showFeedbackBanner:!0,toggleFeedbackBanner:B}),N=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useState)(!0),c=u[0],s=u[1],l=(0,r.useCallback)((function(){a(!o)}),[o]),f=(0,r.useCallback)((function(){s(!c)}),[c]),d=(0,r.useMemo)((function(){return{showFeedbackModal:o,toggleFeedbackModal:l,showFeedbackBanner:c,toggleFeedbackBanner:f}}),[o,l,c,f]);return i().createElement(D.Provider,{value:d},e)},z=n(52965),F=n.n(z),Z="/components/asset-mod/api",H=function(t){var e=t.assetId;return F().get(Z+"/modifications/"+e)},V=function(t){var e=t.assetId,n=t.visualId;return F().patch(Z+"/modifications/reset/"+e+"/"+n)},U=function(t){var e=t.assetId,n=t.visualId,r=t.largeMainImageURL,i=t.modificationSessionId;return F().patch(Z+"/modifications/record-restoration/"+e+"/"+n,{largeMainImageURL:r,modificationSessionId:""+i})},W=function(t){var e=t.assetId,n=t.visualId,r=t.modificationSessionId;return F().patch(Z+"/modifications/discard-changes/"+e+"/"+n,{modificationSessionId:""+r})},q=n(82056),G=function(t,e){void 0===e&&(e={}),(0,q.r$)(t,e)},K=function(t,e){void 0===e&&(e={}),G(t,e)},Y=n(6905),X=function(t){var e=t?"Restore":"Remove";!function(t){var e=t?"restored":"removed";window&&window.tracking_data&&(window.tracking_data.page_mode=window.tracking_data.page_mode?window.tracking_data.page_mode+"|adp_background_"+e:"adp_background_"+e)}(t),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"image_ADP_"+e+"_Background_Button_Click",adp_selection:"ADP_"+e+"_Background",ui_element_location:"image_adp_tools_panel_top"}})},J=function(){var t=(0,r.useContext)(Ct);return{previewImage:t.previewImage,setPreviewImage:t.setPreviewImage,loading:t.loading}},Q=function(t){var e=(0,k.aF)().modificationsPermitted;return t.isImage&&!t.isIllustration&&!t.isVector&&e},tt=function(){return(0,r.useContext)(y)},et=function(){return(0,r.useContext)(C)},nt=function(){return(0,r.useContext)(E)},rt=function(){return(0,r.useContext)(O)},it=function(){return(0,r.useContext)(T)},ot=function(){return(0,r.useContext)(D)},at=function(){var t=rt().hasBackgroundChange,e=tt().hasRemovedObjectsChange;return t()||e()},ut=n(38130),ct=function(){var t=et(),e=t.activeModificationType,n=t.activeModificationSubtype,r=rt(),i=r.backgroundRemoved,o=r.backgroundBlurred,a=tt().modificationCount,u=void 0===a?{removed:0,restored:0}:a,c=(0,ut.T)(),s=u.removed,l=u.restored;return e===p.RemoveBackground?c(i?"background_removed":"background_restored"):e===p.ModifyBackground?n===p.RemoveBackground?c(i?"background_removed":"background_restored"):c(o?"blur_applied":"blur_removed"):1===s&&0===l?c("one_object_removed",{count:s}):s>1&&0===l?c("n_objects_removed",{count:s}):0===s&&1===l?c("one_object_restored",{count:l}):0===s&&l>1?c("n_objects_restored",{count:l}):1===s&&1===l?c("one_object_removed_one_object_restored",{removedCount:s,restoredCount:l}):s>=1&&l>=1?c("n_objects_removed_n_objects_restored",{removedCount:s,restoredCount:l}):null},st=function(){var t=(0,k._P)("BriaBackgroundModification"),e=(0,k._P)("BriaObjectModification"),n=(0,k._P)("BriaBackgroundBlur"),r=t.isActive(),i=e.isActive(),o=n.isActive();return{briaBackgroundModificationExperienceIsActive:r,briaObjectModificationExperienceIsActive:i,briaBackgroundBlurExperienceIsActive:o,briaModificationExperiencesAreActive:r||i||o||!1}},lt=function(){return(0,r.useContext)(Ct)},ft=function(t){var e=(0,k.aF)().cropPermitted,n=(0,k._P)("CropModificationAdp"),r=t.isImage&&!t.isIllustration&&!t.isVector;return n.isActive()&&r&&e},dt=function(){return{trackModifications:function(){(0,Y.j)({name:"adpInteraction",payload:{ui_element_location:"image_adp_ai_modal"}})}}},ht=function(t){var e=t.visualId,n=t.asset,r=t.backgroundRemoved,i=t.backgroundBlurred,o=t.removedObjects,a=t.enhancedObjectRemoval,u=t.modificationSessionId,c=t.requestId,s=void 0===c?Date.now().toString():c;return"/components/asset-mod/api/modifications/modify_image/"+e+"/watermarked/image.png?"+new URLSearchParams({assetId:n.assetId,largeMainImageURL:n.largeMainImageURL,backgroundRemoved:""+r,backgroundBlurred:""+i,objectIdsRemoved:Array.from(o,(function(t){return t.id})).toString(),enhancedObjectRemoval:""+a,modificationSessionId:u,requestId:s})},pt=function(t){var e=lt(),n=e.setShowEditor,r=e.setEditorSrc,i=e.setLoading,o=e.visualId,a=nt(),u=a.initialBackgroundRemoved,c=a.initialBackgroundBlurred,s=a.initialRemovedObjects,l=a.enhancedObjectRemoval,f=rt().setBackgroundRemoved;return{toggleBackground:function(){if(u.current=!u.current,f(u.current),u.current&&(c.current=!1),!u.current&&!c.current&&0===s.current.size)return i(!1),n(!1),void U({assetId:t.assetId,visualId:o,largeMainImageURL:t.largeMainImageURL,modificationSessionId:"adp"}).catch((function(t){return G(t)}));i(!0),n(!0),r(ht({visualId:o,asset:t,backgroundRemoved:u.current,backgroundBlurred:c.current,removedObjects:s.current,modificationSessionId:"adp",enhancedObjectRemoval:l}))},backgroundRemoved:u}},vt=function(t){var e=t.onOutsideClick,n=t.listenForClicks,i=(0,r.useRef)();return(0,r.useEffect)((function(){if(n){var t=function(t){i.current.contains(t.target)||e()};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}}}),[n]),{containerRef:i}};!function(t){t.Person="person",t.Background="background",t.Object="object"}(w||(w={})),function(t){t.Blur="blur",t.Remove="remove",t.Replace="replace"}(x||(x={})),function(t){t.High="high"}($||($={}));var mt=function(t){var e=t.permitted,n=t.actionsObjectArray;return e&&n.map((function(t){if(t.type===w.Background){var e=yt(t);if(e.length>0)return{id:t.id,type:w.Background,labels:t.labels,modifications:e}}return{}})).filter((function(t){return!!t.id}))||[]},gt=function(t){var e=t.permitted,n=t.width,r=t.height,i=t.actionsObjectArray;if(!e)return[];var o=i.map((function(t){var e,i,o,a,u=function(t){var e,n,r,i,o=null==t||null==(e=t.labels)?void 0:e.includes(w.Object),a=(null==(n=t.actions)||null==(r=n.remove)?void 0:r.includes(!0))&&(null==(i=t.oracle)?void 0:i.remove),u=t.type;return o&&a?u:null}(t);return u?{id:t.id,type:w.Object,labels:t.labels,modifications:u,coordinates:{x:(null==(e=t.rect)?void 0:e.x)/n*100,y:(null==(i=t.rect)?void 0:i.y)/r*100,h:(null==(o=t.rect)?void 0:o.h)/r*100,w:(null==(a=t.rect)?void 0:a.w)/n*100}}:{}})).filter((function(t){return!!t.id}))||[];return o.sort((function(t,e){return t.modifications.localeCompare(e.modifications)})),o},yt=function(t){var e,n,r,i,o,a,u=[],c=(null==(e=t.actions)||null==(n=e.blur)?void 0:n.includes(!0))&&!0===(null==(r=t.oracle)?void 0:r.blur),s=(null==(i=t.actions)||null==(o=i.remove)?void 0:o.includes(!0))&&!0===(null==(a=t.oracle)?void 0:a.remove);return c&&u.push(x.Blur),s&&u.push(x.Remove),u},bt=function(t){var e,n=t.assetInfo,r=t.permissions;if(!((null==(e=n.scene)?void 0:e.length)>0))return null;var i=r.backgroundModificationsPermitted,o=r.objectModificationsPermitted,a={background:mt({permitted:i,actionsObjectArray:n.scene}),objects:gt({permitted:o,width:n.org_width,height:n.org_height,actionsObjectArray:n.scene})},u=function(t){var e=null;return t.background.length>0&&(e=w.Background),t.objects.length>0&&(e=w.Object),e}(a);return u?{availableModifications:a,assetCanBeModified:!0,modificationType:u}:{availableModifications:null,assetCanBeModified:!1,modificationType:null}};function wt(){wt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new I(r||[]);return i(a,"_invoke",{value:E(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,$=x&&x(x(L([])));$&&$!==n&&r.call($,a)&&(w=$);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=M(u,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function xt(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var $t=function(t){var e=t.asset,n=(0,r.useContext)(Ct),i=Q(e),o=st(),a=o.briaObjectModificationExperienceIsActive,u=o.briaModificationExperiencesAreActive,c=n.visualId,s=n.setVisualId,l=n.loading,f=n.setLoading,d=n.modifiedImage,h=n.showEditor,p=n.setShowEditor,v=n.showErrorMessage,m=n.setShowErrorMessage,g=n.assetCanBeModified,y=n.setAssetCanBeModified,b=n.modificationType,w=n.setModificationType,x=n.availableModifications,$=n.setAvailableModifications,C=pt(e),_=C.toggleBackground,k=C.backgroundRemoved,E=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){xt(o,r,i,a,u,"next",t)}function u(t){xt(o,r,i,a,u,"throw",t)}a(void 0)}))}}(wt().mark((function t(){var n,r,i,o;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({assetId:e.assetId});case 3:null!=(i=t.sent)&&null!=(n=i.data)&&n.visualId&&null!=i&&null!=(r=i.data)&&r.assetInfo&&(s(i.data.visualId),o=bt({assetInfo:i.data.assetInfo,permissions:{backgroundModificationsPermitted:!0,objectModificationsPermitted:a}}),y(o.assetCanBeModified),w(o.modificationType),$(o.availableModifications)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),K(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){i&&E()}),[i]),{handleDismissal:function(){m(!v)},handleRemoveBackground:function(){if(u)_(),X(!k.current);else{var t=!h;X(h),p(t),f(t)}},handleModifyAsset:function(){(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"image_ADP_Modify_with_Ai_Button_Click",adp_selection:"ADP_Modify_with_Ai",ui_element_location:"ADP_Image_tools_panel_top"}},null)},visualId:c,loading:l,modifiedImage:d,showEditor:h,showErrorMessage:v,assetCanBeModified:g,modificationType:b,availableModifications:x}},Ct=i().createContext({}),_t=function(t){var e=t.openModificationsModalWithModificationType,n=t.children,o=(0,r.useState)(null),a=o[0],u=o[1],c=(0,r.useState)(!1),s=c[0],l=c[1],f=(0,r.useState)(null),d=f[0],h=f[1],p=(0,r.useState)(!1),v=p[0],m=p[1],g=(0,r.useState)(!1),y=g[0],b=g[1],w=(0,r.useState)(!1),x=w[0],$=w[1],C=(0,r.useState)(null),_=C[0],k=C[1],E=(0,r.useState)(null),S=E[0],R=E[1],I=(0,r.useState)(null),L=I[0],O=I[1],P=(0,r.useState)(null),A=P[0],T=P[1],j=(0,r.useMemo)((function(){return{visualId:a,setVisualId:u,loading:s,setLoading:l,modifiedImage:d,setModifiedImage:h,showEditor:v,setShowEditor:m,showErrorMessage:y,setShowErrorMessage:b,assetCanBeModified:x,setAssetCanBeModified:$,modificationType:_,setModificationType:k,availableModifications:S,setAvailableModifications:R,previewImage:L,setPreviewImage:O,editorSrc:A,setEditorSrc:T}}),[a,u,s,l,d,h,v,m,y,b,x,$,_,k,S,R,L,O,A,T]);return i().createElement(Ct.Provider,{value:j},i().createElement(N,null,i().createElement(M,{openWithModificationType:e,availableModifications:S},n)))},kt=n(94184),Et=n.n(kt),Mt="iXJVRHzPyx2QOCDOb8rp",St="CFFSIWsJqKhajo7lGH_4",Rt="BmacAOWMvpqcouDBl_8C",It="K2g5MLg4pUCQouQZIokb",Lt=function(t){var e=t.visualId,n=t.aspectRatio,o=t.assetId,a=(0,r.useContext)(Ct),u=J().setPreviewImage,c=(0,r.useRef)(),s=st().briaModificationExperiencesAreActive,l=(0,r.useRef)(!1),f=a.loading,d=a.setShowEditor,h=a.setLoading,p=a.setShowErrorMessage,v=a.editorSrc,m=s?v:"/components/asset-mod/api/modifications/remove_bg/"+e+"/watermarked/image.png?assetId="+o;return i().createElement("div",{className:Et()(Mt,!l.current&&St),"data-testid":"editor-image",style:{aspectRatio:n}},i().createElement("img",{src:m,ref:c,onLoad:function(){l.current=!0,u(c.current),h(!1)},onError:function(){return h(!1),d(!1),void p(!0)},alt:"Modified",className:Et()(f&&It)}),f&&i().createElement(J_,null),s&&i().createElement("div",{className:Rt,"data-testid":"reset-badge-wrapper"},i().createElement(G_,{visualId:e,assetId:o})))},Ot=(0,r.memo)(Lt),Pt="JGRqDf2O2ZDV68rTCQqy",At=function(t){var e=t.Icon,n=t.text,o=t.handleClick;return(0,r.useEffect)((function(){(0,Y.j)({name:"buttonShown",payload:{banner_name:"ADP_remove_background_button",ui_element_location:"image_adp_tools_panel_top"}})}),[]),i().createElement("button",{className:Pt,"data-testid":"background-removal-button",onClick:function(){return o()},type:"button"},e&&i().createElement(e,null),n)},Tt=function(){return i().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M7.02004 10.3938L4.6665 8.04025L5.37354 7.33325L7.02004 8.97972L10.6665 5.33325L11.3735 6.04029L7.02004 10.3938Z",fill:"#02A388"}))},jt="WWnAS1lnsjzvv4YlzNJV",Bt="pRzWkpwzgf1W1JZVjh4I",Dt=function(t){var e=t.downloadCompletionText,n=t.firstListItemText,r=t.secondListItemText,o=t.checkDownloadsText,a=t.redownloadText;return i().createElement("section",{className:jt,"data-testid":"background-removal-confirmation"},i().createElement("p",null,e),i().createElement("ul",null,i().createElement("li",null,i().createElement(Tt,null),n),i().createElement("li",null,i().createElement(Tt,null),r)),i().createElement("p",{className:Bt},o),i().createElement("span",{id:"download-again"},a))},Nt="ksrNsF_aTuAyen04bBvS",zt="uVzc4tRd4oK4kghMEJbf",Ft=function(t){var e=t.title,n=t.firstListItemText,r=t.secondListItemText,o=t.allowMultipleFileText;return i().createElement("div",{className:Nt,"data-testid":"background-removal-details"},i().createElement("p",null,e),i().createElement("ul",null,i().createElement("li",null,i().createElement(Tt,null),n),i().createElement("li",null,i().createElement(Tt,null),r)),i().createElement("p",{className:zt},o))},Zt="z2czGROp1pDEf3tJ9YhN",Ht=function(t){var e=t.text,n=t.Icon,o=t.handleDismissal;return(0,r.useEffect)((function(){(0,Y.j)({name:"bannerShown",payload:{banner_name:"ADP_remove_background_error_banner",ui_element_location:"image_adp_tools_panel_top"}})}),[]),i().createElement("div",{className:Zt,"data-testid":"background-removal-error"},i().createElement("p",null,e),i().createElement("button",{type:"button",onClick:o},n&&i().createElement(n,null),i().createElement("span",null,"Close")))};function Vt(t,e){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vt(t,e)}var Ut=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).state={hasError:!1},n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Vt(e,n),r.getDerivedStateFromError=function(){return{hasError:!0}};var i=r.prototype;return i.componentDidCatch=function(t,e){K(t,e)},i.render=function(){var t=this.state.hasError,e=this.props.children;return t?null:e},r}(r.Component),Wt=Ut,qt="Cze3zkzonVZx6ZeAK3Qj",Gt=function(t){var e=t.title;return i().createElement("div",{className:qt,"data-testid":"background-removal-header"},i().createElement("h2",null,e))},Kt=function(t){var e=t.mainPath,n=t.expandedPath,r=t.animateId,o=t.animationDelay;return i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:e,fill:"white",stroke:"transparent"},i().createElement("animate",{attributeName:"d",values:e+";"+n+";"+e,dur:"1s",id:r,begin:o+"s;"+r+".end+1s"}))},Yt=function(){return i().createElement(Kt,{mainPath:"M29.1891 54.5041C29.1891 53.775 28.5975 53.1865 27.8729 53.1865C27.1482 53.1865 26.5566 53.7787 26.5566 54.5041V56.2621C26.5566 56.9912 27.1482 57.5796 27.8729 57.5796C28.5975 57.5796 29.1891 56.9875 29.1891 56.2621V54.5041ZM30.0691 59.7742C30.0691 59.0488 30.657 58.4567 31.3853 58.4567H33.1415C33.8662 58.4567 34.4577 59.0488 34.4577 59.7742C34.4577 60.4996 33.8699 61.0918 33.1415 61.0918H31.3853C30.6607 61.0918 30.0691 60.4996 30.0691 59.7742ZM26.5566 63.2903C26.5566 62.5649 27.1445 61.9728 27.8729 61.9728C28.5975 61.9728 29.1891 62.5612 29.1891 63.2903V65.0483C29.1891 65.7737 28.5975 66.3659 27.8729 66.3659C27.1482 66.3659 26.5566 65.7774 26.5566 65.0483V63.2903ZM25.6767 59.7781C25.6767 60.5035 25.0889 61.0957 24.3605 61.0957H22.6043C21.8796 61.0957 21.2881 60.5035 21.2881 59.7781C21.2881 59.0527 21.876 58.4606 22.6043 58.4606H24.3605C25.0852 58.4606 25.6767 59.0527 25.6767 59.7781Z",expandedPath:"M29.9788 51.3405C29.9788 50.174 29.0323 49.2324 27.8728 49.2324C26.7134 49.2324 25.7669 50.1799 25.7669 51.3405V54.1533C25.7669 55.3198 26.7134 56.2614 27.8728 56.2614C29.0323 56.2614 29.9788 55.3139 29.9788 54.1533V51.3405ZM31.3868 59.7727C31.3868 58.6121 32.3274 57.6646 33.4928 57.6646H36.3027C37.4621 57.6646 38.4086 58.6121 38.4086 59.7727C38.4086 60.9333 37.4681 61.8808 36.3027 61.8808H33.4928C32.3333 61.8808 31.3868 60.9333 31.3868 59.7727ZM25.7669 65.3985C25.7669 64.2379 26.7074 63.2904 27.8728 63.2904C29.0323 63.2904 29.9788 64.2319 29.9788 65.3985V68.2112C29.9788 69.3719 29.0323 70.3193 27.8728 70.3193C26.7134 70.3193 25.7669 69.3778 25.7669 68.2112V65.3985ZM24.359 59.779C24.359 60.9396 23.4184 61.8871 22.253 61.8871H19.4431C18.2837 61.8871 17.3372 60.9396 17.3372 59.779C17.3372 58.6183 18.2777 57.6709 19.4431 57.6709H22.253C23.4125 57.6709 24.359 58.6183 24.359 59.779Z",animateId:"leftSparkle",animationDelay:0})},Xt=function(){return i().createElement(Kt,{mainPath:"M58.2832 13.2836C58.2832 18.8573 62.8123 23.3911 68.3804 23.3911C69.1051 23.3911 69.6966 23.9832 69.6966 24.7086C69.6966 25.434 69.1088 26.0262 68.3804 26.0262C62.8123 26.0262 58.2832 30.5599 58.2832 36.1336C58.2832 36.859 57.6916 37.4512 56.967 37.4512C56.2423 37.4512 55.6507 36.8627 55.6507 36.1336C55.6507 30.5599 51.1216 26.0262 45.5535 26.0262C44.8289 26.0262 44.2373 25.434 44.2373 24.7086C44.2373 23.9832 44.8252 23.3911 45.5535 23.3911C51.1216 23.3911 55.6507 18.8573 55.6507 13.2836C55.6507 12.5582 56.2423 11.9661 56.967 11.9661C57.6916 11.9661 58.2832 12.5545 58.2832 13.2836Z",expandedPath:"M58.9413 7.57106C58.9413 15.9316 65.735 22.7322 74.0871 22.7322C75.1741 22.7322 76.0615 23.6205 76.0615 24.7086C76.0615 25.7967 75.1797 26.6849 74.0871 26.6849C65.735 26.6849 58.9413 33.4855 58.9413 41.8461C58.9413 42.9342 58.0539 43.8224 56.9669 43.8224C55.88 43.8224 54.9926 42.9397 54.9926 41.8461C54.9926 33.4855 48.1989 26.6849 39.8468 26.6849C38.7598 26.6849 37.8724 25.7967 37.8724 24.7086C37.8724 23.6205 38.7542 22.7322 39.8468 22.7322C48.1989 22.7322 54.9926 15.9316 54.9926 7.57106C54.9926 6.48297 55.88 5.59473 56.9669 5.59473C58.0539 5.59473 58.9413 6.47742 58.9413 7.57106Z",animateId:"topSparkle",animationDelay:.5})},Jt=function(){return i().createElement(Kt,{mainPath:"M101.513 43.515C101.513 46.5596 103.987 49.033 107.026 49.033C107.561 49.033 107.998 49.4702 107.998 50.0059C107.998 50.5416 107.564 50.9789 107.026 50.9789C103.987 50.9789 101.513 53.455 101.513 56.4969C101.513 57.0326 101.076 57.4699 100.541 57.4699C100.006 57.4699 99.5692 57.0353 99.5692 56.4969C99.5692 53.4523 97.0956 50.9789 94.0568 50.9789C93.5217 50.9789 93.0848 50.5416 93.0848 50.0059C93.0848 49.4702 93.519 49.033 94.0568 49.033C97.0956 49.033 99.5692 46.5568 99.5692 43.515C99.5692 42.9793 100.006 42.542 100.541 42.542C101.076 42.542 101.513 42.9765 101.513 43.515Z",expandedPath:"M101.999 40.2695C101.999 44.8364 105.71 48.5465 110.268 48.5465C111.071 48.5465 111.726 49.2024 111.726 50.0059C111.726 50.8095 111.075 51.4654 110.268 51.4654C105.71 51.4654 101.999 55.1796 101.999 59.7424C101.999 60.5459 101.344 61.2018 100.541 61.2018C99.7385 61.2018 99.0833 60.55 99.0833 59.7424C99.0833 55.1755 95.3728 51.4654 90.8147 51.4654C90.012 51.4654 89.3567 50.8095 89.3567 50.0059C89.3567 49.2024 90.0079 48.5465 90.8147 48.5465C95.3728 48.5465 99.0833 44.8323 99.0833 40.2695C99.0833 39.466 99.7385 38.8101 100.541 38.8101C101.344 38.8101 101.999 39.4619 101.999 40.2695Z",animateId:"rightSparkle",animationDelay:1})},Qt=function(){return i().createElement(Kt,{mainPath:"M88.566 75.7922C88.566 79.9151 91.9157 83.2645 96.0308 83.2645C96.7554 83.2645 97.347 83.8567 97.347 84.5821C97.347 85.3075 96.7591 85.8996 96.0308 85.8996C91.9157 85.8996 88.566 89.2527 88.566 93.3719C88.566 94.0973 87.9745 94.6895 87.2498 94.6895C86.5251 94.6895 85.9336 94.101 85.9336 93.3719C85.9336 89.249 82.5839 85.8996 78.4688 85.8996C77.7441 85.8996 77.1526 85.3075 77.1526 84.5821C77.1526 83.8567 77.7405 83.2645 78.4688 83.2645C82.5839 83.2645 85.9336 79.9114 85.9336 75.7922C85.9336 75.0668 86.5251 74.4746 87.2498 74.4746C87.9745 74.4746 88.566 75.0631 88.566 75.7922Z",expandedPath:"M89.2242 71.3972C89.2242 77.5816 94.2488 82.6057 100.421 82.6057C101.508 82.6057 102.396 83.4939 102.396 84.582C102.396 85.6701 101.514 86.5584 100.421 86.5584C94.2488 86.5584 89.2242 91.588 89.2242 97.7668C89.2242 98.8549 88.3368 99.7432 87.2498 99.7432C86.1628 99.7432 85.2755 98.8605 85.2755 97.7668C85.2755 91.5825 80.2509 86.5584 74.0783 86.5584C72.9913 86.5584 72.104 85.6701 72.104 84.582C72.104 83.4939 72.9858 82.6057 74.0783 82.6057C80.2509 82.6057 85.2755 77.576 85.2755 71.3972C85.2755 70.3091 86.1628 69.4209 87.2498 69.4209C88.3368 69.4209 89.2242 70.3036 89.2242 71.3972Z",animateId:"bottomSparkle",animationDelay:1.5})},te="fNVYCz_ydinRzgAZJILR",ee=function(){return i().createElement("svg",{viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:te},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M68.6362 44.8315C69.7809 43.6776 71.6335 43.6776 72.7782 44.8315L78.6689 50.7698C79.8181 51.9281 79.8181 53.8096 78.6689 54.968L68.5132 65.2056L58.4288 55.1212L68.6362 44.8315ZM26.2831 87.526L54.6806 58.8995L64.7651 68.9839L36.3159 97.6624C35.1712 98.8163 33.3186 98.8163 32.1739 97.6624L26.2831 91.7242C25.134 90.5658 25.134 88.6844 26.2831 87.526Z",fill:"white"}),i().createElement(Yt,null),i().createElement(Xt,null),i().createElement(Jt,null),i().createElement(Qt,null))},ne=function(t){var e=t.className;return i().createElement("svg",{className:e,viewBox:"0 0 22 19",xmlns:"http://www.w3.org/2000/svg","data-testid":"scissors"},i().createElement("path",{d:"M6.82464 18.2126C8.57514 17.2071 9.2387 15.0892 8.48035 13.2856H8.48667C8.00007 12.2236 8.93536 11.5449 10.1361 11.9659C13.2958 13.8072 17.3719 16.1764 17.3783 16.1702C18.7749 16.698 20.3863 16.1702 21.1573 14.8441L12.449 9.84807L21.1573 4.84571C20.3863 3.51342 18.7685 2.98553 17.3783 3.5197C17.3783 3.51342 13.2958 5.88263 10.1361 7.72395C8.93536 8.145 8.00007 7.46629 8.48667 6.39795H8.47403C9.23238 4.60062 8.56251 2.4765 6.81832 1.471C4.92878 0.3838 2.50208 1.03109 1.4088 2.9164C0.315519 4.80172 0.960111 7.20863 2.86229 8.30211C3.44369 8.63519 4.07564 8.78601 4.70127 8.81115C6.35067 8.84257 6.50234 9.84179 6.50234 9.84179C6.50234 9.84179 6.35067 10.8599 4.66968 10.8724C4.05036 10.8976 3.43105 11.0484 2.86229 11.3815C0.966431 12.4687 0.315519 14.8819 1.4088 16.7672C2.50208 18.6525 4.92878 19.2998 6.82464 18.2126ZM3.8355 6.6179C2.87493 6.06488 2.54631 4.84571 3.09611 3.89048C3.65223 2.93526 4.88454 2.60847 5.84511 3.15521C6.80568 3.70823 7.13429 4.93369 6.57817 5.88891C6.02205 6.84414 4.79607 7.17093 3.8355 6.6179ZM8.30972 9.84179C8.30972 9.38303 8.68258 9.01225 9.1439 9.01225C9.60523 9.01225 9.97808 9.38303 9.97808 9.84179C9.97808 10.3005 9.60523 10.6713 9.1439 10.6713C8.68258 10.6713 8.30972 10.3005 8.30972 9.84179ZM3.10243 15.7994C2.54631 14.8441 2.88125 13.625 3.84182 13.0657C4.8087 12.5126 6.03469 12.8394 6.59081 13.8009C7.14693 14.7562 6.81832 15.9816 5.85775 16.5346C4.89718 17.0814 3.66487 16.7546 3.10875 15.7994H3.10243Z"}))},re=function(t){var e=t.className;return i().createElement("svg",{className:e,viewBox:"0 0 20 18",xmlns:"http://www.w3.org/2000/svg","data-testid":"eraser"},i().createElement("path",{d:"M20.0002 6.68341C19.9942 6.26876 19.821 5.88002 19.5105 5.58919L14.0133 0.44057C13.7087 0.155495 13.3116 0 12.8876 0C12.4636 0 12.0366 0.167013 11.729 0.472244L0.457013 11.6679C0.15543 11.9674 -0.00581182 12.359 0.000160116 12.7765C0.00613205 13.1912 0.179318 13.5799 0.489859 13.8707L4.68215 17.7956C4.82249 17.928 5.0136 18.0029 5.20768 18.0029H16.1094C16.5275 18.0029 16.8649 17.6775 16.8649 17.2744C16.8649 16.8712 16.5275 16.5458 16.1094 16.5458H10.7317L19.5463 7.79203C19.8449 7.49256 20.0091 7.10094 20.0031 6.68629L20.0002 6.68341ZM5.52718 16.543H5.51524L1.5439 12.8226C1.523 12.8053 1.51405 12.7823 1.51405 12.7535C1.51405 12.7362 1.52002 12.7074 1.5439 12.6844L5.70037 8.55799L11.3438 13.8419L8.62662 16.543H5.53315H5.52718Z"}))},ie=function(){return i().createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M0.5 2.0502L2.1 0.450195L6 4.3502L9.9 0.450195L11.5 2.0502L6 7.5502L0.5 2.0502Z",fill:"#0C0D0D"}))},oe=function(t){var e=t.fillColor,n=void 0===e?"white":e;return i().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M15.9904 14.8238L14.8334 16L7.99997 9.15705L1.16658 15.9904L0.00952148 14.8334L6.84292 8.01912L0.00952487 1.17617L1.16657 0L8.01909 6.84294L14.8429 0.00956077L15.9808 1.16661L9.17614 8L15.9904 14.8238Z",fill:n}))},ae="kxji19C5sswW5Cb67jEj",ue="h9xIbAyZdx89nk4RWtP4",ce="sr1v8LBa1oxLHLbCB7t4",se=function(t){var e=t.flip;return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Et()(ae,e&&ce),"data-testid":"landscape"},i().createElement("path",{d:"M16.8 0.495117H2.21C0.99 0.495117 0 1.48512 0 2.71512V17.2951C0 18.5151 0.99 19.5151 2.21 19.5151H16.79C18.01 19.5151 19.01 18.5251 19.01 17.2951V2.71512C19.01 1.49512 18.02 0.495117 16.79 0.495117H16.8ZM16.79 2.49512C16.91 2.49512 17.01 2.59512 17.01 2.71512V10.6051L14.27 7.86512C13.55 7.14512 12.37 7.14512 11.65 7.86512L6.86 12.6551L5.28 11.0851C4.57 10.3751 3.43 10.3551 2.7 11.0551L1.99 11.7351V2.71512C1.99 2.59512 2.09 2.49512 2.2 2.49512H16.79ZM2.21 17.5051C2.09 17.5051 2 17.4051 2 17.2851V14.4751L3.99 12.5851L5.57 14.1651C6.29 14.8851 7.46 14.8851 8.19 14.1651L12.98 9.37512L17.02 13.4151V17.2851C17.02 17.4051 16.92 17.5051 16.8 17.5051H2.21Z",fill:"#231F20"}),i().createElement("path",{d:"M6.88998 8.68523C7.94998 8.68523 8.79998 7.82523 8.79998 6.77523C8.79998 5.72523 7.93998 4.86523 6.88998 4.86523C5.83998 4.86523 4.97998 5.72523 4.97998 6.77523C4.97998 7.82523 5.83998 8.68523 6.88998 8.68523Z",fill:"#231F20"}),i().createElement("path",{d:"M4 12L1.5 14.5V18H17.5V13.5L13 9L7 14L4 12Z",fill:"#231F20",className:ue}))},le=function(){return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10C0 4.5 4.5 0 10 0C15.5 0 20 4.5 20 10C20 15.5 15.5 20 10 20Z",fill:"#FFD900"}),i().createElement("path",{d:"M10 12.4001C10.8 12.4001 11.5 13.1001 11.5 13.9001C11.5 14.7001 10.8 15.4001 10 15.4001C9.2 15.4001 8.5 14.7001 8.5 13.9001C8.5 13.1001 9.2 12.4001 10 12.4001ZM10.6 11.2001H9.4L8.7 7.0001V4.8001C8.7 4.7001 8.8 4.6001 8.9 4.6001H11C11.1 4.6001 11.2 4.7001 11.2 4.8001V7.0001L10.6 11.2001Z",fill:"#080808"}))},fe=function(t){var e=t.className;return i().createElement("svg",{className:e,"data-testid":"reset-icon",width:"21",height:"17",viewBox:"0 0 21 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M12.4722 13.9874C9.47725 15.0903 6.15992 13.5249 5.07563 10.4949H5.09908L7.801 9.49281L4.78258 7.66651L2.40888 6.23156L2.15099 6.07739L0 12.3627L2.60815 11.4021C4.19648 15.8078 9.01423 18.0847 13.3748 16.4778C14.928 15.9026 16.2116 14.9124 17.1493 13.6791L14.5822 12.6295C14.002 13.2166 13.2928 13.685 12.4722 13.9874Z",fill:"#0C0D0D"}),i().createElement("path",{d:"M7.62508 0.515374C6.07191 1.08461 4.78835 2.07484 3.85059 3.30819L6.41771 4.36958C6.99795 3.78255 7.70713 3.31412 8.52767 3.01171C11.5226 1.90882 14.8341 3.47422 15.9243 6.50421H15.9008L13.1989 7.5063L16.2173 9.3326L18.591 10.7676L18.8489 10.9217L20.9999 4.63048L18.3918 5.59106C16.8034 1.18541 11.9857 -1.09153 7.62508 0.515374Z",fill:"#0C0D0D"}))},de=function(t){var e=t.fill;return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8909 8.52982C14.1712 8.24722 14.6249 8.24722 14.9052 8.52982L16.3479 9.98408C16.6293 10.2678 16.6293 10.7285 16.3479 11.0122L13.8607 13.5194L11.3911 11.0497L13.8909 8.52982ZM3.51868 18.9856L10.4732 11.975L12.9428 14.4447L5.97568 21.468C5.69535 21.7506 5.24165 21.7506 4.96132 21.468L3.51868 20.0137C3.23726 19.73 3.23726 19.2693 3.51868 18.9856Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8117 14.1586C16.8117 15.1683 17.6321 15.9886 18.6398 15.9886C18.8173 15.9886 18.9622 16.1336 18.9622 16.3112C18.9622 16.4889 18.8182 16.6339 18.6398 16.6339C17.6321 16.6339 16.8117 17.4551 16.8117 18.4639C16.8117 18.6415 16.6669 18.7865 16.4894 18.7865C16.3119 18.7865 16.167 18.6424 16.167 18.4639C16.167 17.4542 15.3467 16.6339 14.3389 16.6339C14.1615 16.6339 14.0166 16.4889 14.0166 16.3112C14.0166 16.1336 14.1606 15.9886 14.3389 15.9886C15.3467 15.9886 16.167 15.1674 16.167 14.1586C16.167 13.981 16.3119 13.8359 16.4894 13.8359C16.6669 13.8359 16.8117 13.98 16.8117 14.1586Z"}),i().createElement("path",{d:"M18.6398 15.7852C17.7445 15.7852 17.0151 15.0561 17.0151 14.1586H16.6083C16.6083 15.2805 17.5196 16.192 18.6398 16.192V15.7852ZM19.1656 16.3112C19.1656 16.0214 18.9298 15.7852 18.6398 15.7852V16.192C18.7048 16.192 18.7588 16.2457 18.7588 16.3112H19.1656ZM18.6398 16.8373C18.9311 16.8373 19.1656 16.6006 19.1656 16.3112H18.7588C18.7588 16.3771 18.7053 16.4305 18.6398 16.4305V16.8373ZM17.0151 18.4639C17.0151 17.5672 17.7446 16.8373 18.6398 16.8373V16.4305C17.5195 16.4305 16.6083 17.3429 16.6083 18.4639H17.0151ZM16.4894 18.9899C16.7794 18.9899 17.0151 18.7536 17.0151 18.4639H16.6083C16.6083 18.5294 16.5543 18.5831 16.4894 18.5831V18.9899ZM15.9637 18.4639C15.9637 18.7549 16.1998 18.9899 16.4894 18.9899V18.5831C16.4241 18.5831 16.3704 18.5299 16.3704 18.4639H15.9637ZM14.3389 16.8373C15.2343 16.8373 15.9637 17.5664 15.9637 18.4639H16.3704C16.3704 17.342 15.4592 16.4305 14.3389 16.4305V16.8373ZM13.8132 16.3112C13.8132 16.601 14.0489 16.8373 14.3389 16.8373V16.4305C14.274 16.4305 14.22 16.3767 14.22 16.3112H13.8132ZM14.3389 15.7852C14.0477 15.7852 13.8132 16.0218 13.8132 16.3112H14.22C14.22 16.2453 14.2735 16.192 14.3389 16.192V15.7852ZM15.9637 14.1586C15.9637 15.0553 15.2342 15.7852 14.3389 15.7852V16.192C15.4592 16.192 16.3704 15.2795 16.3704 14.1586H15.9637ZM16.4894 13.6325C16.1994 13.6325 15.9637 13.8688 15.9637 14.1586H16.3704C16.3704 14.0931 16.4244 14.0393 16.4894 14.0393V13.6325ZM17.0151 14.1586C17.0151 13.8675 16.779 13.6325 16.4894 13.6325V14.0393C16.5547 14.0393 16.6083 14.0926 16.6083 14.1586H17.0151Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9825 8.21484C19.9825 8.96046 20.5883 9.56619 21.3325 9.56619C21.4636 9.56619 21.5706 9.67328 21.5706 9.80446C21.5706 9.93565 21.4643 10.0427 21.3325 10.0427C20.5883 10.0427 19.9825 10.6491 19.9825 11.3941C19.9825 11.5253 19.8756 11.6324 19.7445 11.6324C19.6135 11.6324 19.5065 11.5259 19.5065 11.3941C19.5065 10.6485 18.9007 10.0427 18.1565 10.0427C18.0254 10.0427 17.9185 9.93565 17.9185 9.80446C17.9185 9.67328 18.0248 9.56619 18.1565 9.56619C18.9007 9.56619 19.5065 8.95979 19.5065 8.21484C19.5065 8.08365 19.6135 7.97656 19.7445 7.97656C19.8756 7.97656 19.9825 8.08298 19.9825 8.21484Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.18885 10.893C6.18885 10.7144 6.04397 10.5703 5.8665 10.5703C5.68904 10.5703 5.54416 10.7153 5.54416 10.893V11.3235C5.54416 11.5021 5.68904 11.6462 5.8665 11.6462C6.04397 11.6462 6.18885 11.5012 6.18885 11.3235V10.893ZM6.4043 12.182C6.4043 12.0044 6.54826 11.8594 6.72664 11.8594H7.15673C7.3342 11.8594 7.47907 12.0044 7.47907 12.182C7.47907 12.3597 7.3351 12.5047 7.15673 12.5047H6.72664C6.54917 12.5047 6.4043 12.3597 6.4043 12.182ZM5.54395 13.0492C5.54395 12.8716 5.68791 12.7266 5.86629 12.7266C6.04375 12.7266 6.18863 12.8707 6.18863 13.0492V13.4798C6.18863 13.6574 6.04375 13.8024 5.86629 13.8024C5.68882 13.8024 5.54395 13.6583 5.54395 13.4798V13.0492ZM5.32868 12.182C5.32868 12.3597 5.18471 12.5047 5.00634 12.5047H4.57625C4.39878 12.5047 4.25391 12.3597 4.25391 12.182C4.25391 12.0044 4.39787 11.8594 4.57625 11.8594H5.00634C5.1838 11.8594 5.32868 12.0044 5.32868 12.182Z"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3553 2.76798C11.3553 4.13297 12.4645 5.24327 13.8281 5.24327C14.0056 5.24327 14.1505 5.38829 14.1505 5.56594C14.1505 5.74359 14.0065 5.88861 13.8281 5.88861C12.4645 5.88861 11.3553 6.99891 11.3553 8.3639C11.3553 8.54155 11.2105 8.68657 11.033 8.68657C10.8555 8.68657 10.7107 8.54246 10.7107 8.3639C10.7107 6.99891 9.60148 5.88861 8.23787 5.88861C8.0604 5.88861 7.91553 5.74359 7.91553 5.56594C7.91553 5.38829 8.05949 5.24327 8.23787 5.24327C9.60148 5.24327 10.7107 4.13297 10.7107 2.76798C10.7107 2.59033 10.8555 2.44531 11.033 2.44531C11.2105 2.44531 11.3553 2.58943 11.3553 2.76798Z"}))},he=function(t){var e=t.className;return i().createElement("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0872 1.40098H17.0588C17.91 1.40098 18.6 2.09099 18.6 2.94215V5.91376L14.0872 1.40098ZM12.4234 1.40098H8.42999L18.6 11.571V7.57754L12.4234 1.40098ZM18.6 13.2348L6.76621 1.40098H2.94118C2.88724 1.40098 2.83394 1.40375 2.78143 1.40916L18.5918 17.2195C18.5972 17.167 18.6 17.1137 18.6 17.0598V13.2348ZM17.9937 18.2852L1.7158 2.00731C1.51768 2.2666 1.4 2.59063 1.4 2.94215V5.68397L14.317 18.601H17.0588C17.4103 18.601 17.7344 18.4833 17.9937 18.2852ZM12.6532 18.601L1.4 7.34775V11.0922L8.9088 18.601H12.6532ZM7.24502 18.601L1.4 12.756V17.0598C1.4 17.911 2.09001 18.601 2.94118 18.601H7.24502ZM0 2.94215C0 1.31779 1.31681 0.000976562 2.94118 0.000976562H17.0588C18.6832 0.000976562 20 1.31779 20 2.94215V17.0598C20 18.6842 18.6832 20.001 17.0588 20.001H2.94118C1.31681 20.001 0 18.6842 0 17.0598V2.94215Z",fill:"black"}))},pe=function(){return i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},i().createElement("circle",{cx:"5",cy:"12",r:"2",fill:"#0C0D0D"}),i().createElement("circle",{cx:"12",cy:"12",r:"2",fill:"#0C0D0D"}),i().createElement("circle",{cx:"19",cy:"12",r:"2",fill:"#0C0D0D"}))},ve="UTuy5aULGpe2KUMawJvI",me="hCMUGtIzSUtcRx_4wiMv",ge="S1pDg6AjnGlw_hvtn0m0",ye=function(t){var e=function(t){return"RemoveObjects"===t?"Remove_Objects":"Remove_Background"}(t);(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Image_"+e+"_Button_Click",adp_selection:"ADP_"+e,ui_element_location:"image_adp_tools_panel_top"}})},be=function(t){var e=t.value,n=t.disabled,r=t.Icon,o=t.label,a=t.notAvailableText,u=nt(),c=u.openModal,s=u.setShowDropdown,l=(0,ut.T)();return i().createElement("button",{className:ve,onClick:function(){c(e),s(!1),ye(e)},disabled:n,type:"button"},i().createElement(r,{className:ge}),l(o),n&&i().createElement(qC,{className:me},l(a)))},we=function(t){var e=t.disabled;return i().createElement(be,{value:p.RemoveBackground,disabled:e,Icon:ne,label:"remove_background",notAvailableText:"background_removal_not_available"})},xe=function(t){var e=t.disabled;return i().createElement(be,{value:p.RemoveObjects,disabled:e,Icon:re,label:"remove_objects",notAvailableText:"object_removal_not_available"})},$e=function(t){var e=t.disabled;return i().createElement(be,{value:p.ModifyBackground,disabled:e,Icon:he,label:"modify_background",notAvailableText:"background_modification_not_available"})},Ce="faTRqk0rydEHLcbaBNeg",_e=function(t){var e=t.canBlurBackground,n=t.canRemoveBackground,r=t.canRemoveObjects,o=st().briaBackgroundBlurExperienceIsActive;return i().createElement("div",{className:Ce,"data-testid":"dropdown"},o?i().createElement($e,{disabled:!e}):i().createElement(we,{disabled:!n}),i().createElement(xe,{disabled:!r}))},ke="vMHXHIlnzMXttg9nIv6_",Ee="kMgd6tB4yjyknv9JnA14",Me="nkuIi2SiJaVBWzRnn2yT",Se="suZeOJIJleov1GBMWtJq",Re="oYAkF0nX4TP7AVSQJIYZ",Ie=function(t){var e=t.handleClick,n=t.asset,o=nt(),a=o.openModal,u=o.showDropdown,c=o.setShowDropdown,s=(0,r.useContext)(Ct).availableModifications,l=(0,ut.T)(),f=n.largeMainImageURL,d=(null==s?void 0:s.background.length)>0,h=d&&s.background.some((function(t){return t.modifications.includes("blur")})),v=d&&s.background.some((function(t){return t.modifications.includes("remove")})),m=(null==s?void 0:s.objects.length)>0,g=st().briaBackgroundBlurExperienceIsActive;(0,r.useEffect)((function(){(0,Y.j)({name:"buttonShown",payload:{banner_name:"ADP_Modify_with_Ai_Button",ui_element_location:"image_adp_tools_panel_top"}},null)}),[]);return i().createElement(i().Fragment,null,i().createElement("link",{rel:"prefetch",href:f,as:"image","data-testid":"prefetch-image"}),i().createElement("div",{className:ke},i().createElement("div",{className:Ee},i().createElement("button",{className:Me,"data-testid":"modify-asset-button",onClick:function(){var t;e(),t=d?g&&h?p.ModifyBackground:p.RemoveBackground:p.RemoveObjects,a(t)},type:"button"},i().createElement(de,{fill:"#0D0D0D"}),i().createElement("span",{className:Re},l("modify_with_ai"))),i().createElement("button",{"data-testid":"down-arrow",className:Se,onClick:function(){c(!u),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Image_carrot_Click",adp_selection:"ADP_ai_modal_carrot",ui_element_location:"image_adp_tools_panel_top"}},null)},type:"button"},i().createElement(ie,null))),u&&i().createElement(_e,{canRemoveBackground:v,canBlurBackground:h,canRemoveObjects:m})))},Le=(0,r.createContext)({viewingOriginal:!1,setViewingOriginal:function(){}}),Oe=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useMemo)((function(){return{viewingOriginal:o,setViewingOriginal:a}}),[o]);return i().createElement(Le.Provider,{value:u},e)},Pe=function(){return(0,r.useContext)(Le)},Ae=function(){return i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"checkmark"},i().createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#02A388"}),i().createElement("path",{d:"M5 10.5L6.37512 9.3332L9.12488 11.6668L14.6249 7L16 8.1668L9.12488 14L5 10.5Z",fill:"white"}))},Te="pIpmubW87UC45ftjz2sI",je="SZiBth1YXjImkgbW2dQA",Be="RbUBz_RlNXzCe6HQKp7i",De="uHEi4U_uRIu61ceEnRGC",Ne=function(){(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_Objects_Area_Selected",ui_element_location:"image_adp_modal"}},null)},ze=function(t){var e=t.object,n=t.zIndex,o=(0,r.useState)(!1),a=o[0],u=o[1],c=e.coordinates,s=e.id,l=tt(),f=l.hoveredListItem,d=l.selectedObjects,h=l.addHoveredListItem,p=l.addObjectMask,v=l.removeHoveredListItem,m=l.removeObjectMask,g=l.toggleObjectSelected,y=d&&d.has(e),b=f&&f.id===s;return i().createElement("div",{"data-testid":"bounding-box",role:"button",tabIndex:0,className:Et()("globalBoundingBox",Te,y&&"globalSelected",y&&Be,b&&De),onClick:function(){b&&v(),u(!0),g(e),y||Ne()},onMouseEnter:function(){y||h(e),u(!1),p(e)},onMouseLeave:function(){a||(v(),m(e))},style:{width:c.w+"%",height:c.h+"%",top:c.y+"%",left:c.x+"%",zIndex:""+n}},y&&i().createElement("div",{className:je},i().createElement(Ae,null)))},Fe=function(){var t=tt().objects,e=0!==t.length,n=(0,r.useMemo)((function(){return e?Math.max.apply(Math,t.map((function(t){return t.coordinates.w*t.coordinates.h}))):0}),[t]),o=function(t){var e=t.coordinates.w*t.coordinates.h;return Math.round(n/e)};return e?i().createElement("div",{"data-testid":"bounding-boxes"},t.map((function(t){return i().createElement(ze,{key:t.id,object:t,zIndex:o(t)})}))):null},Ze="gJCFluOTL8Ad6a9YIbBa",He=function(t){var e=t.imageRef,n=tt().maskingCoordinates,r=Array.from(n);return i().createElement("div",{className:Ze,"data-testid":"image-mask"},i().createElement("svg",null,i().createElement("mask",{id:"svgmask","data-testid":"svg-mask"},i().createElement("rect",{fill:"#666E6E",height:e.current.height,width:e.current.width}),r.map((function(t){return i().createElement("rect",{key:"hover-coordinate-"+t.x+"-"+t.y+"-"+t.w+"-"+t.h,"data-testid":"object-mask",fill:"#000000",width:t.w+"%",height:t.h+"%",x:t.x+"%",y:t.y+"%",rx:"8"})}))),i().createElement("rect",{mask:"url(#svgmask)",height:e.current.height,width:e.current.width})))},Ve="lWP4MqOVAakIbvXS7Kng",Ue="WflgVrSmgeFrtJFTF4My",We=function(){var t=(0,ut.T)(),e=Pe().viewingOriginal,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useRef)(!0);return(0,r.useEffect)((function(){if(!u.current){a(!0);var t=setTimeout((function(){a(!1)}),3e3);return function(){return clearTimeout(t)}}u.current=!1}),[e]),i().createElement("span",{className:Et()(Ve,o&&Ue),"data-testid":"image-type-badge"},t(e?"original":"modified"))};function qe(){qe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new I(r||[]);return i(a,"_invoke",{value:E(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,$=x&&x(x(L([])));$&&$!==n&&r.call($,a)&&(w=$);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=M(u,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Ge(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var Ke=function(t){var e=t.visualId,n=t.asset,i=t.backgroundRemoved,o=t.backgroundBlurred,a=t.backgroundBlurredScale,u=t.removedObjects,c=t.showBackgroundError,s=t.showObjectError,l=t.previousImageSrcRef,f=t.requestId,d=t.modificationSessionId,h=nt(),p=h.resetToOriginal,v=h.enhancedObjectRemoval,m=u.size>0,g=!i&&!o&&!m,y=n.assetId,b=n.largeMainImageURL,w=(0,r.useRef)(!1),x=(0,r.useRef)(!1),$=w.current&&!i,C=x.current&&!o,_=$||C,k=(0,r.useRef)(!1),E=k.current&&!m,M=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ge(o,r,i,a,u,"next",t)}function u(t){Ge(o,r,i,a,u,"throw",t)}a(void 0)}))}}(qe().mark((function t(){return qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,U({assetId:y,visualId:e,largeMainImageURL:b,modificationSessionId:d});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),G(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){(_||E)&&g&&M(),w.current=i,x.current=o,k.current=m}),[i,m,o]),g?b:c||s||i&&o?l.current:ht({visualId:e,asset:n,backgroundRemoved:i,backgroundBlurred:o?a:o,removedObjects:u,enhancedObjectRemoval:v,requestId:f,modificationSessionId:d})},Ye=function(t){var e=document.createElement("canvas");return e.width=t.naturalWidth,e.height=t.naturalHeight,e.getContext("2d").drawImage(t,0,0),e.toDataURL()},Xe=function(t){var e=t.src,n=t.previousImageSrcRef,i=t.largeMainImageURL,o=(0,r.useState)(!1),a=o[0],u=o[1],c=(0,r.useState)(!0),s=c[0],l=c[1],f=(0,r.useRef)(),d=nt().setResetToOriginal,h=Je(),p=h.previousBackgroundRemovedRef,v=h.previousBackgroundBlurredRef,m=h.previousRemovedObjectsRef,g=h.setPreviousBackgroundRemoved,y=h.setPreviousBackgroundBlurred,b=h.setPreviousRemovedObjects,w=it(),x=w.setShowBackgroundError,$=w.setClearNotification,C=w.setShowNotification,_=w.setShowObjectError,k=tt(),E=k.clearMaskingAndHoverData,M=k.removedObjects,S=k.setRemovedObjects,R=rt(),I=R.setBackgroundRemoved,L=R.backgroundRemoved,O=R.setBackgroundBlurred,P=R.backgroundBlurred;(0,r.useEffect)((function(){var t;(null==(t=f.current)?void 0:t.src)!==e&&($(!1),u(!0),d(!1),C(!1))}),[e]);var A=(0,r.useCallback)((function(){u(!1),s?l(!1):C(!0),f.current&&f.current.src!==i?n.current=Ye(f.current):n.current=i,g(L),y(P),b(M)}),[f,i,s,L,P,M]),T=(0,r.useCallback)((function(){x(!0),I(p.current),O(v.current),C(!1)}),[]),j=(0,r.useCallback)((function(){_(!0),E(),C(!1),S(m.current)}),[]);return{loading:a,imgRef:f,isFirstLoad:s,onLoad:A,onBackgroundError:T,onObjectError:j}},Je=function(){var t=(0,r.useRef)(),e=(0,r.useRef)(),n=(0,r.useRef)(new Set);return{previousBackgroundRemovedRef:t,previousBackgroundBlurredRef:e,previousRemovedObjectsRef:n,setPreviousBackgroundRemoved:function(e){t.current=e},setPreviousBackgroundBlurred:function(t){e.current=t},setPreviousRemovedObjects:function(t){n.current=t}}},Qe="ddHaXPqHqjfmvl3aSzAV",tn="j0bfztiydZspyTNO21tI",en="AOgEZlbIuR6PIu8c3oOo",nn="V5GDZBcUR3CWqj05D65P",rn="LeOWaoERLzu3kaNBMKgf",on=function(t){var e=t.text,n=t.trackingBannerName,o=t.handleDismissal;return(0,r.useEffect)((function(){!function(t){(0,Y.j)({name:"bannerShown",payload:{banner_name:t,ui_element_location:"adp_modal_image_top"}})}(n)}),[]),i().createElement("div",{className:rn,"data-testid":"asset-modification-error"},i().createElement("p",null,e),i().createElement("button",{type:"button",onClick:o,"data-testid":"asset-modification-error-dismissal"},i().createElement(oe,{fillColor:"black"}),i().createElement("span",null,"Close")))},an=function(t){var e=t.asset,n=t.visualId,o=t.modificationApplied,a=(0,ut.T)(),u=e.largeMainImageURL,c=e.ratio,s=(e.assetId,(0,r.useRef)()),l=et().activeModificationType,f=it(),d=f.showBackgroundError,h=f.setShowBackgroundError,v=f.showObjectError,m=f.setShowObjectError,g=f.setClearNotification,y=rt(),b=y.backgroundRemoved,w=y.backgroundBlurred,x=y.backgroundBlurredScale,$=tt(),C=$.maskingCoordinates,_=$.objectListHovered,k=$.selectedObjects,E=$.removedObjects,M=Pe(),S=M.viewingOriginal,R=M.setViewingOriginal,I=nt().modificationSessionId,L=(0,r.useMemo)((function(){return Date.now().toString()}),[b,w,x,E,d,v]),O=Ke({visualId:n,asset:e,backgroundRemoved:b,backgroundBlurred:w,backgroundBlurredScale:x,removedObjects:E,showBackgroundError:d,showObjectError:v,previousImageSrcRef:s,requestId:L,modificationSessionId:I.current}),P=Xe({src:O,previousImageSrcRef:s,largeMainImageURL:u}),A=P.loading,T=P.imgRef,j=P.onLoad,B=P.onObjectError,D=P.onBackgroundError,N=0!==k.size,z=!S&&!A&&(N||_||C&&0!==C.size),F=!S&&!A&&l===p.RemoveObjects,Z=(0,r.useMemo)((function(){return d&&l===p.RemoveBackground?i().createElement(on,{text:a("background_removal_an_error_occurred"),trackingBannerName:"ADP_modal_remove_background_error_banner",handleDismissal:function(){return h(!1)}}):d&&l===p.ModifyBackground?i().createElement(on,{text:a("background_modification_an_error_occurred"),trackingBannerName:"ADP_modal_modify_background_error_banner",handleDismissal:function(){return h(!1)}}):v&&l===p.RemoveObjects?i().createElement(on,{text:a("object_removal_an_error_occurred"),trackingBannerName:"ADP_modal_remove_object_error_banner",handleDismissal:function(){return m(!1)}}):null}),[d,l,v]);return i().createElement("div",{className:Qe,style:{aspectRatio:c},"data-testid":"image-wrapper",role:"button",tabIndex:0,onClick:function(){S&&R(!1)}},(!O||S)&&i().createElement("img",{"data-testid":"original-image",src:u,alt:"Original",className:Et()(nn)}),O&&i().createElement("img",{id:"modified-image",src:O,alt:"Modified",className:Et()(tn,A&&en),onLoad:j,onError:function(){l===p.RemoveObjects?B():D(),g(!0)},ref:T}),A&&i().createElement(J_,null),z&&i().createElement(He,{imageRef:T}),F&&i().createElement(Fe,null),o&&i().createElement(We,null),Z)},un=new Map([[p.RemoveBackground,"Remove_Background"],[p.RemoveObjects,"Remove_Object"]]),cn="NBfpZ_W2L4vtL1t1xXRA",sn="WZ0moDxyCUWXHH2F5XrC",ln="xm34Vk3lkxl41mJgHKEd",fn="p6F4kM55KEwWhk7Fc1Rh",dn=function(t){var e=t.disabled,n=t.value,o=t.Icon,a=t.label,u=t.notAvailableText,c=(0,ut.T)(),s=et(),l=s.activeModificationType,f=s.setActiveModificationType,d=it().setClearNotification,h=tt().clearMaskingAndHoverData,p=n===l;(0,r.useEffect)((function(){var t,r;e||(t=n,r=un.get(t),(0,Y.j)({name:"buttonShown",payload:{banner_name:"ADP_Modal_Tab_"+r+"_Shown",ui_element_location:"image_adp_modal"}}))}),[]);return i().createElement("button",{className:Et()(cn,p&&sn),onClick:function(){var t,e;d(!0),f(n),h(),t=n,e=un.get(t),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Tab_"+e+"_Click",adp_selection:"ADP_Modal_Tab_"+e,ui_element_location:"image_adp_modal"}})},disabled:e,type:"button"},i().createElement(o,{className:ln}),c(a),e&&i().createElement(qC,{className:fn},c(u)))},hn=function(t){var e=t.disabled;return i().createElement(dn,{disabled:e,value:p.RemoveBackground,Icon:ne,label:"remove_background",notAvailableText:"background_removal_not_available"})},pn=function(t){var e=t.disabled;return i().createElement(dn,{disabled:e,value:p.RemoveObjects,Icon:re,label:"remove_objects",notAvailableText:"object_removal_not_available"})},vn=function(t){var e=t.disabled;return i().createElement(dn,{disabled:e,value:p.ModifyBackground,Icon:he,label:"modify_background",notAvailableText:"background_modification_not_available"})},mn="mnLsOFMIROCiXuUWNhve",gn=function(t){var e=t.canModifyBackground,n=t.canRemoveObjects,r=t.canBlurBackground;return i().createElement("div",{className:mn,"data-testid":"modification-selector"},r?i().createElement(vn,{disabled:!e}):i().createElement(hn,{disabled:!e}),i().createElement(pn,{disabled:!n}))},yn=n(3382),bn=n(55972),wn=function(){return i().createElement("svg",{width:"54",height:"22",viewBox:"0 0 54 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("rect",{width:"54",height:"22",rx:"11",fill:"url(#paint0_linear_6601_271173)"}),i().createElement("path",{d:"M19.467 13.708C19.467 14.992 18.591 16 16.815 16H13.203V8.008H16.551C18.195 8.008 19.131 8.716 19.131 9.928C19.131 10.72 18.711 11.32 18.087 11.656C18.999 12.028 19.467 12.784 19.467 13.708ZM18.003 10.084C18.003 9.352 17.499 9.028 16.515 9.028H14.331V11.308H16.575C17.487 11.308 18.003 10.828 18.003 10.084ZM18.291 13.648C18.291 12.856 17.823 12.28 16.827 12.28H14.331V14.992H16.779C17.751 14.992 18.291 14.488 18.291 13.648ZM26.9206 16H21.1366V8.008H26.8006V9.04H22.2646V11.296H26.2126V12.268H22.2646V14.968H26.9206V16ZM34.374 9.04H31.65V16H30.522V9.04H27.81V8.008H34.374V9.04ZM41.757 16H40.497L39.645 13.78H36.045L35.181 16H34.005L37.257 8.008H38.493L41.757 16ZM39.273 12.796L37.869 9.1L36.429 12.796H39.273Z",fill:"white"}),i().createElement("defs",null,i().createElement("linearGradient",{id:"paint0_linear_6601_271173",x1:"-4.5",y1:"25.5",x2:"54",y2:"7",gradientUnits:"userSpaceOnUse"},i().createElement("stop",{stopColor:"#9F1E9C"}),i().createElement("stop",{offset:"0.541667",stopColor:"#F0122A"}),i().createElement("stop",{offset:"1",stopColor:"#F75733"}))))},xn="ld9ulmUz7MrfXjOnhXbQ",$n="PBX3eM2VqjLbfDmZfRdw",Cn="ebUnYwRd0S5Y_OtVeU69",_n="cGSQOE66baF5i70nPObA",kn="Vs2AlxcdicyLw7r3AbFH",En="Ao9iduNxOX6LKuD7NOUr",Mn="tjE9Vjl_qmcy1pr0LB4g",Sn=function(){var t=(0,ut.T)(),e=ot().toggleFeedbackModal,n=(0,r.useState)(!1),o=n[0],a=n[1],u="quality_ai_tooltip";(0,r.useEffect)((function(){var t=JSON.parse(window.localStorage.getItem(u));null!=t&&t.dismissed&&a(!0)}),[o]);var c=t("ai_beta_quality_warning",{links:[{href:"#",id:"ai-beta-feedback-link"}]}),s=function(){var t=document.getElementById("ai-beta-feedback-link");t&&t.addEventListener("click",(function(){return e()}))},l=i().createElement("div",{"data-testid":"beta-badge-tooltip-content",className:kn},i().createElement("span",{className:En},i().createElement(bn.Z,null,c))),f=i().createElement("div",{"data-testid":"beta-hoverable-tooltip",className:$n},i().createElement(yn.Tg,{className:_n,placement:"bottom",trigger:i().createElement(wn,null),trackViewed:s},l)),d=i().createElement("div",{"data-testid":"beta-dismissible-tooltip"},i().createElement(wn,null),i().createElement("div",{className:xn},i().createElement(yn.lq,{className:Cn,localStorageKey:u,name:"BackgroundRemovalTooltip",placement:"bottom",trackDismissed:function(){a(!0)},trackViewed:s},l))),h=o?f:d;return i().createElement("div",{"data-testid":"beta-ai-badge",className:Mn},h)},Rn="MNXD6afHuOQUo1rBEpHI",In="xLE1VJdb2unBokzpoTmB",Ln="_d4w2BYKw21LEsr7vo1z",On=function(){var t=rt(),e=t.backgroundRemoved,n=t.setBackgroundRemoved,r=Pe(),o=r.viewingOriginal,a=r.setViewingOriginal,u=it().clearModificationErrors;return i().createElement("button",{className:Et()(Rn,e&&In),onClick:function(){var t;u(),o&&a(!1),n(!e),t=!e?"remove":"restore",(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_image_remove_background_toggle_click",adp_selection:"ADP_image_toggle_"+t+"_background",ui_element_location:"image_adp_modal"}})},"data-testid":"remove-background-toggle",type:"button"},i().createElement("span",{className:Ln}))},Pn="RaMXBMf9JV7IPn2gC2Ap",An="kPegHnf_Fw5UwRzLMDph",Tn=function(){var t=(0,ut.T)();return i().createElement(i().Fragment,null,i().createElement("div",{className:Pn},i().createElement("div",null,t("make_background_transparent")),i().createElement(Sn,null)),i().createElement("div",{className:An},i().createElement(On,null),i().createElement("span",null,t("remove_background"))))},jn="gTxrtooLWO28J7IHuMDX",Bn="uAjEYld_Dr_R_V4GAytE",Dn="T17jxbcV2b59SBGavRz_",Nn="dWJ8zuFXryPNYciK_lFw",zn="ZOi8SjKkdkcQHdO3X8mO",Fn=function(t){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_Objects_Removed_"+t,ui_element_location:"image_adp_modal"}};(0,Y.j)(e,null)},Zn=function(t){var e,n=t.object,r=t.position,o=tt(),a=o.addObjectMask,u=o.addHoveredListItem,c=o.removeObjectMask,s=o.removeHoveredListItem,l=o.toggleObjectSelected,f=o.hoveredListItem,d=o.selectedObjects,h=o.removedObjects,p=Pe(),v=p.viewingOriginal,m=p.setViewingOriginal,g=(e=n.modifications).charAt(0).toLocaleUpperCase()+e.slice(1)+(r?" "+r:""),y=d&&d.has(n),b=h&&h.has(n),w=f&&f.id===n.id;return i().createElement("li",{className:Et()(jn,w&&!v&&Dn,y&&zn,b&&Nn,v&&Bn),onClick:function(){v?m(!1):(y?u(n):s(),l(n),y||Fn(d.size))},onMouseEnter:function(){y||u(n),a(n)},onMouseLeave:function(){c(n),s()}},y&&i().createElement(Ae,null),g)},Hn="RkhiiK9w7G2rWLy6rufy",Vn="KE69i9KrW9DQErO3XvsN",Un=function(){var t=tt(),e=t.objects,n=t.toggleObjectListHovered;return i().createElement("div",{className:Hn},i().createElement("ol",{className:Vn,"data-testid":"object-list",onMouseEnter:n,onMouseLeave:n},function(t,e){var n=new Map;return t.map((function(r,i){var o,a,u=null!=(o=n.get(r.modifications))?o:0;n.set(r.modifications,++u);var c=u>1||r.modifications===(null==(a=t[i+1])?void 0:a.modifications);return e(r,u,c)}))}(e,(function(t,e,n){return i().createElement(Zn,{object:t,position:n?e:null,key:t.id})}))))},Wn="ZHOPhRt0XgIlkjuR5Isc",qn=function(){var t=(0,ut.T)();return i().createElement(i().Fragment,null,i().createElement("div",{className:Wn},i().createElement("div",null,t("select_objects_remove_or_restore")),i().createElement(Sn,null)),i().createElement(Un,null))},Gn=n(2091),Kn="S1BdRkqPmUhhXfAiaRCw",Yn="sZ7t3zDy4qmIVNo1SGvU",Xn="uSyl04uPKrQARlARrNsg",Jn=function(t){var e=t?"blur":"unblur";(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_image_blur_background_toggle_click",adp_selection:"ADP_image_toggle_"+e+"_background",ui_element_location:"image_adp_ai_modal"}})},Qn=function(){var t=rt(),e=t.backgroundBlurred,n=t.setBackgroundBlurred,r=Pe(),o=r.viewingOriginal,a=r.setViewingOriginal,u=it().clearModificationErrors,c=et().setActiveModificationSubtype,s=it().setClearNotification;return i().createElement("button",{className:Et()(Kn,e&&Yn),onClick:function(){u(),s(!0),o&&a(!1),c(p.ModifyBackground),n(!e),Jn(!e)},"data-testid":"blur-background-toggle",type:"button"},i().createElement("span",{className:Xn}))},tr=n(85893),er=n(87850),nr=n(87462),rr=n(63366),ir=(n(45697),n(86010)),or=n(28442),ar=n(94780),ur=n(1588),cr=n(28562);function sr(t){return(0,cr.Z)("MuiSlider",t)}(0,ur.Z)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb"]);var lr=n(82690),fr=n(19032),dr=n(99962),hr=n(33703),pr=n(73546);var vr=function(t){const e=r.useRef(t);return(0,pr.Z)((()=>{e.current=t})),r.useCallback(((...t)=>(0,e.current)(...t)),[])};var mr={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function gr(t,e){return t-e}function yr(t,e,n){return null==t?e:Math.min(Math.max(e,t),n)}function br(t,e){var n;const{index:r}=null!=(n=t.reduce(((t,n,r)=>{const i=Math.abs(e-n);return null===t||i<t.distance||i===t.distance?{distance:i,index:r}:t}),null))?n:{};return r}function wr(t,e){if(void 0!==e.current&&t.changedTouches){const n=t;for(let t=0;t<n.changedTouches.length;t+=1){const r=n.changedTouches[t];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function xr(t,e,n){return 100*(t-e)/(n-e)}function $r(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(function(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),n=e[0].split(".")[1];return(n?n.length:0)+parseInt(e[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}(e)))}function Cr({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(gr)}function _r({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const o=(0,lr.Z)(t.current);var a;null!=(r=t.current)&&r.contains(o.activeElement)&&Number(null==o||null==(i=o.activeElement)?void 0:i.getAttribute("data-index"))===e||(null==(a=t.current)||a.querySelector(`[type="range"][data-index="${e}"]`).focus());n&&n(e)}const kr={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Er=t=>t;let Mr;function Sr(){return void 0===Mr&&(Mr="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),Mr}function Rr(t){const{"aria-labelledby":e,defaultValue:n,disabled:i=!1,disableSwap:o=!1,isRtl:a=!1,marks:u=!1,max:c=100,min:s=0,name:l,onChange:f,onChangeCommitted:d,orientation:h="horizontal",ref:p,scale:v=Er,step:m=1,tabIndex:g,value:y}=t,b=r.useRef(),[w,x]=r.useState(-1),[$,C]=r.useState(-1),[_,k]=r.useState(!1),E=r.useRef(0),[M,S]=(0,fr.Z)({controlled:y,default:null!=n?n:s,name:"Slider"}),R=f&&((t,e,n)=>{const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:e,name:l}}),f(i,e,n)}),I=Array.isArray(M);let L=I?M.slice().sort(gr):[M];L=L.map((t=>yr(t,s,c)));const O=!0===u&&null!==m?[...Array(Math.floor((c-s)/m)+1)].map(((t,e)=>({value:s+m*e}))):u||[],P=O.map((t=>t.value)),{isFocusVisibleRef:A,onBlur:T,onFocus:j,ref:B}=(0,dr.Z)(),[D,N]=r.useState(-1),z=r.useRef(),F=(0,hr.Z)(B,z),Z=(0,hr.Z)(p,F),H=t=>e=>{var n;const r=Number(e.currentTarget.getAttribute("data-index"));j(e),!0===A.current&&N(r),C(r),null==t||null==(n=t.onFocus)||n.call(t,e)},V=t=>e=>{var n;T(e),!1===A.current&&N(-1),C(-1),null==t||null==(n=t.onBlur)||n.call(t,e)};(0,pr.Z)((()=>{var t;i&&z.current.contains(document.activeElement)&&(null==(t=document.activeElement)||t.blur())}),[i]),i&&-1!==w&&x(-1),i&&-1!==D&&N(-1);const U=t=>e=>{var n;null==(n=t.onChange)||n.call(t,e);const r=Number(e.currentTarget.getAttribute("data-index")),i=L[r],a=P.indexOf(i);let u=e.target.valueAsNumber;if(O&&null==m&&(u=u<i?P[a-1]:P[a+1]),u=yr(u,s,c),O&&null==m){const t=P.indexOf(L[r]);u=u<L[r]?P[t-1]:P[t+1]}if(I){o&&(u=yr(u,L[r-1]||-1/0,L[r+1]||1/0));const t=u;u=Cr({values:L,newValue:u,index:r});let e=r;o||(e=u.indexOf(t)),_r({sliderRef:z,activeIndex:e})}S(u),N(r),R&&R(e,u,r),d&&d(e,u)},W=r.useRef();let q=h;a&&"horizontal"===h&&(q+="-reverse");const G=({finger:t,move:e=!1})=>{const{current:n}=z,{width:r,height:i,bottom:a,left:u}=n.getBoundingClientRect();let l,f;if(l=0===q.indexOf("vertical")?(a-t.y)/i:(t.x-u)/r,-1!==q.indexOf("-reverse")&&(l=1-l),f=function(t,e,n){return(n-e)*t+e}(l,s,c),m)f=$r(f,m,s);else{const t=br(P,f);f=P[t]}f=yr(f,s,c);let d=0;if(I){d=e?W.current:br(L,f),o&&(f=yr(f,L[d-1]||-1/0,L[d+1]||1/0));const t=f;f=Cr({values:L,newValue:f,index:d}),o&&e||(d=f.indexOf(t),W.current=d)}return{newValue:f,activeIndex:d}},K=vr((t=>{const e=wr(t,b);if(!e)return;if(E.current+=1,"mousemove"===t.type&&0===t.buttons)return void Y(t);const{newValue:n,activeIndex:r}=G({finger:e,move:!0});_r({sliderRef:z,activeIndex:r,setActive:x}),S(n),!_&&E.current>2&&k(!0),R&&n!==M&&R(t,n,r)})),Y=vr((t=>{const e=wr(t,b);if(k(!1),!e)return;const{newValue:n}=G({finger:e,move:!0});x(-1),"touchend"===t.type&&C(-1),d&&d(t,n),b.current=void 0,J()})),X=vr((t=>{if(i)return;Sr()||t.preventDefault();const e=t.changedTouches[0];null!=e&&(b.current=e.identifier);const n=wr(t,b);if(!1!==n){const{newValue:e,activeIndex:r}=G({finger:n});_r({sliderRef:z,activeIndex:r,setActive:x}),S(e),R&&R(t,e,r)}E.current=0;const r=(0,lr.Z)(z.current);r.addEventListener("touchmove",K),r.addEventListener("touchend",Y)})),J=r.useCallback((()=>{const t=(0,lr.Z)(z.current);t.removeEventListener("mousemove",K),t.removeEventListener("mouseup",Y),t.removeEventListener("touchmove",K),t.removeEventListener("touchend",Y)}),[Y,K]);r.useEffect((()=>{const{current:t}=z;return t.addEventListener("touchstart",X,{passive:Sr()}),()=>{t.removeEventListener("touchstart",X,{passive:Sr()}),J()}}),[J,X]),r.useEffect((()=>{i&&J()}),[i,J]);const Q=t=>e=>{var n;if(null==(n=t.onMouseDown)||n.call(t,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const r=wr(e,b);if(!1!==r){const{newValue:t,activeIndex:n}=G({finger:r});_r({sliderRef:z,activeIndex:n,setActive:x}),S(t),R&&R(e,t,n)}E.current=0;const o=(0,lr.Z)(z.current);o.addEventListener("mousemove",K),o.addEventListener("mouseup",Y)},tt=xr(I?L[0]:s,s,c),et=xr(L[L.length-1],s,c)-tt,nt=t=>e=>{var n;null==(n=t.onMouseOver)||n.call(t,e);const r=Number(e.currentTarget.getAttribute("data-index"));C(r)},rt=t=>e=>{var n;null==(n=t.onMouseLeave)||n.call(t,e),C(-1)};return{active:w,axis:q,axisProps:kr,dragging:_,focusedThumbIndex:D,getHiddenInputProps:(n={})=>{var r;const o={onChange:U(n||{}),onFocus:H(n||{}),onBlur:V(n||{})},u=(0,nr.Z)({},n,o);return(0,nr.Z)({tabIndex:g,"aria-labelledby":e,"aria-orientation":h,"aria-valuemax":v(c),"aria-valuemin":v(s),name:l,type:"range",min:t.min,max:t.max,step:null!=(r=t.step)?r:void 0,disabled:i},u,{style:(0,nr.Z)({},mr,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(t={})=>{const e={onMouseDown:Q(t||{})},n=(0,nr.Z)({},t,e);return(0,nr.Z)({ref:Z},n)},getThumbProps:(t={})=>{const e={onMouseOver:nt(t||{}),onMouseLeave:rt(t||{})};return(0,nr.Z)({},t,e)},marks:O,open:$,range:I,trackLeap:et,trackOffset:tt,values:L}}var Ir=n(54391),Lr=n(31873);const Or=["aria-label","aria-valuetext","aria-labelledby","className","component","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","scale","step","tabIndex","track","value","valueLabelFormat","isRtl","defaultValue","slotProps","slots"];function Pr(t){return t}const Ar=r.forwardRef((function(t,e){var n,i,o,a,u,c;const{"aria-label":s,"aria-valuetext":l,"aria-labelledby":f,className:d,component:h,disableSwap:p=!1,disabled:v=!1,getAriaLabel:m,getAriaValueText:g,marks:y=!1,max:b=100,min:w=0,orientation:x="horizontal",scale:$=Pr,step:C=1,track:_="normal",valueLabelFormat:k=Pr,isRtl:E=!1,defaultValue:M,slotProps:S={},slots:R={}}=t,I=(0,rr.Z)(t,Or),L=(0,nr.Z)({},t,{marks:y,disabled:v,isRtl:E,defaultValue:M,max:b,min:w,orientation:x,scale:$,step:C,track:_,valueLabelFormat:k}),{axisProps:O,getRootProps:P,getHiddenInputProps:A,getThumbProps:T,active:j,axis:B,range:D,focusedThumbIndex:N,dragging:z,marks:F,values:Z,trackOffset:H,trackLeap:V}=Rr((0,nr.Z)({},L,{ref:e})),U=(0,nr.Z)({},L,{marked:F.length>0&&F.some((t=>t.label)),dragging:z,focusedThumbIndex:N}),W=(t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:o}=t,a={root:["root",e&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,ar.Z)(a,(0,Lr.T)(sr))})(U),q=null!=(n=null!=h?h:R.root)?n:"span",G=(0,Ir.Z)({elementType:q,getSlotProps:P,externalSlotProps:S.root,externalForwardedProps:I,ownerState:U,className:[W.root,d]}),K=null!=(i=R.rail)?i:"span",Y=(0,Ir.Z)({elementType:K,externalSlotProps:S.rail,ownerState:U,className:W.rail}),X=null!=(o=R.track)?o:"span",J=(0,Ir.Z)({elementType:X,externalSlotProps:S.track,additionalProps:{style:(0,nr.Z)({},O[B].offset(H),O[B].leap(V))},ownerState:U,className:W.track}),Q=null!=(a=R.thumb)?a:"span",tt=(0,Ir.Z)({elementType:Q,getSlotProps:T,externalSlotProps:S.thumb,ownerState:U}),et=R.valueLabel,nt=(0,Ir.Z)({elementType:et,externalSlotProps:S.valueLabel,ownerState:U}),rt=null!=(u=R.mark)?u:"span",it=(0,Ir.Z)({elementType:rt,externalSlotProps:S.mark,ownerState:U,className:W.mark}),ot=null!=(c=R.markLabel)?c:"span",at=(0,Ir.Z)({elementType:ot,externalSlotProps:S.markLabel,ownerState:U}),ut=R.input||"input",ct=(0,Ir.Z)({elementType:ut,getSlotProps:A,externalSlotProps:S.input,ownerState:U});return(0,tr.jsxs)(q,(0,nr.Z)({},G,{children:[(0,tr.jsx)(K,(0,nr.Z)({},Y)),(0,tr.jsx)(X,(0,nr.Z)({},J)),F.filter((t=>t.value>=w&&t.value<=b)).map(((t,e)=>{const n=xr(t.value,w,b),i=O[B].offset(n);let o;return o=!1===_?-1!==Z.indexOf(t.value):"normal"===_&&(D?t.value>=Z[0]&&t.value<=Z[Z.length-1]:t.value<=Z[0])||"inverted"===_&&(D?t.value<=Z[0]||t.value>=Z[Z.length-1]:t.value>=Z[0]),(0,tr.jsxs)(r.Fragment,{children:[(0,tr.jsx)(rt,(0,nr.Z)({"data-index":e},it,!(0,or.Z)(rt)&&{markActive:o},{style:(0,nr.Z)({},i,it.style),className:(0,ir.Z)(it.className,o&&W.markActive)})),null!=t.label?(0,tr.jsx)(ot,(0,nr.Z)({"aria-hidden":!0,"data-index":e},at,!(0,or.Z)(ot)&&{markLabelActive:o},{style:(0,nr.Z)({},i,at.style),className:(0,ir.Z)(W.markLabel,at.className,o&&W.markLabelActive),children:t.label})):null]},e)})),Z.map(((t,e)=>{const n=xr(t,w,b),r=O[B].offset(n);return(0,tr.jsxs)(Q,(0,nr.Z)({"data-index":e},tt,{className:(0,ir.Z)(W.thumb,tt.className,j===e&&W.active,N===e&&W.focusVisible),style:(0,nr.Z)({},r,{pointerEvents:p&&j!==e?"none":void 0},tt.style),children:[(0,tr.jsx)(ut,(0,nr.Z)({"data-index":e,"aria-label":m?m(e):s,"aria-valuenow":$(t),"aria-labelledby":f,"aria-valuetext":g?g($(t),e):l,value:Z[e]},ct)),et?(0,tr.jsx)(et,(0,nr.Z)({},!(0,or.Z)(et)&&{valueLabelFormat:k,index:e,disabled:v},nt,{children:"function"==typeof k?k($(t),e):k})):null]}),e)}))]}))}));var Tr,jr=Ar,Br=["ariaLabel","ariaLabelledBy","className","defaultValue","onChange","onChangeCommitted","minimum","maximum","marks","step","variant","value"];!function(t){t.DISCRETE="discrete",t.CONTINUOUS="continuous",t.CENTER="center"}(Tr||(Tr={}));var Dr=(0,r.forwardRef)((function(t,e){var n,i,o,a=t.ariaLabel,u=t.ariaLabelledBy,c=t.className,s=void 0===c?"slider-container":c,l=t.defaultValue,f=void 0===l?0:l,d=t.onChange,h=t.onChangeCommitted,p=t.minimum,v=t.maximum,m=t.marks,g=t.step,y=t.variant,b=t.value,w=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Br),x=(0,er.F)("slider"),$=y===Tr.CONTINUOUS,C=y===Tr.CENTER,_=(0,r.useState)(f),k=_[0],E=_[1];return(0,tr.jsx)("div",Object.assign({},w,{className:s,ref:e,"data-testid":"sliderContainer",children:(0,tr.jsx)(jr,{"aria-label":u?void 0:a,"aria-labelledby":u,defaultValue:f,getAriaValueText:function(t){return""+t},onChangeCommitted:h,onChange:function(t,e){"number"==typeof e&&E(e),d&&d(t,e,0)},className:Et()(x.slider,x[y],(n={},n[x.positive]=C&&k>=f,n)),slotProps:{mark:{className:x.mark},markLabel:{className:x.markLabel},track:{className:Et()(x.track,x[y],(i={},i[x.trackPositive]=C&&k>=f,i))},rail:{className:Et()(x.rail,x[y],(o={},o[x.railPositive]=C&&k>=f,o))},thumb:{className:Et()(x.thumb,x[y])}},slots:$||C?void 0:{valueLabel:function(t){var e=t.children;return(0,tr.jsx)("span",{className:Et()(x.valueLabel,x[y]),children:e})}},step:g,marks:m,min:p,max:v,value:b})}))}));Dr.displayName="Slider";var Nr=Dr,zr=function(t){(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_background_blur_intensity_"+t,ui_element_location:"image_adp_ai_modal"}})},Fr=function(){var t=(0,ut.T)(),e=rt(),n=e.setBackgroundBlurredScale,r=e.backgroundBlurredScale,o=Pe(),a=o.viewingOriginal,u=o.setViewingOriginal;return i().createElement(Nr,{defaultValue:3,onChangeCommitted:function(t,e){a&&u(!1),e!==r&&zr(e),n(e)},marks:[{label:t("less"),value:1},{value:2},{value:3},{value:4},{label:t("more_lower"),value:5}],maximum:5,minimum:1,step:null,value:r,variant:Tr.DISCRETE})},Zr="geHet9VWe72xt9bZlLvJ",Hr="jHsff7gO5u5fUOpM7h2X",Vr="FCqt1CnXzwOJrGYZmpM8",Ur=function(){var t=rt(),e=t.backgroundRemoved,n=t.setBackgroundRemoved,r=Pe(),o=r.viewingOriginal,a=r.setViewingOriginal,u=it().clearModificationErrors,c=et().setActiveModificationSubtype,s=it().setClearNotification;return i().createElement("button",{className:Et()(Zr,e&&Hr),onClick:function(){var t;u(),s(!0),o&&a(!1),c(p.RemoveBackground),n(!e),t=!e?"remove":"restore",(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_image_remove_background_toggle_click",adp_selection:"ADP_image_toggle_"+t+"_background",ui_element_location:"image_adp_modal"}})},"data-testid":"remove-background-toggle",type:"button"},i().createElement("span",{className:Vr}))},Wr="Hdp7JCeov_Rl5PakTtmE",qr="Vxb25BTwP7XJGLS7YKkQ",Gr="XAnGBcwWV49EO8QuuTjG",Kr="VaqDElKm5NsqLPaTb9Vg",Yr="eCkdPqhe9rDYAgDkAHLA",Xr="nkLLnO9VbAdVaIhYkhHp",Jr="d_jVgKHcJdCrep6rFn7T",Qr="OOk9nD_8DNx5qH6nH_Qh",ti="vsRcZiGwO6Ll6rxspL4S",ei="FLlp5qfCJmWcNp68AKlf",ni=function(t){var e=t.canRemoveBackground,n=t.canBlurBackground,r=(0,ut.T)(),o=rt().backgroundBlurred,a={enterActive:Xr,enterDone:Jr,exit:Qr,exitActive:ti},u=e?i().createElement("div",{className:Kr},i().createElement(Ur,null),i().createElement("span",{className:Yr},r("remove_background"))):null,c=n?i().createElement(i().Fragment,null,i().createElement("div",{className:Kr},i().createElement(Qn,null),i().createElement("span",{className:Yr},r("blur_background"))),i().createElement(Gn.CSSTransition,{in:o,timeout:300,classNames:a,unmountOnExit:!0},i().createElement("div",{className:ei},i().createElement("span",null,r("intensity")),i().createElement(Fr,null)))):null,s=e&&n?i().createElement("div",{className:Gr}):null,l=e&&n?"toggle_to_blur_or_remove_bg":n?"toggle_to_blur_bg":"toggle_to_remove_bg";return i().createElement(i().Fragment,null,i().createElement("div",{className:Wr},i().createElement("div",null,r(l))),i().createElement("div",{className:qr},u,s,c))},ri=function(t){var e=t.canRemoveBackground,n=t.canBlurBackground,r=et().activeModificationType,o=r===p.RemoveBackground,a=r===p.ModifyBackground;return o?i().createElement(Tn,null):a?i().createElement(ni,{canRemoveBackground:e,canBlurBackground:n}):i().createElement(qn,null)},ii=n(66931),oi="eolUWVpUUH1BmAKlQDUw";function ai(){ai=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new I(r||[]);return i(a,"_invoke",{value:E(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,$=x&&x(x(L([])));$&&$!==n&&r.call($,a)&&(w=$);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=M(u,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function ui(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var ci,si,li,fi=function(t){var e=t.assetId,n=t.visualId,r=nt().setResetToOriginal,o=it().setClearNotification,a=rt(),u=a.setBackgroundRemoved,c=a.setBackgroundBlurred,s=tt(),l=s.resetAllObjects,f=s.setModificationCount,d=(0,ut.T)();return i().createElement(ii.zx,{onClick:function(){var t=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ui(o,r,i,a,u,"next",t)}function u(t){ui(o,r,i,a,u,"throw",t)}a(void 0)}))}}(ai().mark((function t(){return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V({assetId:e,visualId:n});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),G(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();u(!1),c(!1),f({removed:0,restored:0}),l(),r(!0),o(!0),t()},variant:ii.hZ.HOLLOW,className:oi,"data-testid":"reset-button"},i().createElement(fe,null),d("reset"))},di="QLro8_54qBMqIZbsxNaS",hi=function(){var t=(0,ut.T)(),e=Pe(),n=e.viewingOriginal,r=e.setViewingOriginal;return i().createElement(ii.zx,{onClick:function(){return r(!n)},variant:ii.hZ.HOLLOW,className:di,"data-testid":"toggle-original-button"},i().createElement(se,{flip:n}),t(n?"view_modified":"view_original"))},pi="XqBe914xGwh68b7KvzwD",vi=function(t){var e=t.assetId,n=t.visualId;return i().createElement("div",{className:pi,"data-testid":"session-controls"},i().createElement(fi,{assetId:e,visualId:n}),i().createElement(hi,null))},mi=n.p+"static/bria-logo-sm-804e231525be54a0dee8.png",gi="ANitCj0rDKJiCDOs6r7v",yi="qMzZ_rUBGzGVQ4rWirEI",bi=function(){var t=(0,ut.T)();return i().createElement("div",{className:gi},t("powered_by"),i().createElement("img",{className:yi,src:mi,alt:"Bria"}))},wi="iPGRlGjVrWWAz6hM9nb5",xi="tUYWpI60jcJGXfbMZFs7",$i=function(t){var e,n,r=t.asset,o=t.visualId,a=t.availableModifications,u=st().briaBackgroundBlurExperienceIsActive,c=rt(),s=c.backgroundRemoved,l=c.backgroundBlurred,f=tt().removedObjects,d=s||l||f.size>0,h=a.background.length>0,p=u&&h&&(null==(e=a.background)?void 0:e.some((function(t){return t.modifications.includes("blur")}))),v=h&&(null==(n=a.background)?void 0:n.some((function(t){return t.modifications.includes("remove")}))),m=a.objects.length>0;return i().createElement(Oe,null,i().createElement("div",{className:wi,"data-testid":"modifications-editor"},i().createElement(gn,{canModifyBackground:h,canBlurBackground:p,canRemoveObjects:m}),i().createElement("div",{className:xi},i().createElement(an,{asset:r,visualId:o,modificationApplied:d}),i().createElement(ri,{canRemoveBackground:v,canBlurBackground:p}),d&&i().createElement(vi,{assetId:r.assetId,visualId:o}))))},Ci=(0,r.createContext)({showImageEditor:!1,setShowImageEditor:function(){},editDetails:null,setEditDetails:function(){}}),_i=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useState)(void 0),c=u[0],s=u[1],l=(0,r.useMemo)((function(){return{showImageEditor:o,setShowImageEditor:a,editDetails:c,setEditDetails:s}}),[o,c]);return i().createElement(Ci.Provider,{value:l},e)},ki=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"facebook-icon"},i().createElement("path",{d:"M21 12.2015C21 7.20054 16.9706 3.14648 12 3.14648C7.02943 3.14648 3 7.20054 3 12.2015C3 16.7211 6.29117 20.4672 10.5937 21.1465V14.8189H8.30859V12.2015H10.5937V10.2066C10.5937 7.93715 11.9374 6.68359 13.9932 6.68359C14.9779 6.68359 16.0078 6.86045 16.0078 6.86045V9.08883H14.8729C13.7549 9.08883 13.4062 9.78682 13.4062 10.5029V12.2015H15.9023L15.5033 14.8189H13.4062V21.1465C17.7088 20.4672 21 16.7211 21 12.2015Z",fill:"white"}))},Ei=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"instagram-icon"},i().createElement("path",{d:"M8.27263 3.20943C7.31502 3.25461 6.66107 3.40743 6.08939 3.63207C5.49772 3.86265 4.99623 4.17207 4.49727 4.67283C3.9983 5.1736 3.69104 5.67544 3.46208 6.268C3.2405 6.84094 3.09038 7.49542 3.04808 8.45357C3.00577 9.41171 2.99641 9.71969 3.00109 12.1637C3.00577 14.6078 3.01657 14.9141 3.06302 15.8743C3.10874 16.8317 3.26102 17.4855 3.48566 18.0573C3.7166 18.649 4.02566 19.1503 4.52661 19.6494C5.02755 20.1486 5.52904 20.4551 6.12305 20.6844C6.69545 20.9057 7.35012 21.0565 8.30809 21.0984C9.26606 21.1404 9.5744 21.1501 12.0177 21.1454C14.4611 21.1407 14.7687 21.1299 15.7287 21.0844C16.6886 21.0389 17.339 20.8855 17.911 20.6619C18.5027 20.4304 19.0043 20.1219 19.5031 19.6208C20.0019 19.1197 20.309 18.6175 20.5378 18.0246C20.7595 17.4522 20.9102 16.7975 20.9518 15.8403C20.9937 14.8796 21.0036 14.5729 20.9989 12.1292C20.9943 9.68549 20.9833 9.37913 20.9377 8.41937C20.8922 7.4596 20.7397 6.80782 20.5153 6.2356C20.284 5.64394 19.9753 5.143 19.4745 4.64349C18.9737 4.14399 18.4712 3.83709 17.8784 3.60885C17.3057 3.38727 16.6514 3.23625 15.6934 3.19485C14.7354 3.15345 14.4271 3.14283 11.9828 3.14751C9.53858 3.15219 9.23258 3.16263 8.27263 3.20943ZM8.37775 19.4793C7.50024 19.4412 7.02378 19.2954 6.70625 19.1733C6.28577 19.0113 5.98624 18.8155 5.6698 18.5021C5.35336 18.1887 5.15896 17.8881 4.99479 17.4685C4.87149 17.151 4.72299 16.6751 4.68195 15.7976C4.63731 14.8492 4.62795 14.5644 4.62273 12.1616C4.61751 9.75875 4.62669 9.47435 4.66827 8.52557C4.70571 7.64878 4.85241 7.17178 4.97427 6.85444C5.13628 6.43342 5.3314 6.13444 5.6455 5.81818C5.9596 5.50192 6.25931 5.30716 6.67925 5.143C6.99641 5.01915 7.47234 4.87191 8.34949 4.83015C9.29864 4.78515 9.58304 4.77615 11.9855 4.77093C14.388 4.76571 14.6731 4.77471 15.6226 4.81647C16.4994 4.85463 16.9766 4.99989 17.2936 5.12248C17.7143 5.28448 18.0136 5.47906 18.3299 5.7937C18.6461 6.10834 18.8411 6.40696 19.0052 6.8278C19.1293 7.14406 19.2765 7.6198 19.3179 8.49749C19.3631 9.44663 19.3733 9.73121 19.3777 12.1335C19.382 14.5358 19.3735 14.8211 19.3319 15.7695C19.2936 16.647 19.1482 17.1237 19.0259 17.4415C18.8639 17.8618 18.6686 18.1615 18.3543 18.4776C18.0401 18.7937 17.7407 18.9885 17.3206 19.1526C17.0038 19.2763 16.5273 19.4239 15.6509 19.4656C14.7018 19.5103 14.4174 19.5196 12.014 19.5249C9.61058 19.5301 9.32708 19.5204 8.37793 19.4793M15.7148 7.3363C15.7152 7.54992 15.7789 7.75864 15.8978 7.93605C16.0168 8.11347 16.1858 8.25161 16.3833 8.33302C16.5808 8.41442 16.798 8.43542 17.0074 8.39337C17.2169 8.35132 17.4091 8.24811 17.5599 8.09678C17.7107 7.94545 17.8132 7.75281 17.8545 7.54321C17.8957 7.33362 17.8739 7.11649 17.7918 6.91929C17.7097 6.72209 17.5709 6.55367 17.3931 6.43534C17.2152 6.317 17.0063 6.25407 16.7927 6.2545C16.5063 6.25507 16.2319 6.36936 16.0297 6.57222C15.8276 6.77509 15.7143 7.04993 15.7148 7.3363ZM7.37892 12.1555C7.38396 14.7079 9.45686 16.7723 12.0087 16.7674C14.5606 16.7626 16.6265 14.6899 16.6217 12.1375C16.6168 9.58505 14.5434 7.52008 11.9911 7.52512C9.43886 7.53016 7.37406 9.60341 7.37892 12.1555ZM9.00002 12.1522C8.99884 11.5589 9.17365 10.9785 9.50232 10.4845C9.831 9.99046 10.2988 9.60501 10.8465 9.37686C11.3943 9.14871 11.9974 9.0881 12.5796 9.20271C13.1617 9.31731 13.6969 9.60198 14.1173 10.0207C14.5377 10.4395 14.8245 10.9734 14.9414 11.5552C15.0583 12.1369 15.0001 12.7402 14.7741 13.2889C14.5481 13.8375 14.1645 14.3068 13.6718 14.6374C13.1791 14.9681 12.5994 15.1452 12.006 15.1463C11.6121 15.1472 11.2218 15.0704 10.8575 14.9204C10.4931 14.7703 10.162 14.55 9.88281 14.272C9.60367 13.9939 9.38203 13.6636 9.23056 13.2999C9.07909 12.9362 9.00075 12.5462 9.00002 12.1522Z",fill:"white"}))},Mi=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"linkedin-icon"},i().createElement("path",{d:"M17.25 3.14648H6.75C4.67925 3.14648 3 4.82573 3 6.89648V17.3965C3 19.4672 4.67925 21.1465 6.75 21.1465H17.25C19.3215 21.1465 21 19.4672 21 17.3965V6.89648C21 4.82573 19.3215 3.14648 17.25 3.14648ZM9 17.3965H6.75V9.14648H9V17.3965ZM7.875 8.19548C7.1505 8.19548 6.5625 7.60298 6.5625 6.87248C6.5625 6.14198 7.1505 5.54948 7.875 5.54948C8.5995 5.54948 9.1875 6.14198 9.1875 6.87248C9.1875 7.60298 8.60025 8.19548 7.875 8.19548ZM18 17.3965H15.75V13.1935C15.75 10.6675 12.75 10.8587 12.75 13.1935V17.3965H10.5V9.14648H12.75V10.4702C13.797 8.53073 18 8.38748 18 12.3272V17.3965Z",fill:"white"}))},Si=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"pinterest-icon"},i().createElement("path",{d:"M12 3.16016C7.02703 3.16016 3 7.18718 3 12.1602C3 15.971 5.36487 19.2277 8.71622 20.5385C8.63514 19.8223 8.56757 18.7412 8.74324 17.9575C8.90541 17.2548 9.7973 13.4845 9.7973 13.4845C9.7973 13.4845 9.52703 12.9439 9.52703 12.1466C9.52703 10.8899 10.2568 9.95745 11.1486 9.95745C11.9189 9.95745 12.2838 10.5385 12.2838 11.2277C12.2838 11.998 11.7973 13.1602 11.5405 14.2277C11.3243 15.1196 11.9865 15.8493 12.8784 15.8493C14.473 15.8493 15.7027 14.1602 15.7027 11.7277C15.7027 9.57908 14.1486 8.06556 11.9459 8.06556C9.39189 8.06556 7.87838 9.98448 7.87838 11.971C7.87838 12.7412 8.17568 13.5791 8.55405 14.025C8.62162 14.1196 8.63514 14.1872 8.62162 14.2818C8.55405 14.5656 8.40541 15.1737 8.37838 15.2953C8.33784 15.4575 8.24324 15.498 8.08108 15.4169C6.95946 14.8899 6.25676 13.2548 6.25676 11.9304C6.25676 9.09259 8.32432 6.48448 12.2027 6.48448C15.3243 6.48448 17.7432 8.71421 17.7432 11.6737C17.7432 14.7683 15.7838 17.2683 13.0811 17.2683C12.1757 17.2683 11.3108 16.7953 11.0135 16.2412C11.0135 16.2412 10.5676 17.9575 10.4595 18.3764C10.2568 19.1602 9.7027 20.1331 9.33784 20.7412C10.1757 20.998 11.0676 21.1466 12 21.1466C16.973 21.1466 21 17.1196 21 12.1466C21 7.18718 16.973 3.16016 12 3.16016Z",fill:"white"}))},Ri=function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"twitter-icon"},i().createElement("path",{d:"M21 12.1465C21 17.119 16.9725 21.1465 12 21.1465C7.0275 21.1465 3 17.119 3 12.1465C3 7.17398 7.0275 3.14648 12 3.14648C16.9725 3.14648 21 7.17398 21 12.1465ZM10.353 16.894C14.3445 16.894 16.527 13.5865 16.527 10.72C16.527 10.6255 16.527 10.531 16.5225 10.441C16.9455 10.135 17.3145 9.75248 17.607 9.31598C17.22 9.48698 16.8015 9.60398 16.3605 9.65798C16.8105 9.38798 17.1525 8.96498 17.3145 8.45648C16.896 8.70398 16.4325 8.88398 15.9375 8.98298C15.5415 8.55998 14.979 8.29898 14.3535 8.29898C13.1565 8.29898 12.1845 9.27098 12.1845 10.468C12.1845 10.639 12.2025 10.8055 12.243 10.963C10.4385 10.873 8.841 10.009 7.77 8.69498C7.5855 9.01448 7.4775 9.38798 7.4775 9.78398C7.4775 10.5355 7.86 11.2015 8.445 11.5885C8.0895 11.5795 7.7565 11.4805 7.464 11.3185C7.464 11.3275 7.464 11.3365 7.464 11.3455C7.464 12.3985 8.211 13.2715 9.2055 13.474C9.0255 13.5235 8.832 13.5505 8.634 13.5505C8.4945 13.5505 8.3595 13.537 8.2245 13.51C8.499 14.374 9.3 14.9995 10.2495 15.0175C9.507 15.598 8.571 15.9445 7.554 15.9445C7.3785 15.9445 7.2075 15.9355 7.0365 15.913C7.986 16.534 9.129 16.894 10.353 16.894Z",fill:"white"}))},Ii={ratio:void 0,label:"Freeform",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-free-form-icon"},i().createElement("path",{d:"M2 24C1.46667 24 1 23.8 0.6 23.4C0.2 23 0 22.5333 0 22V16.2667H2V22H7.73333V24H2ZM16.2667 24V22H22V16.2667H24V22C24 22.5333 23.8 23 23.4 23.4C23 23.8 22.5333 24 22 24H16.2667ZM0 7.73333V2C0 1.46667 0.2 1 0.6 0.6C1 0.2 1.46667 0 2 0H7.73333V2H2V7.73333H0ZM22 7.73333V2H16.2667V0H22C22.5333 0 23 0.2 23.4 0.6C23.8 1 24 1.46667 24 2V7.73333H22Z",fill:"#353838"}))},favorited:!0},Li=[Ii,{ratio:1,label:"1:1",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x1-icon"},i().createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"1",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:ki,text:"facebook_post_carousel"},{Icon:Ei,text:"instagram_post_carousel"},{Icon:Mi,text:"linkedin_ad"},{Icon:Si,text:"pinterest_pin"},{Icon:Ri,text:"twitter"}]},{ratio:16/9,label:"16:9",Icon:function(){return i().createElement("svg",{width:"34",height:"20",viewBox:"0 0 34 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-16x9-icon"},i().createElement("rect",{x:"1",y:"1.5",width:"32",height:"17",rx:"1",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:Ri,text:"youtube_thumbnail"}]},{ratio:9/16,label:"9:16",Icon:function(){return i().createElement("svg",{width:"16",height:"30",viewBox:"0 0 16 30",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-9x16-icon"},i().createElement("rect",{x:"15",y:"1",width:"28",height:"14",rx:"1",transform:"rotate(90 15 1)",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:ki,text:"facebook_reel_story"},{Icon:Ei,text:"instagram_reel_story"},{Icon:Si,text:"pinterest_story"},{Icon:function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"snapchat-icon"},i().createElement("path",{d:"M17.25 3.14648H6.75C4.67925 3.14648 3 4.82573 3 6.89648V17.3965C3 19.4672 4.67925 21.1465 6.75 21.1465H17.25C19.3215 21.1465 21 19.4672 21 17.3965V6.89648C21 4.82573 19.3215 3.14648 17.25 3.14648ZM16.3942 15.9827C16.3455 16.048 16.3065 16.3255 16.242 16.5445C16.1685 16.7972 15.9368 16.7687 15.6795 16.7185C15.3053 16.6457 14.9708 16.6247 14.5815 16.6892C13.908 16.801 13.209 17.797 12.0367 17.797C10.7752 17.797 10.119 16.8062 9.41925 16.6892C8.706 16.5707 8.2965 16.7612 8.04975 16.7612C7.86075 16.7612 7.78725 16.6457 7.75875 16.5497C7.69575 16.3345 7.65525 16.0517 7.60575 15.9842C7.12125 15.9092 6.0285 15.7187 6 15.2305C5.99325 15.1037 6.0825 14.992 6.20775 14.971C7.812 14.707 8.8335 12.8972 8.667 12.5057C8.5485 12.2267 8.037 12.127 7.82175 12.0415C7.26675 11.8217 7.1895 11.569 7.2225 11.3965C7.26825 11.1565 7.56075 10.9952 7.806 10.9952C8.0415 10.9952 8.45775 11.3102 8.78175 11.131C8.733 10.2887 8.6145 9.08498 8.9145 8.41298C9.48675 7.13048 10.74 6.49673 11.9932 6.49673C13.2555 6.49673 14.5178 7.14023 15.0855 8.41223C15.3848 9.08348 15.267 10.282 15.219 11.131C15.525 11.2997 15.9037 10.9877 16.1677 10.9877C16.4265 10.9877 16.7783 11.1625 16.7843 11.455C16.7888 11.6837 16.5847 11.881 16.1775 12.0415C15.9585 12.1277 15.4508 12.2275 15.3323 12.5057C15.162 12.907 16.215 14.7115 17.7915 14.971C17.9168 14.9912 18.0068 15.103 17.9993 15.2305C17.9723 15.718 16.8742 15.9077 16.3942 15.9827Z",fill:"white"}))},text:"snapchat"},{Icon:function(){return i().createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"tiktok-icon"},i().createElement("path",{d:"M17.25 3.14648H6.75C4.68 3.14648 3 4.82648 3 6.89648V17.3965C3 19.4665 4.68 21.1465 6.75 21.1465H17.25C19.32 21.1465 21 19.4665 21 17.3965V6.89648C21 4.82648 19.32 3.14648 17.25 3.14648ZM16.9875 11.0365C16.89 11.044 16.8 11.0515 16.7025 11.0515C15.6525 11.0515 14.6775 10.5265 14.1 9.64148V14.434C14.1 16.3915 12.5175 17.974 10.56 17.974C8.6025 17.974 7.02 16.3915 7.02 14.434C7.02 12.4765 8.6025 10.894 10.56 10.894C10.635 10.894 10.7025 10.894 10.7775 10.9015V12.649C10.7025 12.6415 10.635 12.6265 10.56 12.6265C9.5625 12.6265 8.7525 13.4365 8.7525 14.434C8.7525 15.4315 9.5625 16.2415 10.56 16.2415C11.5575 16.2415 12.4425 15.454 12.4425 14.4565L12.4575 6.31898H14.1225C14.28 7.81898 15.4875 8.98148 16.9875 9.09398V11.029V11.0365Z",fill:"white"}))},text:"tiktok"}]},{ratio:.8,label:"4:5",Icon:function(){return i().createElement("svg",{width:"20",height:"26",viewBox:"0 0 20 26",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-4x5-icon"},i().createElement("rect",{x:"19",y:"1.5",width:"23",height:"18",rx:"1",transform:"rotate(90 19 1.5)",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:Ei,text:"instagram_post"}]},{ratio:2,label:"2:1",Icon:function(){return i().createElement("svg",{width:"38",height:"20",viewBox:"0 0 38 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-2x1-icon"},i().createElement("rect",{x:"1",y:"1.5",width:"36",height:"17",rx:"1",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:ki,text:"facebook_post_cover"},{Icon:Mi,text:"linkedin"},{Icon:Ri,text:"twitter"}]},{ratio:1.4,label:"7:5",Icon:function(){return i().createElement("svg",{width:"32",height:"22",viewBox:"0 0 32 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-7x5-icon"},i().createElement("rect",{x:"1",y:"1",width:"30",height:"20",rx:"1",fill:"white",stroke:"#353838",strokeWidth:"2"}))},favorited:!0,recommendedUses:[{Icon:Si,text:"pinterest"}]}],Oi=function(){},Pi=function(){},Ai=(0,r.createContext)({imageFlipX:!1,setImageFlipX:Oi,zoomLevel:0,setZoomLevel:Pi,topRotate:0,setTopRotate:Pi,bottomRotate:0,setBottomRotate:Pi,setActivePresetAndRatio:function(){},cropRatio:void 0,showReset:!1,setShowReset:Oi,activePreset:void 0,setCropRatio:Pi}),Ti=function(t){var e=t.children,n=(0,r.useState)(!1),o=n[0],a=n[1],u=(0,r.useState)(0),c=u[0],s=u[1],l=(0,r.useState)(0),f=l[0],d=l[1],h=(0,r.useState)(0),p=h[0],v=h[1],m=(0,r.useState)(void 0),g=m[0],y=m[1],b=(0,r.useState)(!1),w=b[0],x=b[1],$=(0,r.useState)(Ii),C=$[0],_=$[1],k=function(t){_(t),y(t.ratio)},E=(0,r.useMemo)((function(){return{imageFlipX:o,setImageFlipX:a,zoomLevel:c,setZoomLevel:s,topRotate:f,setTopRotate:d,bottomRotate:p,setBottomRotate:v,setActivePresetAndRatio:k,cropRatio:g,showReset:w,setShowReset:x,activePreset:C,setCropRatio:y}}),[o,c,f,p,g,o,w,C]);return i().createElement(Ai.Provider,{value:E},e)},ji=function(){return(0,r.useContext)(Ci)},Bi=function(){return(0,r.useContext)(Ai)},Di="bCMmK8vDfXQFcZ5gsX0K",Ni=function(t){var e=t.Icon,n=t.text,r=t.handleClick;return i().createElement("button",{className:Di,"data-testid":"crop-image-button",onClick:function(){return r()},type:"button"},e&&i().createElement(e,null),n)},zi=["textContent","innerHTML"];function Fi(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function Hi(t,e,n){return e&&Zi(t.prototype,e),n&&Zi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ui(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Yi(t,e)}function Gi(t){var e="function"==typeof Map?new Map:void 0;return Gi=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ki(t,arguments,Xi(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Yi(n,t)},Gi(t)}function Ki(t,e,n){return Ki=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Yi(i,n.prototype),i},Ki.apply(null,arguments)}function Yi(t,e){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yi(t,e)}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(t)}function Ji(){Ji=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new I(r||[]);return i(a,"_invoke",{value:E(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,$=x&&x(x(L([])));$&&$!==n&&r.call($,a)&&(w=$);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=M(u,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Qi(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function to(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Qi(o,r,i,a,u,"next",t)}function u(t){Qi(o,r,i,a,u,"throw",t)}a(void 0)}))}}var eo,no=[{value:65504,name:"jfif"},{value:65498,name:"sos"},{value:65505,subvalue:17784,name:"exif"},{value:65505,subvalue:26740,name:"xmp"},{value:65506,subvalue:19792,name:"mpf"}],ro=function(t){if(65496===t.getUint16(0)){for(var e,n=t.byteLength,r=2,i=void 0;r<n&&255===t.getUint8(r);){e=t.getUint16(r);var o=no.find((function(n){return n.value===e&&(!n.subvalue||n.subvalue===t.getUint16(r+2+2))}));if(o){var a=o.name;i||(i={}),i[a]||(i[a]={offset:r,size:t.getUint16(r+2)})}if(65498===e)break;r+=2+t.getUint16(r+2)}return i}},io=function(t,e,n){if(t){var r=new DataView(t),i=ro(r);if(i&&i.exif){var o=function(t,e){if(65505===t.getUint16(e)){var n=t.getUint16(e+2);if(e+=4,1165519206===t.getUint32(e)){e+=6;var r=t.getUint16(e);if(18761===r||19789===r){var i=18761===r;if(e+=2,42===t.getUint16(e,i)){e+=t.getUint32(e+2,i);var o=function(r){for(var o=[],a=e,u=Math.min(t.byteLength,e+n-16);a<u;a+=12){var c=a;t.getUint16(c,i)===r&&o.push(c)}return o};return{read:function(e){var n=o(e);if(n.length)return t.getUint16(n[0]+8,i)},write:function(e,n){var r=o(e);return!!r.length&&(r.forEach((function(e){return t.setUint16(e+8,n,i)})),!0)}}}}}}}(r,i.exif.offset);if(o)return void 0===n?o.read(e):o.write(e,n)}}},oo="__pqina_webapi__",ao=function(t){return window[oo]?window[oo][t]:window[t]},uo=function(){},co="readAsArrayBuffer",so=function(t,e,n){return void 0===e&&(e=uo),void 0===n&&(n={}),new Promise((function(r,i){var o=n.dataFormat,a=void 0===o?co:o,u=new(ao("FileReader"));u.onload=function(){return r(u.result)},u.onerror=function(){return i(u.error)},u.onprogress=e,u[a](t)}))},lo=function(){var t=to(Ji().mark((function t(e,n,r){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=[0,e.size]),t.next=3,so(e.slice.apply(e,n),r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),fo=null,ho=function(){return null===fo&&(fo="undefined"!=typeof window&&void 0!==window.document),fo},po=null,vo=function(){return new Promise((function(t){if(null===po){var e=ho()?new Image:{};return e.onload=function(){po=1===e.naturalWidth,e=void 0,t(po)},void(e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=")}return t(po)}))},mo=function(t){return t.getContext("2d").getImageData(0,0,t.width,t.height)},go=function(t,e,n){void 0===n&&(n=[]);var r=document.createElement(t),i=Object.getOwnPropertyDescriptors(r.__proto__);for(var o in e)"style"===o?r.style.cssText=e[o]:i[o]&&i[o].set||/textContent|innerHTML/.test(o)||"function"==typeof e[o]?r[o]=e[o]:r.setAttribute(o,e[o]);return n.forEach((function(t){return r.appendChild(t)})),r},yo={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},bo=function(t,e,n){return void 0===n&&(n=-1),-1===n&&(n=1),yo[n](t,e)},wo=function(t){t.width=1,t.height=1;var e=t.getContext("2d");e&&e.clearRect(0,0,1,1)},xo=function(t){return"data"in t},$o=function(t){return ho()?RegExp(t).test(window.navigator.userAgent):void 0},Co=null,_o=function(){return null===Co&&(Co=$o(/Android/)),Co},ko=function(t,e){var n=go("canvas",{width:t.width,height:t.height});return n.getContext("2d",e).drawImage(t,0,0),n},Eo=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),t.next=3,vo();case 3:if(r=t.sent,i=r||n<5?[e.width,e.height]:[e.height,e.width],o=go("canvas",{width:i[0],height:i[1]}),a=o.getContext("2d",{willReadFrequently:!0}),xo(e)&&!r&&n>1&&(u=go("canvas",{width:e.width,height:e.height}),u.getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),e=u),!r&&n>1&&a.transform.apply(a,bo(e.width,e.height,n)),!xo(e)){t.next=15;break}if(a.putImageData(e,0,0),!_o()){t.next=13;break}return t.abrupt("return",ko(o));case 13:t.next=16;break;case 15:a.drawImage(e,0,0);case 16:return e instanceof HTMLCanvasElement&&wo(e),t.abrupt("return",o);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Mo=function(){var t=to(Ji().mark((function t(e,n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=1),1!==n){t.next=3;break}return t.abrupt("return",e);case 3:return t.next=5,vo();case 5:if(t.sent){t.next=11;break}return t.t0=mo,t.next=9,Eo(e,n);case 9:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),So=function(t){return"object"==typeof t},Ro=function(t){return t instanceof HTMLElement?t:So(t)?Io(t):t},Io=function(t){var e;return Array.isArray(t)?(e=[],t.forEach((function(t,n){e[n]=Ro(t)}))):(e={},Object.keys(t).forEach((function(n){var r=t[n];e[n]=Ro(r)}))),e},Lo=function(t){return"string"==typeof t},Oo=function(t){return"function"==typeof t},Po=function(t,e){return new Promise((function(n,r){var i=function(){return n(function(t,e){var n=e.width,r=e.height,i=e.canvasMemoryLimit,o=e.contextOptions,a=n||t.naturalWidth,u=r||t.naturalHeight;a||u||(a=300,u=150);var c=a*u;if(i&&c>i){var s=Math.sqrt(i)/Math.sqrt(c);a=Math.floor(a*s),u=Math.floor(u*s)}var l=go("canvas");return l.width=a,l.height=u,l.getContext("2d",o).drawImage(t,0,0,a,u),l}(t,e))};t.complete&&t.width?i():(t.onload=i,t.onerror=function(){return r(new Error("Failed to load image"))})}))},Ao=function(){var t=to(Ji().mark((function t(e,n){var r,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=go("img",{src:URL.createObjectURL(e)}),t.next=3,Po(r,n);case 3:return i=t.sent,URL.revokeObjectURL(r.src),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),To=function(){return"createImageBitmap"in window},jo=function(t){return/svg/.test(t.type)},Bo=function(){return Math.random().toString(36).substr(2,9)},Do=new Map,No=function(t,e,n){return new Promise((function(r,i){var o=t.toString(),a=Do.get(o);if(!a){var u=function(t){return"function () {self.onmessage = function (message) {("+t.toString()+").apply(null, message.data.content.concat([function (err, response) {\n    response = response || {};\n    const transfer = 'data' in response ? [response.data.buffer] : 'width' in response ? [response] : [];\n    return self.postMessage({ id: message.data.id, content: response, error: err }, transfer);\n}]))}}"}(t),c=URL.createObjectURL(function(t){return new Blob(["(","function"==typeof t?t.toString():t,")()"],{type:"application/javascript"})}(u)),s=new Map,l=new Worker(c);a={url:c,worker:l,messages:s,terminationTimeout:void 0,terminate:function(){clearTimeout(a.terminationTimeout),a.worker.terminate(),URL.revokeObjectURL(c),Do.delete(o)}},l.onmessage=function(t){var e=t.data,n=e.id,r=e.content,i=e.error;if(clearTimeout(a.terminationTimeout),a.terminationTimeout=setTimeout((function(){s.size>0||a.terminate()}),500),s.has(n)){var o=s.get(n);s.delete(n),null!=i?o.reject(i):o.resolve(r)}},Do.set(o,a)}var f=Bo();a.messages.set(f,{resolve:r,reject:i}),a.worker.postMessage({id:f,content:e},n)}))},zo=function(){var t=to(Ji().mark((function t(e,n){var r,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(){var t=to(Ji().mark((function t(){var r,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ao(e,{canvasMemoryLimit:n,contextOptions:{willReadFrequently:!0}});case 2:return r=t.sent,i=mo(r),wo(r),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!_o()){t.next=5;break}return t.next=4,r();case 4:return t.abrupt("return",t.sent);case 5:if(!To()||jo(e)||!("OffscreenCanvas"in window)){t.next=14;break}return t.prev=6,t.next=9,No((function(t,e,n){createImageBitmap(t).then((function(t){var r=t.width,i=t.height,o=r*i;if(e&&o>e){var a=Math.sqrt(e)/Math.sqrt(o);r=Math.floor(r*a),i=Math.floor(i*a)}var u=new OffscreenCanvas(r,i),c=u.getContext("2d",{willReadFrequently:!0});c.drawImage(t,0,0,r,i);var s=c.getImageData(0,0,u.width,u.height);n(null,s)})).catch((function(t){n(t)}))}),[e,n]);case 9:i=t.sent,t.next=14;break;case 12:t.prev=12,t.t0=t.catch(6);case 14:if(i&&i.width){t.next=18;break}return t.next=17,r();case 17:return t.abrupt("return",t.sent);case 18:return t.abrupt("return",i);case 19:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e,n){return t.apply(this,arguments)}}(),Fo=function(t,e,n){return void 0===e&&(e=void 0),void 0===n&&(n=void 0),new Promise((function(r,i){try{t.toBlob((function(t){if(!t)return i(new Error("Failed to create blob"));r(t)}),e,n)}catch(t){i(t)}}))},Zo=function(){var t=to(Ji().mark((function t(e,n,r){var i,o;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Eo(e);case 2:return i=t.sent,t.next=5,Fo(i,n,r);case 5:return o=t.sent,wo(i),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Ho=function(t,e,n){return void 0===n&&(n=[0,t.size]),e?new Blob([e,t.slice.apply(t,n)],{type:t.type}):t},Vo={matroska:"mkv"},Uo=function(t){var e=(t.match(/\/([a-z0-9]+)/)||[])[1];if(/^x/.test(e)){var n=t.split("/x-")[1];return Vo[void 0===n?"":n]}return e},Wo=function(t){return t.substr(0,t.lastIndexOf("."))||t},qo=/avif|bmp|gif|jpg|jpeg|jpe|jif|jfif|png|svg|tiff|webp/,Go=function(t){return t&&(e=(n=t,n.split(".").pop()).toLowerCase(),qo.test(e)?"image/"+(/jfif|jif|jpe|jpg/.test(e)?"jpeg":"svg"===e?"svg+xml":e):"");var e,n},Ko=function(t,e,n){var r=(new Date).getTime(),i=t.type.length&&!/null|text/.test(t.type),o=i?t.type:n,a=function(t,e){var n=Go(t);if(n===e)return t;var r=Uo(e)||n;return Wo(t)+"."+r}(e,o);try{return new(ao("File"))([t],a,{lastModified:r,type:i?t.type:o})}catch(e){var u=i?t.slice():t.slice(0,t.size,o);return u.lastModified=r,u.name=a,u}},Yo=function(t,e){return t/e},Xo=function(t){return t},Jo=(Math.PI,Math.PI/2),Qo=Jo/2,ta=function(t){var e=Math.abs(t)%Math.PI;return e>Qo&&e<Math.PI-Qo},ea={Top:"t",Right:"r",Bottom:"b",Left:"l",TopLeft:"tl",TopRight:"tr",BottomRight:"br",BottomLeft:"bl"},na=ea.Top,ra=ea.Right,ia=ea.Bottom,oa=ea.Left,aa=ea.TopLeft,ua=ea.TopRight,ca=ea.BottomRight,sa=ea.BottomLeft,la=(ci={},ci[na]=[.5,0],ci[ra]=[1,.5],ci[ia]=[.5,1],ci[oa]=[0,.5],ci[aa]=[0,0],ci[ua]=[1,0],ci[ca]=[1,1],ci[sa]=[0,1],ci),fa=function(t,e){return void 0===e&&(e=12),parseFloat(t.toFixed(e))},da=function(t,e,n){return n+(t-n)*e},ha=function(){return pa(0,0)},pa=function(t,e){return{x:t,y:e}},va=function(t){return pa(t.pageX,t.pageY)},ma=function(t){return pa(t.x,t.y)},ga=function(t){return t.x=-t.x,t.y=-t.y,t},ya=function(t,e,n){void 0===n&&(n=ha());var r=Math.cos(e),i=Math.sin(e),o=t.x-n.x,a=t.y-n.y;return t.x=n.x+r*o-i*a,t.y=n.y+i*o+r*a,t},ba=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},wa=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?ha():(t.x/=e,t.y/=e,t)},xa=function(t,e){return t.x===e.x&&t.y===e.y},$a=function(t,e){return t.x=e(t.x),t.y=e(t.y),t},Ca=function(t,e){return t.x+=e.x,t.y+=e.y,t},_a=function(t,e){return t.x-=e.x,t.y-=e.y,t},ka=function(t,e){return t.x/=e,t.y/=e,t},Ea=function(t,e){return t.x*=e,t.y*=e,t},Ma=function(t,e){return t.x*e.x+t.y*e.y},Sa=function(t,e){return t.x*e.y-t.y*e.x},Ra=function(t,e){void 0===e&&(e=ha());var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},Ia=function(t,e){return void 0===e&&(e=ha()),Math.sqrt(Ra(t,e))},La=function(t,e,n){return t.x=da(t.x,e,n.x),t.y=da(t.y,e,n.y),t},Oa=function(t){var e=0,n=0;return t.forEach((function(t){e+=t.x,n+=t.y})),pa(e/t.length,n/t.length)},Pa=function(t,e,n,r,i){return t.forEach((function(t){t.x=e?r-(t.x-r):t.x,t.y=n?i-(t.y-i):t.y})),t},Aa=function(t,e,n,r){var i=Math.sin(e),o=Math.cos(e);return t.forEach((function(t){t.x-=n,t.y-=r;var e=t.x*o-t.y*i,a=t.x*i+t.y*o;t.x=n+e,t.y=r+a})),t},Ta=function(t,e){return{width:t,height:e}},ja=function(t){return Ta(t.width,t.height)},Ba=function(t){return Ta(t.width,t.height)},Da=function(t){return Ta(t.width,t.height)},Na=function(t){return Ta(t[0],t[1])},za=function(t){return/img/i.test(t.nodeName)?Ta((e=t).naturalWidth,e.naturalHeight):Ba(t);var e},Fa=function(t,e){return Ta(t,e)},Za=function(t,e,n){return void 0===n&&(n=Xo),n(t.width)===n(e.width)&&n(t.height)===n(e.height)},Ha=function(t,e){return t.width*=e,t.height*=e,t},Va=function(t){return pa(.5*t.width,.5*t.height)},Ua=function(t,e){var n=Math.abs(e),r=Math.cos(n),i=Math.sin(n),o=r*t.width+i*t.height,a=i*t.width+r*t.height;return t.width=o,t.height=a,t},Wa=function(t,e){return t.width>=e.width&&t.height>=e.height},qa=function(t,e){return t.width=e(t.width),t.height=e(t.height),t},Ga=function(t,e){return{start:t,end:e}},Ka=function(t){return Ga(ma(t.start),ma(t.end))},Ya=function(t,e){if(0===e)return t;var n=pa(t.start.x-t.end.x,t.start.y-t.end.y),r=wa(n),i=Ea(r,e);return t.start.x+=i.x,t.start.y+=i.y,t.end.x-=i.x,t.end.y-=i.y,t},Xa=[pa(-1,-1),pa(-1,1),pa(1,1),pa(1,-1)],Ja=function(t,e,n,r){return{x:t,y:e,width:n,height:r}},Qa=function(t){return Ja(t.x,t.y,t.width,t.height)},tu=function(){return Ja(0,0,0,0)},eu=function(t){return Ja(0,0,t.width,t.height)},nu=function(t){return Ja(t.x||0,t.y||0,t.width||0,t.height||0)},ru=function(t){var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.y)})),Ja(e,r,n-e,i-r)},iu=function(t,e){return Ja(t.x-.5*e.width,t.y-.5*e.height,e.width,e.height)},ou=function(t,e,n,r){return Ja(t,e,n,r)},au=function(t){return pa(t.x+.5*t.width,t.y+.5*t.height)},uu=function(t,e){return t.x+=e.x,t.y+=e.y,t},cu=function(t,e,n){return n=n||au(t),t.x=e*(t.x-n.x)+n.x,t.y=e*(t.y-n.y)+n.y,t.width=e*t.width,t.height=e*t.height,t},su=function(t,e,n,r){var i=(r.x-t.x)/t.width,o=(r.y-t.y)/t.height,a=Math.max(e.width,t.width),u=Math.max(e.height,t.height);return a=Math.min(n.width,a),u=Math.min(n.height,u),t.x=r.x-i*a,t.y=r.y-o*u,t.width=a,t.height=u,t},lu=function(t,e){var n=la[e],r=n[0],i=n[1],o=r*t.width,a=i*t.height;return pa(t.x+o,t.y+a)},fu=function(t,e){return t.x*=e,t.y*=e,t.width*=e,t.height*=e,t},du=function(t,e,n){return void 0===n&&(n=Xo),n(t.x)===n(e.x)&&n(t.y)===n(e.y)&&n(t.width)===n(e.width)&&n(t.height)===n(e.height)},hu=function(t){return Yo(t.width,t.height)},pu=function(t,e,n,r,i){return t.x=e,t.y=n,t.width=r,t.height=i,t},vu=function(t,e){return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},mu=function(t,e,n){return n||(n=au(t)),$u(t).map((function(t){return ya(t,e,n)}))},gu=function(t,e){return Ja(.5*t.width-.5*e.width,.5*t.height-.5*e.height,e.width,e.height)},yu=function(t,e){return!(e.x<t.x)&&(!(e.y<t.y)&&(!(e.x>t.x+t.width)&&!(e.y>t.y+t.height)))},bu=function(t,e,n){if(void 0===n&&(n=ha()),0===t.width||0===t.height)return tu();var r=hu(t);e||(e=r);var i=t.width,o=t.height;return e>r?i=o*e:o=i/e,Ja(n.x+.5*(t.width-i),n.y+.5*(t.height-o),i,o)},wu=function(t,e,n){if(void 0===e&&(e=hu(t)),void 0===n&&(n=ha()),0===t.width||0===t.height)return tu();var r=t.width,i=r/e;return i>t.height&&(r=(i=t.height)*e),Ja(n.x+.5*(t.width-r),n.y+.5*(t.height-i),r,i)},xu=function(t){return[Math.min(t.y,t.y+t.height),Math.max(t.x,t.x+t.width),Math.max(t.y,t.y+t.height),Math.min(t.x,t.x+t.width)]},$u=function(t){return[pa(t.x,t.y),pa(t.x+t.width,t.y),pa(t.x+t.width,t.y+t.height),pa(t.x,t.y+t.height)]},Cu=function(t,e){if(t)return t.x=e(t.x),t.y=e(t.y),t.width=e(t.width),t.height=e(t.height),t},_u=function(t,e,n){return void 0===n&&(n=au(t)),$u(t).map((function(t,r){var i=Xa[r];return pa(da(t.x,1+i.x*e.x,n.x),da(t.y,1+i.y*e.y,n.y))}))},ku=function(t){return t.x=0,t.y=0,t},Eu=function(t){var e=t[0],n=t[t.length-1];t=xa(e,n)?t:[].concat(t,[e]);for(var r,i,o,a=e.x,u=e.y,c=0,s=0,l=0,f=0,d=t.length;s<d;s++)r=t[s],i=t[s+1>d-1?0:s+1],c+=o=(r.y-u)*(i.x-a)-(i.y-u)*(r.x-a),l+=(r.x+i.x-2*a)*o,f+=(r.y+i.y-2*u)*o;return pa(a+l/(o=3*c),u+f/o)},Mu=function(t,e){return Su(t.start,t.end,e.start,e.end)},Su=function(t,e,n,r){var i=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==i){var o=((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/i,a=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/i;if(!(o<0||o>1||a<0||a>1))return pa(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y))}},Ru=function(t,e,n){for(var r=void 0===n?{}:n,i=r.ignoreIdenticalLines,o=void 0!==i&&i,a=r.breakOnIntersection,u=void 0!==a&&a,c=e.length,s=[],l=0;l<c-1;l++)if(!o||!(xa(t.start,e[l])||xa(t.start,e[l+1])||xa(t.end,e[l])||xa(t.end,e[l+1]))){var f=Su(t.start,t.end,e[l],e[l+1]);if(f){if(u)return[f];s.push(f)}}return s.length?s:void 0},Iu=function(t){for(var e=[],n=0;n<t.length;n++){var r=n+1;r===t.length&&(r=0),e.push(Ga(ma(t[n]),ma(t[r])))}return e},Lu=function(t,e){return void 0===e&&(e=0),Iu(t).map((function(t){return Ya(t,e)}))},Ou=function(t,e,n,r,i,o,a){void 0===r&&(r=0),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===a&&(a=12);for(var u=[],c=0;c<a;c++)u.push(pa(t.x+e*Math.cos(c*(2*Math.PI)/a),t.y+n*Math.sin(c*(2*Math.PI)/a)));return(i||o)&&Pa(u,i,o,t.x,t.y),r&&Aa(u,r,t.x,t.y),u},Pu=function(t,e){var n=eu(t),r=au(n),i=mu(n,e,r);return ku(ru(i))},Au=function(t,e){return t instanceof HTMLElement&&(!e||new RegExp("^"+e+"$","i").test(t.nodeName))},Tu=function(t){return t instanceof File},ju=function(){var t=to(Ji().mark((function t(e,n,r){var i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fo(e,n,r);case 2:return i=t.sent,t.abrupt("return",Ko(i,"canvas"));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Bu=function(t){return t.split("/").pop().split(/\?|\#/).shift()},Du=ho()&&!!Node.prototype.replaceChildren,Nu=Du?function(t,e){return t.replaceChildren(e)}:function(t,e){for(;t.lastChild;)t.removeChild(t.lastChild);void 0!==e&&t.append(e)},zu=ho()&&go("div",{class:"PinturaMeasure",style:"position:absolute;left:0;top:0;width:99999px;height:0;pointer-events:none;contain:strict;margin:0;padding:0;"}),Fu=function(t){return Nu(zu,t),zu.parentNode||document.body.append(zu),clearTimeout(eo),eo=setTimeout((function(){zu.remove()}),500),t},Zu=null,Hu=function(){return null===Zu&&(Zu=ho()&&/^((?!chrome|android).)*(safari|iphone|ipad)/i.test(navigator.userAgent)),Zu},Vu=function(t){return new Promise((function(e,n){var r=!1;!t.parentNode&&Hu()&&(r=!0,t.style.cssText="position:absolute;visibility:hidden;pointer-events:none;left:0;top:0;width:0;height:0;",Fu(t));var i=function(){var n=t.naturalWidth,i=t.naturalHeight;n&&i&&(r&&t.remove(),clearInterval(o),e({width:n,height:i}))};t.onerror=function(t){clearInterval(o),n(t)};var o=setInterval(i,1);i()}))},Uu=function(t){return new Promise((function(e,n){var r=function(){e({width:t.videoWidth,height:t.videoHeight})};if(t.readyState>=1)return r();t.onloadedmetadata=r,t.onerror=function(){return n(t.error)}}))},Wu=function(t){return/^image/.test(t.type)},qu=function(t){return new Promise((function(e){var n=Lo(t)?t:URL.createObjectURL(t),r=function(){var t=new Image;t.src=n,e(t)};if(t instanceof Blob&&Wu(t))return r();var i=document.createElement("video");i.preload="metadata",i.onloadedmetadata=function(){return e(i)},i.onerror=r,i.src=n}))},Gu=function(t){return"VIDEO"===t.nodeName},Ku=function(){var t=to(Ji().mark((function t(e){var n,r;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.src){t.next=6;break}return t.next=3,qu(e);case 3:n=t.sent,t.next=7;break;case 6:n=e;case 7:if(t.prev=7,!Gu(n)){t.next=14;break}return t.next=11,Uu(n);case 11:t.t0=t.sent,t.next=17;break;case 14:return t.next=16,Vu(n);case 16:t.t0=t.sent;case 17:r=t.t0;case 18:return t.prev=18,Tu(e)&&URL.revokeObjectURL(n.src),t.finish(18);case 21:return t.abrupt("return",r);case 22:case"end":return t.stop()}}),t,null,[[7,,18,21]])})));return function(e){return t.apply(this,arguments)}}(),Yu=function(t){return new Promise((function(e,n){if(t.complete)return e(t);t.onload=function(){return e(t)},t.onerror=function(){return n(new Error("Failed to load image"))}}))},Xu=function(){var t=to(Ji().mark((function t(e){var n,r,i,o;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ku(e);case 2:return n=t.sent,t.next=5,Yu(e);case 5:return r=t.sent,i=go("canvas",n),i.getContext("2d",{willReadFrequently:!0}).drawImage(r,0,0),t.next=11,Fo(i);case 11:return o=t.sent,t.abrupt("return",Ko(o,Bu(r.src)));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ju=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=!0),new(ao("ProgressEvent"))("progress",{loaded:100*t,total:100,lengthComputable:e})},Qu=function(){var t=to(Ji().mark((function t(e,n,r){var i,o,a,u;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n="data-uri"),void 0===r&&(r=uo),r(Ju(0)),t.next=5,fetch(e);case 5:return i=t.sent,r(Ju(.33)),t.next=9,i.blob();case 9:return o=t.sent,Wu(o)||(a="image/"+(e.includes(",/9j/")?"jpeg":"png")),r(Ju(.66)),u=Ko(o,n,a),r(Ju(1)),t.abrupt("return",u);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),tc=function(t,e,n){return void 0===n&&(n=function(t){return t}),t.getAllResponseHeaders().indexOf(e)>=0?n(t.getResponseHeader(e)):void 0},ec=function(t){if(!t)return null;var e=t.split(/filename=|filename\*=.+''/).splice(1).map((function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(t){return t.length}));return e.length?decodeURI(e[e.length-1]):null},nc="URL_REQUEST",rc=function(t){function e(e,n,r){var i;return(i=t.call(this,e)||this).name="EditorError",i.code=n,i.metadata=r,i}return qi(e,t),e}(Gi(Error)),ic=function(t,e){var n=e||{},r=n.headers,i=void 0===r?{}:r,o=n.credentials;Object.entries(i).forEach((function(e){var n=e[0],r=e[1];return t.setRequestHeader(n,r)})),o&&(t.withCredentials="omit"!==o)},oc=function(t,e,n){return/^data:/.test(t)?Qu(t,void 0,e):function(t,e,n){return new Promise((function(r,i){var o=function(){return i(new rc("Error fetching image",nc,a))},a=new XMLHttpRequest;a.onprogress=e,a.onerror=o,a.onload=function(){if(!a.response||a.status>=300||a.status<200)return o();var e=tc(a,"Content-Type"),n=tc(a,"Content-Disposition",ec)||Bu(t);r(Ko(a.response,n,e||Go(n)))};var u=n.willRequest;Promise.resolve(u&&u(t,{resourceType:"image"})).then((function(e){if(!1===e)return i("Image load rejected");a.open("GET",t),ic(a,e),a.responseType="blob",a.send()})).catch(console.error)}))}(t,e,n)},ac=function(t){return t instanceof Blob&&!(t instanceof File)},uc=function(t){return"close"in t},cc=function(){var t=to(Ji().mark((function t(e,n,r){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Tu(e)&&!ac(e)){t.next=4;break}return t.abrupt("return",e);case 4:if(!Lo(e)){t.next=10;break}return t.next=7,oc(e,n,r);case 7:case 13:case 19:case 29:return t.abrupt("return",t.sent);case 10:if(!Au(e,"canvas")){t.next=16;break}return t.next=13,ju(e);case 16:if(!Au(e,"img")){t.next=22;break}return t.next=19,Xu(e);case 22:if(!xo(e)&&!uc(e)){t.next=32;break}return t.t0=ju,t.next=26,Eo(e);case 26:return t.t1=t.sent,t.next=29,(0,t.t0)(t.t1);case 32:throw new rc("Invalid image source","invalid-image-source");case 33:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),sc=null,lc=function(){return null===sc&&(sc=ho()&&/^mac/i.test(navigator.platform)),sc},fc=null,dc=function(){return null===fc&&(fc=ho()&&($o(/iPhone|iPad|iPod/)||lc()&&navigator.maxTouchPoints>=1)),fc},hc=function(){var t=to(Ji().mark((function t(e,n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),t.next=3,vo();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=dc();case 6:if(!t.t0){t.next=8;break}return t.abrupt("return",e);case 8:if(!(n<5)){t.next=10;break}return t.abrupt("return",e);case 10:return t.abrupt("return",Fa(e.height,e.width));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),pc=function(t){return/jpeg/.test(t.type)},vc=function(t){return"object"!=typeof(e=t)||e.constructor!=Object?t:JSON.stringify(t);var e},mc=function(t,e,n){return new Promise((function(r,i){var o=n.token,a=void 0===o?{}:o,u=n.beforeSend,c=void 0===u?uo:u,s=n.onprogress,l=void 0===s?uo:s;a.cancel=function(){return f.abort()};var f=new XMLHttpRequest;f.upload.onprogress=l,f.onload=function(){return f.status>=200&&f.status<300?r(f):i(f)},f.onerror=function(){return i(f)},f.ontimeout=function(){return i(f)},f.open("POST",encodeURI(t)),c(f),f.send(e instanceof FormData?e:e.reduce((function(t,e){return t.append.apply(t,e.map(vc)),t}),new FormData))}))},gc=function(t,e,n){return void 0===e&&(e=0),0===e||(t.translate(n.x,n.y),t.rotate(e),t.translate(-n.x,-n.y)),t},yc=function(t,e,n){return t.translate(e,n),t},bc=function(t,e,n){return t.scale(e,n),t},wc=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).flipX,o=r.flipY,a=r.rotation,u=r.crop,c=Ba(e),s=i||o,l=!!a,f=u&&(u.x||u.y||u.width||u.height),d=f&&du(u,eu(c)),h=f&&!d,s||l||h){t.next=10;break}return t.abrupt("return",e);case 10:if((v=go("canvas",{width:e.width,height:e.height})).getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),s&&(m=go("canvas",{width:v.width,height:v.height}).getContext("2d",{willReadFrequently:!0}),bc(m,i?-1:1,o?-1:1),m.drawImage(v,i?-v.width:0,o?-v.height:0),m.restore(),wo(v),v=m.canvas),!l){t.next=24;break}g=qa(Da(ru(mu(nu(v),a))),Math.floor),y=go("canvas",{width:u.width,height:u.height}).getContext("2d",{willReadFrequently:!0}),yc(y,-u.x,-u.y),gc(y,a,Va(g)),y.drawImage(v,.5*(g.width-v.width),.5*(g.height-v.height)),y.restore(),wo(v),v=y.canvas,t.next=29;break;case 24:if(!h){t.next=29;break}return b=v.getContext("2d",{willReadFrequently:!0}),p=b.getImageData(u.x,u.y,u.width,u.height),wo(v),t.abrupt("return",p);case 29:return w=v.getContext("2d",{willReadFrequently:!0}),p=w.getImageData(0,0,v.width,v.height),wo(v),t.abrupt("return",p);case 33:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),xc=function(t,e){for(var n=t.imageData,r=t.width,i=t.height,o=n.width,a=n.height,u=Math.round(r),c=Math.round(i),s=n.data,l=new Uint8ClampedArray(u*c*4),f=o/u,d=a/c,h=Math.ceil(.5*f),p=Math.ceil(.5*d),v=0;v<c;v++)for(var m=0;m<u;m++){for(var g=4*(m+v*u),y=0,b=0,w=0,x=0,$=0,C=0,_=0,k=(v+.5)*d,E=Math.floor(v*d);E<(v+1)*d;E++)for(var M=Math.abs(k-(E+.5))/p,S=(m+.5)*f,R=M*M,I=Math.floor(m*f);I<(m+1)*f;I++){var L=Math.abs(S-(I+.5))/h,O=Math.sqrt(R+L*L);if(!(O<-1||O>1)&&!((y=2*O*O*O-3*O*O+1)<=0)){var P=s[(L=4*(I+E*o))+3];_+=y*P,w+=y,P<255&&(y=y*P/250),x+=y*s[L],$+=y*s[L+1],C+=y*s[L+2],b+=y}}l[g]=x/b,l[g+1]=$/b,l[g+2]=C/b,l[g+3]=_/w}e(null,{data:l,width:u,height:c})},$c=function(t){if(t instanceof ImageData)return t;var e;try{e=new ImageData(t.width,t.height)}catch(n){e=go("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},Cc=function(){var t=to(Ji().mark((function t(e,n,r){var i,o,a,u,c,s,l,f,d,h;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),o=(i=n).width,a=i.height,u=i.fit,c=i.upscale,o||a){t.next=4;break}return t.abrupt("return",e);case 4:if(s=o,l=a,o?a||(l=o):s=a,"force"===u){t.next=16;break}if(f=s/e.width,d=l/e.height,h=1,"cover"===u?h=Math.max(f,d):"contain"===u&&(h=Math.min(f,d)),!(h>1&&!1===c)){t.next=14;break}return t.abrupt("return",e);case 14:s=Math.round(e.width*h),l=Math.round(e.height*h);case 16:if(s=Math.max(s,1),l=Math.max(l,1),e.width!==s||e.height!==l){t.next=20;break}return t.abrupt("return",e);case 20:if(!r){t.next=22;break}return t.abrupt("return",r(e,s,l));case 22:return t.next=24,No(xc,[{imageData:e,width:s,height:l}],[e.data.buffer]);case 24:return e=t.sent,t.abrupt("return",$c(e));case 26:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),_c=function(t,e){var n=t.imageData,r=t.matrix;if(!r)return e(null,n);for(var i=new Uint8ClampedArray(n.width*n.height*4),o=n.data,a=o.length,u=r[0],c=r[1],s=r[2],l=r[3],f=r[4],d=r[5],h=r[6],p=r[7],v=r[8],m=r[9],g=r[10],y=r[11],b=r[12],w=r[13],x=r[14],$=r[15],C=r[16],_=r[17],k=r[18],E=r[19],M=0,S=0,R=0,I=0,L=0,O=0,P=0,A=0,T=0,j=0,B=0,D=0;M<a;M+=4)O=(S=o[M]/255)*u+(R=o[M+1]/255)*c+(I=o[M+2]/255)*s+(L=o[M+3]/255)*l+f,P=S*d+R*h+I*p+L*v+m,A=S*g+R*y+I*b+L*w+x,T=S*$+R*C+I*_+L*k+E,j=Math.max(0,O*T)+(1-T),B=Math.max(0,P*T)+(1-T),D=Math.max(0,A*T)+(1-T),i[M]=255*Math.max(0,Math.min(1,j)),i[M+1]=255*Math.max(0,Math.min(1,B)),i[M+2]=255*Math.max(0,Math.min(1,D)),i[M+3]=255*L;e(null,{data:i,width:n.width,height:n.height})},kc=function(t,e){var n=t.imageData,r=t.matrix;if(!r)return e(null,n);var i=r.reduce((function(t,e){return t+e}));i=i<=0?1:i;var o=n.width,a=n.height,u=n.data,c=0,s=0,l=0,f=Math.round(Math.sqrt(r.length)),d=Math.floor(f/2),h=0,p=0,v=0,m=0,g=0,y=0,b=0,w=0,x=0,$=0,C=new Uint8ClampedArray(o*a*4);for(l=0;l<a;l++)for(s=0;s<o;s++){for(h=0,p=0,v=0,m=0,y=0;y<f;y++)for(g=0;g<f;g++)(b=l+y-d)<0&&(b=a-1),b>=a&&(b=0),(w=s+g-d)<0&&(w=o-1),w>=o&&(w=0),x=4*(b*o+w),$=r[y*f+g],h+=u[x]*$,p+=u[x+1]*$,v+=u[x+2]*$,m+=u[x+3]*$;C[c]=h/i,C[c+1]=p/i,C[c+2]=v/i,C[c+3]=m/i,c+=4}e(null,{data:C,width:o,height:a})},Ec=function(t,e){var n=t.imageData,r=t.strength;if(!r)return e(null,n);var i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b=new Uint8ClampedArray(n.width*n.height*4),w=n.width,x=n.height,$=n.data,C=function(t,e){return i=t-E,o=e-M,Math.sqrt(i*i+o*o)},_=0,k=0,E=.5*w,M=.5*x,S=C(0,0);for(r>0?(a=0,u=0,c=0):(r=Math.abs(r),a=1,u=1,c=1),k=0;k<x;k++)for(_=0;_<w;_++)v=4*(_+k*w),m=$,g=b,y=C(_,k)*r/S,s=m[v]/255,l=m[v+1]/255,f=m[v+2]/255,d=m[v+3]/255,p=(h=1-y)*d+y,g[v]=(h*d*s+y*a)/p*255,g[v+1]=(h*d*l+y*u)/p*255,g[v+2]=(h*d*f+y*c)/p*255,g[v+3]=255*p;e(null,{data:b,width:n.width,height:n.height})},Mc=function(t,e){var n=t.imageData,r=t.level,i=t.monochrome,o=void 0!==i&&i;if(!r)return e(null,n);for(var a,u,c,s=new Uint8ClampedArray(n.width*n.height*4),l=n.data,f=l.length,d=0,h=function(){return 255*(2*Math.random()-1)*r},p=o?function(){var t=h();return[t,t,t]}:function(){return[h(),h(),h()]};d<f;d+=4){var v=p();a=v[0],u=v[1],c=v[2],s[d]=l[d]+a,s[d+1]=l[d+1]+u,s[d+2]=l[d+2]+c,s[d+3]=l[d+3]}e(null,{data:s,width:n.width,height:n.height})},Sc=function(t,e){var n=t.imageData,r=t.level;if(!r)return e(null,n);for(var i,o,a,u=new Uint8ClampedArray(n.width*n.height*4),c=n.data,s=c.length,l=0;l<s;l+=4)i=c[l]/255,o=c[l+1]/255,a=c[l+2]/255,u[l]=255*Math.pow(i,r),u[l+1]=255*Math.pow(o,r),u[l+2]=255*Math.pow(a,r),u[l+3]=c[l+3];e(null,{data:u,width:n.width,height:n.height})},Rc=function(t){for(var e,n=t.length,r=n>=20?6:n>=16?5:3,i=0;i<n;i++){if(1===(e=t[i])&&i%r!=0)return!1;if(0!==e&&1!==e)return!1}return!0},Ic=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u,c,s,l;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).colorMatrix,o=r.convolutionMatrix,a=r.gamma,u=r.noise,c=r.vignette,s=[],o&&s.push([kc,{matrix:o.clarity}]),a>0&&s.push([Sc,{level:1/a}]),i&&!Rc(i)&&s.push([_c,{matrix:i}]),(u>0||u<0)&&s.push([Mc,{level:u}]),(c>0||c<0)&&s.push([Ec,{strength:c}]),s.length){t.next=10;break}return t.abrupt("return",e);case 10:return l="function (options, done) {\n        const filterInstructions = options.filterInstructions;\n        const imageData = options.imageData;\n        ("+function t(e,n){return"(err, imageData) => {\n            ("+e[n][0].toString()+")(Object.assign({ imageData: imageData }, filterInstructions["+n+"]), \n                "+(e[n+1]?t(e,n+1):"done")+")\n        }"}(s,0)+")(null, imageData)\n    }",t.next=14,No(l,[{imageData:e,filterInstructions:s.map((function(t){return t[1]}))}],[e.data.buffer]);case 14:return e=t.sent,t.abrupt("return",$c(e));case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Lc=function(t){return"number"==typeof t},Oc=function(t,e){return t.hasOwnProperty(e)},Pc=function(t){return Array.isArray(t)},Ac=function(t){return t instanceof Blob},Tc=function(t){return"rgba("+Math.round(255*t[0])+", "+Math.round(255*t[1])+", "+Math.round(255*t[2])+", "+(Lc(t[3])?t[3]:1)+")"},jc=function(t){return Object.values(t).join("_")},Bc=function(t){return void 0===t&&(t=0),new Promise((function(e){setTimeout(e,t)}))},Dc=function(t){return!new Uint32Array(t.getImageData(0,0,t.canvas.width,t.canvas.height).data.buffer).some((function(t){return 0!==t}))},Nc=function(){var t=to(Ji().mark((function t(e,n){var r,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),r=go("canvas",{width:80,height:80}),i=r.getContext("2d"),t.next=5,Bc(n);case 5:if(i.drawImage(e,0,0,80,80),!(Dc(i)&&n<=256)){t.next=10;break}return t.next=9,Nc(e,n+16);case 9:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),zc=new Map,Fc=function(t,e){var n=(void 0===e?{}:e).safariCacheKey,r=void 0===n?"*":n;return new Promise((function(e,n){var i=new Image;i.onerror=function(){return n(new Error("Failed to load SVG"))},i.onload=function(){if(!Hu()||!t.includes("@font-face")||zc.has(r))return e(i);Nc(i).then((function(){zc.set(r,!0),e(i)}))},i.src="data:image/svg+xml,"+t}))},Zc=function(t){return new Promise((function(e,n){var r=new FileReader;r.onerror=function(){return n(r.error)},r.onload=function(){return e(r.result)},r.readAsDataURL(t)}))},Hc=function(){var t=[];return{sub:function(e,n){return t.push({event:e,callback:n}),function(){return t=t.filter((function(t){return t.event!==e||t.callback!==n}))}},pub:function(e,n){t.filter((function(t){return t.event===e})).forEach((function(t){return t.callback(n)}))}}},Vc=null,Uc=function(){return null===Vc&&(Vc=$o(/Firefox/)),Vc},Wc=32,qc=function(t,e){var n=t.color,r=void 0===n?[0,0,0]:n,i=t.fontSize,o=void 0===i?16:i,a=t.fontFamily,u=void 0===a?"sans-serif":a,c=t.fontVariant,s=void 0===c?"normal":c,l=t.fontWeight,f=void 0===l?"normal":l,d=t.fontStyle,h=void 0===d?"normal":d,p=t.textAlign,v=void 0===p?"left":p,m=t.lineHeight;return void 0===e&&(e=1),"font-size:"+o*e+"px;font-style:"+h+";font-weight:"+f+";font-family:"+u+";font-variant:"+s+";line-height:"+(void 0===m?20:m)*e+"px;text-align:"+v+";color:"+Tc(r)+";"},Gc=function(t,e,n){void 0===n&&(n=1);var r=e.width,i=e.height,o=!r,a=!1===e.disableNewline?function(t){return void 0===t&&(t=""),t.split("\n").length}(t):void 0,u=o?"auto":r*n+"px",c=i?i*n+"px":"auto",s=o?"normal":"break-word",l=o&&!a?"nowrap":"pre-line",f=function(t){var e=void 0===t?{}:t,n=e.fontSize,r=void 0===n?16:n,i=e.lineHeight,o=void 0===i?20:i;return.5*Math.max(0,r-o)}(e)*n;return"max-width:none;min-width:auto;width:"+u+";height:"+c+";margin-top:0;margin-bottom:0;padding-top:"+f+"px;word-break:"+s+";word-wrap:normal;white-space:"+l+";"},Kc=new Map,Yc=function t(e){for(var n=[],r=0,i=Array.from(e.childNodes);r<i.length;r++){var o=i[r];o.nodeType===Node.TEXT_NODE?n.push(Qc(o)):n.push.apply(n,t(o))}return n},Xc="pointer-events:none;visibility:hidden;position:absolute;left:0;top:0;",Jc=function(t,e){void 0===t&&(t="");var n=e.width,r=void 0===n?0:n,i=e.height,o=void 0===i?"auto":i,a=e.fontSize,u=e.fontFamily,c=e.lineHeight,s=e.fontWeight,l=e.fontStyle,f=e.fontVariant,d=jc({text:t,fontFamily:u,fontWeight:s,fontStyle:l,fontVariant:f,fontSize:a,lineHeight:c,width:r,height:o}),h=Kc.get(d);if(h)return h;var p=1;a>1e3&&Uc()&&(p=a/1e3,a=1e3,c*=p);var v=Fu(go("pre",{contenteditable:"true",spellcheck:"false",style:""+Xc+qc({fontFamily:u,fontWeight:s,fontStyle:l,fontVariant:f,fontSize:a,lineHeight:c})+";"+Gc(t,e)+'"',innerHTML:t})),m=v.getBoundingClientRect();return h={signature:Yc(v).flat().map((function(t){return t.text})).join("_;_"),textSize:qa(Ba(m),(function(t){return Math.ceil(t*p)}))},Kc.set(d,h),v.remove(),h},Qc=function(t){var e=t.nodeValue;if(!e)return[];var n=e.length,r=document.createRange();r.selectNodeContents(t);for(var i=[],o=0;o<n;o++){r.setStart(t,0),r.setEnd(t,o+1);var a=r.getClientRects().length-1,u=e.charAt(o);i[a]?i[a]+=u:i.push(u)}var c=r.getClientRects();return i.map((function(t,e){return{rect:c[e],text:t}}))},ts=new Map,es=function(t,e){void 0===t&&(t="");var n=e.width,r=void 0===n?0:n,i=e.height,o=void 0===i?0:i;if(r&&o)return Fa(r,o);var a=e.fontSize,u=void 0===a?16:a,c=e.fontFamily,s=e.lineHeight,l=void 0===s?20:s,f=e.fontWeight,d=e.fontStyle,h=e.fontVariant,p=jc({text:t,fontFamily:c,fontWeight:f,fontStyle:d,fontVariant:h,fontSize:u,lineHeight:l,width:r}),v=ts.get(p);if(v)return v;var m=1;u>1e3&&Uc()&&(m=u/1e3,u=1e3,l/=m);var g=Fu(go("pre",{contenteditable:"true",spellcheck:"false",style:""+Xc+qc(Object.assign({},e,{fontSize:u,lineHeight:l}))+";"+Gc(t,e)+'"',innerHTML:t})).getBoundingClientRect();return(v=Ba(g)).height+=Math.max(0,u-l),v=qa(v,(function(t){return t*m})),r&&(v.width=r),ts.set(p,v),v},ns=function(t){return t.pathname.split("/").slice(0,-1).join("/")},rs=new Map,is=function(t,e){return new Promise((function(n,r){var i=rs.get(t);void 0===i&&(i=function(t,e){var n,r,i=Hc(),o=i.sub,a=i.pub;return Promise.resolve(e&&e(t,{resourceType:"stylesheet"})).then((function(e){if(!1===e)return a("error",r="requestPrevented");var i=e||{},o=i.headers,u=i.credentials;fetch(t,{headers:o,credentials:u}).then((function(t){return t.text()})).then((function(t){a("load",n=t)})).catch((function(t){a("error",r=t)}))})),{sub:function(t,e){return"load"===t&&n?e(n):"error"===t&&r?e(r):void o(t,e)}}}(t,e),rs.set(t,i)),i.sub("load",n),i.sub("error",r)}))},os=function(){var t=to(Ji().mark((function t(e,n){var r,i,o;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,is(e,n);case 3:r=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",[]);case 9:return i=go("style",{innerHTML:r,id:Bo()}),document.head.append(i),o=Array.from(document.styleSheets).find((function(t){return t.ownerNode.id===i.id})),i.remove(),t.abrupt("return",Array.from(o.cssRules));case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),as=new Map,us=function(t){return t.filter((function(t){return t instanceof CSSFontFaceRule}))},cs=function(t){return t.filter((function(t){return t instanceof CSSImportRule}))},ss=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u,c,s,l;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!as.has(e.href)){t.next=2;break}return t.abrupt("return",as.get(e.href));case 2:t.prev=2,r=Array.from(e.cssRules),i=Ui(cs(r));case 5:if((o=i()).done){t.next=19;break}if(a=o.value,u=a.href,!as.has(u)){t.next=12;break}return c=as.get(u),r=[].concat(r,c),t.abrupt("continue",17);case 12:return t.next=14,os(u,n);case 14:s=t.sent,as.set(u,s),r=[].concat(r,s);case 17:t.next=5;break;case 19:t.next=28;break;case 21:return t.prev=21,t.t0=t.catch(2),l=e.href,t.next=26,os(l,n);case 26:r=t.sent,as.set(l,r);case 28:return t.abrupt("return",us(r));case 29:case"end":return t.stop()}}),t,null,[[2,21]])})));return function(e,n){return t.apply(this,arguments)}}(),ls=function(t,e){return t.style.getPropertyValue(e)},fs=function(t,e){return!!t.style&&ls(t,"font-family").replace(/^"|"$/g,"")==e},ds=function(t,e){for(var n,r=[],i=Ui(t);!(n=i()).done;){var o=n.value;fs(o,e)&&r.push(o)}return r},hs=function(){var t=to(Ji().mark((function t(e){var n,r,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(document.styleSheets).map((function(t){return ss(t,e)})),t.next=3,Promise.all(n);case 3:return r=t.sent,i=[],r.forEach((function(t){return i.push.apply(i,t)})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ps=function(){var t=to(Ji().mark((function t(e,n){var r,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hs(n);case 2:if(r=t.sent,(i=ds(r,e)).length){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",i.map((function(t){var e=t.parentStyleSheet.href&&new URL(t.parentStyleSheet.href),n=e?e.origin+ns(e)+"/":"",r=t.style.getPropertyValue("src").match(/url\("?(.*?)"?\)/)[1],i=Array.from(t.style).filter((function(t){return"src"!=t})).reduce((function(e,n){return e+=n+":"+ls(t,n)+";"}),"");return[/^http/.test(r)?r:n+r,i]})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),vs=new Map,ms=new Map,gs=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u,c,s,l,f,d,h;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!vs.get(e)){t.next=2;break}return t.abrupt("return");case 2:if(r=ms.get(e)){t.next=26;break}return t.next=6,ps(e,n);case 6:if((i=t.sent).length){t.next=10;break}return vs.set(e,!0),t.abrupt("return");case 10:o=[],a=Ui(i);case 12:if((u=a()).done){t.next=24;break}return c=u.value,s=c[0],l=c[1],t.next=16,fetch(s).then((function(t){return t.blob()}));case 16:return f=t.sent,p=f.type,d=!p||/woff2/.test(p)?"woff2":/woff/.test(p)?"woff":/ttf|truetype/.test(p)?"truetype":/otf|opentype/.test(p)?"opentype":/svg/.test(p)?"svg":"woff2",t.next=20,Zc(f);case 20:h=t.sent,o.push("@font-face { src:url("+h+") format('"+d+"');"+l+";font-display:block; }");case 22:t.next=12;break;case 24:r=o.join(""),ms.set(e,r);case 26:return t.abrupt("return",r);case 27:case"end":return t.stop()}var p}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ys=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w,x,$,C,_,k,E;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),e.length){t.next=3;break}return t.abrupt("return");case 3:return r=n.imageWidth,i=void 0===r?300:r,o=n.imageHeight,a=void 0===o?150:o,u=n.paddingLeft,c=void 0===u?Wc:u,s=n.paddingRight,l=void 0===s?Wc:s,f=n.fontFamily,d=n.fontSize,h=n.pixelRatio,p=void 0===h?1:h,v=n.willRequest,m=1,g="",d>1e3&&Uc()&&(g="transform-origin:0 0;transform:scale("+(m=d/1e3)+")"),y=p/m,b=(i+c+l)*p,w=a*p,x=qc(Object.assign({},n,{fontSize:d}),y),$=Gc(e,n,y),t.next=14,gs(f,v);case 14:return C=t.sent,_=e.replace(/%/g,"%25").replace(/#/g,"%23").replace(/&nbsp;/g," "),k=_.replace(/<br>|\n/g,"<br/>"),E='<svg xmlns="http://www.w3.org/2000/svg" width="'+b+'" height="'+w+'" viewBox="0 0 '+b+" "+w+'"><foreignObject x="0" y="0" width="'+b+'" height="'+w+'"><div xmlns="http://www.w3.org/1999/xhtml">'+(C?"<style>"+C+"</style>":"")+'<pre contenteditable="true" spellcheck="false" style="position:absolute;padding-right:'+l*y+"px;padding-left:"+c*y+"px;"+x+";"+$+";"+g+'">'+k+"</pre></div></foreignObject></svg>",t.abrupt("return",Fc(E,{safariCacheKey:f}));case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),bs=function(t){var e=Object.assign({},t),n=Io(e);return n},ws=function(t){return pa(t.x1,t.y1)},xs=function(t){return pa(t.x2,t.y2)},$s=function(t){return Oc(t,"text")},Cs=function(t){return $s(t)&&!(Ls(t)||Oc(t,"width"))},_s=function(t){return $s(t)&&(Ls(t)||Oc(t,"width"))},ks=function(t){return!$s(t)&&Os(t)},Es=function(t){return Oc(t,"rx")},Ms=function(t){return Oc(t,"x1")},Ss=function(t){return Oc(t,"points")},Rs=function(t){return!Oc(t,"opacity")||t.opacity>0},Is=function(t){return Oc(t,"width")&&Oc(t,"height")},Ls=function(t){return(Oc(t,"x")||Oc(t,"left"))&&Oc(t,"right")||(Oc(t,"y")||Oc(t,"top"))&&Oc(t,"bottom")},Os=function(t){return Is(t)||Ls(t)},Ps=function(t){return delete t.left,delete t.right,delete t.top,delete t.bottom,t},As=function(t){return delete t.rotation,t},Ts=function(t){return t.strokeWidth=t.strokeWidth||1,t.strokeColor=t.strokeColor||[0,0,0],t},js=function(t){return t.backgroundColor=t.backgroundColor?t.backgroundColor:t.strokeWidth||t.backgroundImage?void 0:[0,0,0],t},Bs=function(t){var e=t.text;e=(e=e.replace(/&(#[0-9]+|[a-z]+);/gi,(function(t,e){return"___"+e+"___"}))).replace(/&/,"&amp;"),t.text=e.replace(/___(#[0-9]+|[a-z]+)___/gi,(function(t,e){return"&"+e+";"}))},Ds=function(t){return t.fontSize=t.fontSize||"4%",t.fontFamily=t.fontFamily||"sans-serif",t.fontWeight=t.fontWeight||"normal",t.fontStyle=t.fontStyle||"normal",t.fontVariant=t.fontVariant||"normal",t.lineHeight=t.lineHeight||"120%",t.color=t.color||[0,0,0],t.format="html"===t.format?"html":"text","html"===t.format?Bs(t):function(t){Bs(t);var e=t.text;e=(e=e.replace(/</g,"&gt;")).replace(/>/g,"&lt;"),t.text=e}(t),Cs(t)?Ns(t):zs(t)},Ns=function(t){return!1!==t.disableNewline&&(delete t.textAlign,t.text=t.text.replace(/\n/g," ")),Ps(t)},zs=function(t){return t.textAlign=t.textAlign||"left",t},Fs=function(t){return function(t){Lo(t.id)||(t.id=Bo()),Oc(t,"rotation")||(t.rotation=0),Oc(t,"opacity")||(t.opacity=1),Oc(t,"disableErase")||(t.disableErase=!0)}(t),$s(t)?Ds(t):ks(t)?function(t){t.cornerRadius=t.cornerRadius||0,t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],js(t)}(t):Ss(t)?function(t){Ts(t),As(t),Oc(t,"pathClose")||(t.disableResize=!0,Oc(t,"disableMove")||(t.disableMove=!0)),Ps(t)}(t):Ms(t)?function(t){Ts(t),t.lineStart=t.lineStart||void 0,t.lineEnd=t.lineEnd||void 0,As(t),Ps(t)}(t):Es(t)&&function(t){t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],js(t)}(t),t},Zs=new RegExp(/^x|left|right|^width|rx|fontSize|cornerRadius|strokeWidth/,"i"),Hs=new RegExp(/^y|top|bottom|^height|ry/,"i"),Vs=function(t,e,n){var r=n.width,i=n.height;if(Array.isArray(e))return e.map((function(t){return So(t)&&Us(t,{width:r,height:i}),t}));if("string"!=typeof e)return e;if(!e.endsWith("%"))return e;var o=parseFloat(e)/100;return Zs.test(t)?fa(r*o,6):Hs.test(t)?fa(i*o,6):e},Us=function(t,e){Object.entries(t).map((function(n){var r=n[0],i=n[1];t[r]=Vs(r,i,e)}));var n=t.lineHeight;Lo(n)&&(t.lineHeight=Math.round(t.fontSize*(parseFloat(n)/100)))},Ws=function(t,e){return Us(t,e),Ks(t,e),t},qs=function(t,e){var n=t.filter((function(t){return t.x<0||t.y<0||t.x1<0||t.y1<0})).reduce((function(t,e){var n=function(t){var e=tu(),n=t.strokeWidth||0;if(ks(t))e.x=t.x-.5*n,e.y=t.y-.5*n,e.width=t.width+n,e.height=t.height+n;else if(Ms(t)){var r=t.x1,i=t.y1,o=t.x2,a=t.y2,u=Math.abs(Math.min(r,o)),c=Math.abs(Math.max(r,o)),s=Math.abs(Math.min(i,a)),l=Math.abs(Math.min(i,a));e.x=u+.5*n,e.y=c+.5*n,e.width=c-u+n,e.height=l-s+n}else Es(t)&&(e.x=t.x-t.rx+.5*n,e.y=t.y-t.ry+.5*n,e.width=2*t.rx+n,e.height=2*t.ry+n);return e&&Oc(t,"rotation")&&mu(e,t.rotation),xu(e)}(e),r=n[0],i=n[1],o=n[2],a=n[3];return t.top=Math.min(r,t.top),t.left=Math.min(a,t.left),t.bottom=Math.max(o,t.bottom),t.right=Math.max(i,t.right),t}),{top:0,right:0,bottom:0,left:0});return n.right>0&&(n.right-=e.width),n.bottom>0&&(n.bottom-=e.height),n},Gs=function(t,e,n){var r=bs(t);Ws(r,e);var i=n(r);return Array.isArray(i)?i:[i]},Ks=function(t,e){if(Oc(t,"left")&&(t.x=t.left),Oc(t,"right")&&!Lo(t.right)){var n=e.width-t.right;Oc(t,"left")?(t.x=t.left,t.width=Math.max(0,n-t.left)):Oc(t,"width")&&(t.x=n-t.width)}if(Oc(t,"top")&&(t.y=t.top),Oc(t,"bottom")&&!Lo(t.bottom)){var r=e.height-t.bottom;Oc(t,"top")?(t.y=t.top,t.height=Math.max(0,r-t.top)):Oc(t,"height")&&(t.y=r-t.height)}return t},Ys=function(t,e){return Ss(t)&&t.points.filter((function(t){return Lc(t.x)})).forEach((function(t){t.x*=e,t.y*=e})),Ms(t)&&Lc(t.x1)&&(t.x1*=e,t.y1*=e,t.x2*=e,t.y2*=e),Lc(t.x)&&Lc(t.y)&&(t.x*=e,t.y*=e),Lc(t.width)&&Lc(t.height)&&(t.width*=e,t.height*=e),Lc(t.rx)&&Lc(t.ry)&&(t.rx*=e,t.ry*=e),function(t){return Lc(t.strokeWidth)&&t.strokeWidth>0}(t)&&(t.strokeWidth*=e),$s(t)&&(t._scale=e,Lc(t.fontSize)&&(t.fontSize*=e),Lc(t.lineHeight)&&(t.lineHeight*=e),Lc(t.width)&&!Lc(t.height)&&(t.width*=e)),Oc(t,"cornerRadius")&&Lc(t.cornerRadius)&&(t.cornerRadius*=e),t},Xs=function(t){if(ks(t))return pa(t.x+.5*t.width,t.y+.5*t.height);if(Es(t))return pa(t.x,t.y);if(t.text){if(_s(t)){var e=t.height||es(t.text,t).height;return pa(t.x+.5*t.width,t.y+.5*e)}var n=es(t.text,t);return pa(t.x+.5*n.width,t.y+.5*n.height)}return Ss(t)?Oa(t.points):Ms(t)?Oa([ws(t),xs(t)]):void 0},Js=function(t){return/canvas/i.test(t.nodeName)},Qs=function(t,e){return void 0===e&&(e=void 0),new Promise((function(n,r){var i=t,o=!1,a=function(){o||(o=!0,Oo(e)&&Promise.resolve().then((function(){return e(Fa(i.naturalWidth,i.naturalHeight))})))};if(i.src||(i=new Image,Lo(t)&&new URL(t,location.href).origin!==location.origin&&(i.crossOrigin="anonymous"),i.src=Lo(t)?t:URL.createObjectURL(t)),i.complete)return a(),n(i);Oo(e)&&Vu(i).then(a).catch(r),i.onload=function(){a(),n(i)},i.onerror=function(){return r(new Error("Failed to load image"))}}))},tl=new Map([]),el=function(t,e){return void 0===e&&(e={}),new Promise((function(n,r){var i=e,o=i.onMetadata,a=void 0===o?uo:o,u=i.onLoad,c=void 0===u?n:u,s=i.onError,l=void 0===s?r:s,f=i.onComplete,d=void 0===f?uo:f,h=tl.get(t);if(h||(h={loading:!1,complete:!1,error:!1,image:void 0,size:void 0,bus:Hc()},tl.set(t,h)),h.bus.sub("meta",a),h.bus.sub("load",c),h.bus.sub("error",l),h.bus.sub("complete",d),Js(t)){var p=t,v=p.cloneNode();h.complete=!0,h.image=v,h.size=za(p)}if(h.complete)return h.bus.pub("meta",{size:h.size}),h.error?h.bus.pub("error",h.error):h.bus.pub("load",h.image),h.bus.pub("complete"),void(h.bus=Hc());h.loading||(h.loading=!0,Qs(t,(function(t){h.size=t,h.bus.pub("meta",{size:t})})).then((function(t){h.image=t,h.bus.pub("load",t)})).catch((function(t){h.error=t,h.bus.pub("error",t)})).finally((function(){h.complete=!0,h.loading=!1,h.bus.pub("complete"),h.bus=Hc()})))}))},nl=function(t,e,n,r){return t.drawImage(e,n.x,n.x,n.width,n.height,r.x,r.y,r.width,r.height)},rl=function(){var t=to(Ji().mark((function t(e,n,r,i,o){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=nl),e.save(),e.clip(),t.next=5,o(e,n,r,i);case 5:e.restore();case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),il=function(t,e,n,r,i){var o=Qa(t);if(r){var a=Cu(ru(r),fa);return a.x*=n.width,a.width*=n.width,a.y*=n.height,a.height*=n.height,{srcRect:a,destRect:o}}var u=ou(0,0,n.width,n.height);if("contain"===e){var c=wu(t,hu(u));o.width=c.width,o.height=c.height,i?(o.x+=i.x,o.y+=i.y):(o.x+=c.x,o.y+=c.y)}else if("cover"===e){var s=bu(o,u.width/u.height);o.width=s.width,o.height=s.height,i?(o.x+=i.x,o.y+=i.y):(o.x+=s.x,o.y+=s.y)}else e?(o.width=e.width,o.height=e.height,i&&(o.x+=i.x,o.y+=i.y)):i&&(o.width=n.width,o.height=n.height,o.x+=i.x,o.y+=i.y);return{srcRect:u,destRect:o}},ol=function(t,e){return e.cornerRadius>0?function(t,e,n,r,i,o){r<2*o&&(o=r/2),i<2*o&&(o=i/2),t.beginPath(),t.moveTo(e+o,n),t.arcTo(e+r,n,e+r,n+i,o),t.arcTo(e+r,n+i,e,n+i,o),t.arcTo(e,n+i,e,n,o),t.arcTo(e,n,e+r,n,o),t.closePath()}(t,e.x,e.y,e.width,e.height,e.cornerRadius):t.rect(e.x,e.y,e.width,e.height),t},al=function(t,e){return e.backgroundColor&&t.fill(),t},ul=function(t,e){return e.strokeWidth&&t.stroke(),t},cl=function(){var t=to(Ji().mark((function t(e,n,r){var i,o,a,u,c;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r={}),i=r.drawImage,e.lineWidth=n.strokeWidth?n.strokeWidth:1,e.strokeStyle=n.strokeColor?Tc(n.strokeColor):"none",e.fillStyle=n.backgroundColor?Tc(n.backgroundColor):"none",e.globalAlpha=n.opacity,!n.backgroundImage){t.next=21;break}if(!Js(n.backgroundImage)){t.next=11;break}o=n.backgroundImage,t.next=14;break;case 11:return t.next=13,el(n.backgroundImage);case 13:o=t.sent;case 14:return ol(e,n),al(e,n),a=il(n,n.backgroundSize,za(o),n.backgroundCorners,n.backgroundPosition),u=a.srcRect,c=a.destRect,t.next=19,rl(e,o,u,c,i);case 19:return ul(e,n),t.abrupt("return",[]);case 21:return ol(e,n),al(e,n),ul(e,n),t.abrupt("return",[]);case 25:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),sl=function(){var t=to(Ji().mark((function t(e,n,r){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),t.abrupt("return",new Promise(function(){var t=to(Ji().mark((function t(i,o){var a,u,c,s,l,f;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.drawImage,e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?Tc(n.strokeColor):"none",e.fillStyle=n.backgroundColor?Tc(n.backgroundColor):"none",e.globalAlpha=n.opacity,e.ellipse(n.x,n.y,n.rx,n.ry,0,0,2*Math.PI),n.backgroundColor&&e.fill(),!n.backgroundImage){t.next=25;break}return t.prev=8,t.next=11,el(n.backgroundImage);case 11:u=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),o(t.t0);case 17:return c=ou(n.x-n.rx,n.y-n.ry,2*n.rx,2*n.ry),s=il(c,n.backgroundSize,za(u),n.backgroundCorners,n.backgroundPosition),l=s.srcRect,f=s.destRect,t.next=21,rl(e,u,l,f,a);case 21:n.strokeWidth&&e.stroke(),i([]),t.next=27;break;case 25:n.strokeWidth&&e.stroke(),i([]);case 27:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(e,n){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),ll=function(){var t=to(Ji().mark((function t(e,n,r){var i,o,a,u;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.width&&n.height?Ba(n):es(n.text,n),o={x:n.x,y:n.y,width:i.width,height:i.height},cl(e,Object.assign({},n,o,{options:r})),n.text.length){t.next=5;break}return t.abrupt("return",[]);case 5:return a=r.willRequest,t.next=8,ys(n.text,Object.assign({},n,o,{imageWidth:o.width,imageHeight:o.height,willRequest:a}));case 8:return u=t.sent,e.drawImage(u,n.x-Wc,n.y,u.width,u.height),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),fl=function(){var t=to(Ji().mark((function t(e,n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=to(Ji().mark((function t(r){var i,o;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?Tc(n.strokeColor):"none",e.globalAlpha=n.opacity,i=ws(n),o=xs(n),e.moveTo(i.x,i.y),e.lineTo(o.x,o.y),n.strokeWidth&&e.stroke(),r([]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),dl=function(){var t=to(Ji().mark((function t(e,n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?Tc(n.strokeColor):"none",e.fillStyle=n.backgroundColor?Tc(n.backgroundColor):"none",e.globalAlpha=n.opacity;var i=n.points;n.pathClose&&e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var o=i.length,a=1;a<o;a++)e.lineTo(i[a].x,i[a].y);n.pathClose&&e.closePath(),n.strokeWidth&&e.stroke(),n.backgroundColor&&e.fill(),t([])})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),hl=function(t,e,n,r){return e||n?(t.translate(r.x,r.y),t.scale(e?-1:1,n?-1:1),t.translate(-r.x,-r.y),t):t},pl=function(){var t=to(Ji().mark((function t(e,n,r){var i,o,a,u;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Xs(n),gc(e,n.rotation,i),hl(e,n.flipX,n.flipY,i),ks(n)?o=cl:Es(n)?o=sl:Ms(n)?o=fl:Ss(n)?o=dl:$s(n)&&(o=ll),!o){t.next=14;break}return t.next=7,o(e,n,r);case 7:if((a=t.sent).length){t.next=10;break}return t.abrupt("return",[]);case 10:return t.next=12,vl(e,a,r);case 12:return u=t.sent,t.abrupt("return",[n].concat(u));case 14:return t.abrupt("return",[]);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),vl=function(){var t=to(Ji().mark((function t(e,n,r){var i,o,a,u;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],o=Ui(n);case 2:if((a=o()).done){t.next=15;break}return u=a.value,e.save(),e.beginPath(),t.t0=[],t.t1=i,t.next=10,pl(e,u,r);case 10:t.t2=t.sent,i=t.t0.concat.call(t.t0,t.t1,t.t2),e.restore();case 13:t.next=2;break;case 15:return t.abrupt("return",i);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),ml=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).shapes,o=void 0===i?[]:i,a=r.contextBounds,u=void 0===a?e:a,c=r.transform,s=void 0===c?uo:c,l=r.drawImage,f=r.willRequest,d=r.canvasMemoryLimit,h=r.computeShape,p=void 0===h?Xo:h,v=r.preprocessShape,m=void 0===v?Xo:v,o.length){t.next=4;break}return t.abrupt("return",e);case 4:return(g=go("canvas")).width=u.width,g.height=u.height,(y=g.getContext("2d",{willReadFrequently:!0})).putImageData(e,u.x||0,u.y||0),b=o.map(bs).map(p).map(m).flat(),s(y),t.next=13,vl(y,b,{drawImage:l,canvasMemoryLimit:d,willRequest:f});case 13:return w=y.getImageData(0,0,g.width,g.height),wo(g),t.abrupt("return",w);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),gl=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a,u,c,s,l,f,d,h;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={}),i=(r=n).backgroundColor,o=r.backgroundImage,a=!(!i||i&&0===i[3]),o||a){t.next=5;break}return t.abrupt("return",e);case 5:if((u=go("canvas")).width=e.width,u.height=e.height,(c=u.getContext("2d",{willReadFrequently:!0})).putImageData(e,0,0),c.globalCompositeOperation="destination-over",a&&(c.fillStyle=Tc(i),c.fillRect(0,0,u.width,u.height)),!o){t.next=22;break}if(!Js(o)){t.next=17;break}s=o,t.next=20;break;case 17:return t.next=19,el(o);case 19:s=t.sent;case 20:l=il({x:0,y:0,width:e.width,height:e.height},"cover",{width:s.width,height:s.height}),f=l.srcRect,d=l.destRect,c.drawImage(s,f.x,f.y,f.width,f.height,d.x,d.y,d.width,d.height);case 22:return h=c.getImageData(0,0,u.width,u.height),wo(u),t.abrupt("return",h);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),yl=function(t){return t.length?t.reduce((function(t,e){return n=[].concat(t),r=e,(i=new Array(20))[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],i[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],i[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],i[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],i[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],i[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],i[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],i[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],i[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],i[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],i[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],i[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],i[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],i[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],i[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],i[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],i[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],i[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],i[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],i[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],i;var n,r,i}),t.shift()):[]},bl=function(t,e){var n,r,i=t.width*t.height,o=e.reduce((function(t,e){return e.width>t.width&&e.height>t.height&&(t.width=e.width,t.height=e.height),t}),{width:0,height:0}),a=o.width*o.height,u=Math.max(.5,.5+(1-a/i)/2);return n=u,void 0===(r=5)&&(r=2),Math.round(n*r)/r};function wl(){}var xl=function(t){return t};function $l(t,e){for(var n in e)t[n]=e[n];return t}function Cl(t){return t()}function _l(){return Object.create(null)}function kl(t){t.forEach(Cl)}function El(t){return"function"==typeof t}function Ml(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function Sl(t){if(null==t)return wl;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t.subscribe.apply(t,n);return i.unsubscribe?function(){return i.unsubscribe()}:i}function Rl(t){var e;return Sl(t,(function(t){return e=t}))(),e}function Il(t,e,n){t.$$.on_destroy.push(Sl(e,n))}function Ll(t,e,n,r){if(t){var i=Ol(t,e,n,r);return t[0](i)}}function Ol(t,e,n,r){return t[1]&&r?$l(n.ctx.slice(),t[1](r(e))):n.ctx}function Pl(t,e,n,r){if(t[2]&&r){var i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){for(var o=[],a=Math.max(e.dirty.length,i.length),u=0;u<a;u+=1)o[u]=e.dirty[u]|i[u];return o}return e.dirty|i}return e.dirty}function Al(t,e,n,r,i,o){if(i){var a=Ol(e,n,r,o);t.p(a,i)}}function Tl(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function jl(t){var e={};for(var n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function Bl(t,e){var n={};for(var r in e=new Set(e),t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function Dl(t,e,n){return t.set(n),e}function Nl(t){return t&&El(t.destroy)?t.destroy:wl}var zl="undefined"!=typeof window,Fl=zl?function(){return window.performance.now()}:function(){return Date.now()},Zl=zl?function(t){return requestAnimationFrame(t)}:wl,Hl=new Set;function Vl(t){Hl.forEach((function(e){e.c(t)||(Hl.delete(e),e.f())})),0!==Hl.size&&Zl(Vl)}function Ul(t){var e;return 0===Hl.size&&Zl(Vl),{promise:new Promise((function(n){Hl.add(e={c:t,f:n})})),abort:function(){Hl.delete(e)}}}function Wl(t,e){t.appendChild(e)}function ql(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Gl(t){var e=Xl("style");return function(t,e){Wl(t.head||t,e),e.sheet}(ql(t),e),e.sheet}function Kl(t,e,n){t.insertBefore(e,n||null)}function Yl(t){t.parentNode.removeChild(t)}function Xl(t){return document.createElement(t)}function Jl(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ql(t){return document.createTextNode(t)}function tf(){return Ql(" ")}function ef(){return Ql("")}function nf(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function rf(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function of(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function af(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:of(t,r,e[r])}function uf(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function cf(t,e,n){var r=void 0===n?{}:n,i=r.bubbles,o=void 0!==i&&i,a=r.cancelable,u=void 0!==a&&a,c=document.createEvent("CustomEvent");return c.initCustomEvent(t,o,u,e),c}var sf=function(){function t(t){void 0===t&&(t=!1),this.is_svg=!1,this.is_svg=t,this.e=this.n=null}var e=t.prototype;return e.c=function(t){this.h(t)},e.m=function(t,e,n){void 0===n&&(n=null),this.e||(this.is_svg?this.e=Jl(e.nodeName):this.e=Xl(e.nodeName),this.t=e,this.c(t)),this.i(n)},e.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},e.i=function(t){for(var e=0;e<this.n.length;e+=1)Kl(this.t,this.n[e],t)},e.p=function(t){this.d(),this.h(t),this.i(this.a)},e.d=function(){this.n.forEach(Yl)},t}();function lf(t,e){return new t(e)}var ff,df=new Map,hf=0;function pf(t,e,n,r,i,o,a,u){void 0===u&&(u=0);for(var c=16.666/r,s="{\n",l=0;l<=1;l+=c){var f=e+(n-e)*o(l);s+=100*l+"%{"+a(f,1-f)+"}\n"}var d=s+"100% {"+a(n,1-n)+"}\n}",h="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)+"_"+u,p=ql(t),v=df.get(p)||function(t,e){var n={stylesheet:Gl(e),rules:{}};return df.set(t,n),n}(p,t),m=v.stylesheet,g=v.rules;g[h]||(g[h]=!0,m.insertRule("@keyframes "+h+" "+d,m.cssRules.length));var y=t.style.animation||"";return t.style.animation=(y?y+", ":"")+h+" "+r+"ms linear "+i+"ms 1 both",hf+=1,h}function vf(t,e){var n=(t.style.animation||"").split(", "),r=n.filter(e?function(t){return t.indexOf(e)<0}:function(t){return-1===t.indexOf("__svelte")}),i=n.length-r.length;i&&(t.style.animation=r.join(", "),(hf-=i)||Zl((function(){hf||(df.forEach((function(t){var e=t.stylesheet.ownerNode;e&&Yl(e)})),df.clear())})))}function mf(t){ff=t}function gf(){if(!ff)throw new Error("Function called outside component initialization");return ff}function yf(t){gf().$$.on_mount.push(t)}function bf(t){gf().$$.after_update.push(t)}function wf(t){gf().$$.on_destroy.push(t)}function xf(){var t=gf();return function(e,n,r){var i=(void 0===r?{}:r).cancelable,o=void 0!==i&&i,a=t.$$.callbacks[e];if(a){var u=cf(e,n,{cancelable:o});return a.slice().forEach((function(e){e.call(t,u)})),!u.defaultPrevented}return!0}}function $f(t,e){return gf().$$.context.set(t,e),e}function Cf(t){return gf().$$.context.get(t)}function _f(t,e){var n=this,r=t.$$.callbacks[e.type];r&&r.slice().forEach((function(t){return t.call(n,e)}))}var kf=[],Ef=[],Mf=[],Sf=[],Rf=Promise.resolve(),If=!1;function Lf(){If||(If=!0,Rf.then(Df))}function Of(){return Lf(),Rf}function Pf(t){Mf.push(t)}function Af(t){Sf.push(t)}var Tf,jf=new Set,Bf=0;function Df(){var t=ff;do{for(;Bf<kf.length;){var e=kf[Bf];Bf++,mf(e),Nf(e.$$)}for(mf(null),kf.length=0,Bf=0;Ef.length;)Ef.pop()();for(var n=0;n<Mf.length;n+=1){var r=Mf[n];jf.has(r)||(jf.add(r),r())}Mf.length=0}while(kf.length);for(;Sf.length;)Sf.pop()();If=!1,jf.clear(),mf(t)}function Nf(t){if(null!==t.fragment){t.update(),kl(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pf)}}function zf(t,e,n){t.dispatchEvent(cf((e?"intro":"outro")+n))}var Ff,Zf=new Set;function Hf(){Ff={r:0,c:[],p:Ff}}function Vf(){Ff.r||kl(Ff.c),Ff=Ff.p}function Uf(t,e){t&&t.i&&(Zf.delete(t),t.i(e))}function Wf(t,e,n,r){if(t&&t.o){if(Zf.has(t))return;Zf.add(t),Ff.c.push((function(){Zf.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}var qf={duration:0};function Gf(t,e,n,r){var i=e(t,n),o=r?0:1,a=null,u=null,c=null;function s(){c&&vf(t,c)}function l(t,e){var n=t.b-o;return e*=Math.abs(n),{a:o,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function f(e){var n=i||qf,r=n.delay,f=void 0===r?0:r,d=n.duration,h=void 0===d?300:d,p=n.easing,v=void 0===p?xl:p,m=n.tick,g=void 0===m?wl:m,y=n.css,b={start:Fl()+f,b:e};e||(b.group=Ff,Ff.r+=1),a||u?u=b:(y&&(s(),c=pf(t,o,e,h,f,v,y)),e&&g(0,1),a=l(b,h),Pf((function(){return zf(t,e,"start")})),Ul((function(e){if(u&&e>u.start&&(a=l(u,h),u=null,zf(t,a.b,"start"),y&&(s(),c=pf(t,o,a.b,a.duration,0,v,i.css))),a)if(e>=a.end)g(o=a.b,1-o),zf(t,a.b,"end"),u||(a.b?s():--a.group.r||kl(a.group.c)),a=null;else if(e>=a.start){var n=e-a.start;o=a.a+a.d*v(n/a.duration),g(o,1-o)}return!(!a&&!u)})))}return{run:function(t){El(i)?(Tf||(Tf=Promise.resolve()).then((function(){Tf=null})),Tf).then((function(){i=i(),f(t)})):f(t)},end:function(){s(),a=u=null}}}var Kf="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Yf(t,e){t.d(1),e.delete(t.key)}function Xf(t,e){Wf(t,1,1,(function(){e.delete(t.key)}))}function Jf(t,e,n,r,i,o,a,u,c,s,l,f){for(var d=t.length,h=o.length,p=d,v={};p--;)v[t[p].key]=p;var m=[],g=new Map,y=new Map;for(p=h;p--;){var b=f(i,o,p),w=n(b),x=a.get(w);x?r&&x.p(b,e):(x=s(w,b)).c(),g.set(w,m[p]=x),w in v&&y.set(w,Math.abs(p-v[w]))}var $=new Set,C=new Set;function _(t){Uf(t,1),t.m(u,l),a.set(t.key,t),l=t.first,h--}for(;d&&h;){var k=m[h-1],E=t[d-1],M=k.key,S=E.key;k===E?(l=k.first,d--,h--):g.has(S)?!a.has(M)||$.has(M)?_(k):C.has(S)?d--:y.get(M)>y.get(S)?(C.add(M),_(k)):($.add(S),d--):(c(E,a),d--)}for(;d--;){var R=t[d];g.has(R.key)||c(R,a)}for(;h;)_(m[h-1]);return m}function Qf(t,e){for(var n={},r={},i={$$scope:1},o=t.length;o--;){var a=t[o],u=e[o];if(u){for(var c in a)c in u||(r[c]=1);for(var s in u)i[s]||(n[s]=u[s],i[s]=1);t[o]=u}else for(var l in a)i[l]=1}for(var f in r)f in n||(n[f]=void 0);return n}function td(t){return"object"==typeof t&&null!==t?t:{}}function ed(t,e,n){var r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function nd(t){t&&t.c()}function rd(t,e,n,r){var i=t.$$,o=i.fragment,a=i.after_update;o&&o.m(e,n),r||Pf((function(){var e,n=t.$$.on_mount.map(Cl).filter(El);t.$$.on_destroy?(e=t.$$.on_destroy).push.apply(e,n):kl(n);t.$$.on_mount=[]})),a.forEach(Pf)}function id(t,e){var n=t.$$;null!==n.fragment&&(kl(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function od(t,e,n,r,i,o,a,u){void 0===u&&(u=[-1]);var c=ff;mf(t);var s=t.$$={fragment:null,ctx:[],props:o,update:wl,not_equal:i,bound:_l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:_l(),dirty:u,skip_bound:!1,root:e.target||c.$$.root};a&&a(s.root);var l,f=!1;if(s.ctx=n?n(t,e.props||{},(function(e,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return s.ctx&&i(s.ctx[e],s.ctx[e]=r)&&(!s.skip_bound&&s.bound[e]&&s.bound[e](r),f&&function(t,e){-1===t.$$.dirty[0]&&(kf.push(t),Lf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],s.update(),f=!0,kl(s.before_update),s.fragment=!!r&&r(s.ctx),e.target){if(e.hydrate){var d=(l=e.target,Array.from(l.childNodes));s.fragment&&s.fragment.l(d),d.forEach(Yl)}else s.fragment&&s.fragment.c();e.intro&&Uf(t.$$.fragment),rd(t,e.target,e.anchor,e.customElement),Df()}mf(c)}var ad=function(){function t(){}var e=t.prototype;return e.$destroy=function(){id(this,1),this.$destroy=wl},e.$on=function(t,e){if(!El(e))return wl;var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},e.$set=function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)},t}(),ud=[];function cd(t,e){return{subscribe:sd(t,e).subscribe}}function sd(t,e){var n;void 0===e&&(e=wl);var r=new Set;function i(e){if(Ml(t,e)&&(t=e,n)){for(var i,o=!ud.length,a=Ui(r);!(i=a()).done;){var u=i.value;u[1](),ud.push(u,t)}if(o){for(var c=0;c<ud.length;c+=2)ud[c][0](ud[c+1]);ud.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,a){void 0===a&&(a=wl);var u=[o,a];return r.add(u),1===r.size&&(n=e(i)||wl),o(t),function(){r.delete(u),0===r.size&&(n(),n=null)}}}}function ld(t,e,n){var r=!Array.isArray(t),i=r?[t]:t,o=e.length<2;return cd(n,(function(t){var n=!1,a=[],u=0,c=wl,s=function(){if(!u){c();var n=e(r?a[0]:a,t);o?t(n):c=El(n)?n:wl}},l=i.map((function(t,e){return Sl(t,(function(t){a[e]=t,u&=~(1<<e),n&&s()}),(function(){u|=1<<e}))}));return n=!0,s(),function(){kl(l),c()}}))}var fd=function(t){return t.reduce((function(t,e){return Object.assign(t,e)}),{})},dd=function(t){return{updateValue:t}},hd=function(t){return{defaultValue:t}},pd=function(t){return{store:t}},vd=function(t){return{store:function(e,n){return ld.apply(void 0,t(n))}}},md=function(t){return{store:function(e,n){var r,i=t(n),o=i[0],a=i[1],u=i[2],c=void 0===u?function(){return!1}:u,s=!0;return ld(o,(function(t,e){a(t,(function(t){!s&&c(r,t)||(r=t,s=!1,e(t))}))}))}}},gd=function(t){return{store:function(e,n){var r=t(n),i=r[0],o=r[1],a=void 0===o?{}:o,u=r[2],c=void 0===u?void 0:u,s=[],l={},f=function(t){return i(t,l)},d=function(t){(s.length||t.length)&&(s=t,h())},h=function(){var t=s.map(f);c&&t.sort(c),s=[].concat(t),m(t)};Object.entries(a).map((function(t){var e=t[0];return t[1].subscribe((function(t){l[e]=t,t&&h()}))}));var p=sd(e||[]),v=p.subscribe,m=p.set;return{set:d,update:function(t){return d(t(s))},subscribe:v}}}},yd=function(t){var e={},n={};return t.forEach((function(t){var r=t[0],i=t.slice(1),o=fd(i),a=e[r]=function(t,e,n){var r,i=n.store,o=void 0===i?function(t){return sd(t)}:i,a=n.defaultValue,u=void 0===a?uo:a,c=n.updateValue,s=void 0===c?void 0:c,l=o(u(),e,t),f=l.subscribe,d=l.update,h=void 0===d?uo:d,p=function(t){var e=!0;r&&r(),r=f((function(n){if(e)return e=!1;t(n),r(),r=void 0}))},v=s?s(t):Xo;return l.set=function(t){return h((function(e){return v(t,e,p)}))},l.defaultValue=u,l}(n,e,o),u={get:function(){return Rl(a)},set:a.set};Object.defineProperty(n,r,u)})),{stores:e,accessors:n}},bd=[["src",pd((function(){var t,e=sd(),n=e.subscribe,r=e.set,i=function(e){t!==e&&r(t=e)};return{set:i,subscribe:n,update:function(e){return i(e(t))}}}))],["imageReader"],["imageWriter"],["imageScrambler"],["imageRedactionRendering",hd((function(){return"pixelated"}))],["images",hd((function(){return[]}))],["shapePreprocessor"],["willRequestResource"],["willRequest"]],wd=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},xd=function(t,e){Object.keys(e).forEach((function(n){var r=Oo(e[n])?{value:e[n],writable:!1}:e[n];Object.defineProperty(t,n,r)}))},$d=function(t,e){var n,r,i,o,a,u=e.length;for(n=0;n<u;n++)if(r=e[n],i=e[n+1>u-1?0:n+1],o=r.x-t.x,a=r.y-t.y,(o-(i.x-t.x))*a-(a-(i.y-t.y))*o<-1e-5)return!1;return!0},Cd=1e4,_d=function(t,e){var n=Iu(e),r=ha();$u(t).forEach((function(t){Ca(t,r),$d(t,e)||n.forEach((function(e){var n=Math.atan2(e.start.y-e.end.y,e.start.x-e.end.x),i=Math.sin(Math.PI-n)*Cd,o=Math.cos(Math.PI-n)*Cd,a=pa(t.x+i,t.y+o),u=Ya(Ka(e),Cd),c=Mu(Ga(t,a),u);c&&Ca(r,_a(ma(c),t))}))}));var i=Qa(t);return Ca(i,r),!!$u(i).every((function(t){return $d(t,e)}))&&(vu(t,i),!0)},kd=function(t,e){var n=$u(t),r=Lu(e,5),i=au(t),o=[];n.forEach((function(t){var e=function(t,e){if(0===e)return t;var n=pa(t.start.x-t.end.x,t.start.y-t.end.y),r=wa(n),i=Ea(r,e);return t.end.x+=i.x,t.end.y+=i.y,t}(Ga(ma(i),ma(t)),1e6),n=!1;r.map(Ka).forEach((function(t){var r=Mu(e,t);r&&!n&&(o.push(r),n=!0)}))}));var a=Ia(o[0],o[2])<Ia(o[1],o[3])?[o[0],o[2]]:[o[1],o[3]],u=ru(a);return u.width<t.width&&(vu(t,u),!0)},Ed=function(t,e,n){void 0===n&&(n={x:0,y:0});var r=eu(t),i=au(r),o=_u(r,n,i).map((function(t){return ya(t,e,i)})),a=ru(o);return o.map((function(t){return _a(t,a)}))},Md=function(t,e,n){var r,i;if(void 0===e&&(e=0),void 0===n&&(n=hu(t)),0!==e){var o,a=Math.atan2(1,n),u=Math.sign(e)*e,c=u%Math.PI,s=u%Jo;o=c>Qo&&c<Jo+Qo?s>Qo?u:Jo-s:s>Qo?Jo-s:u;var l=Math.min(Math.abs(t.height/Math.sin(a+o)),Math.abs(t.width/Math.cos(a-o)));i=(r=Math.cos(a)*l)/n}else(i=(r=t.width)/n)>t.height&&(r=(i=t.height)*n);return Fa(r,i)},Sd=function(t,e,n,r,i,o,a,u){var c=ja(a),s=ja(u),l=fa(Math.max(e.width/s.width,e.height/s.height)),f=fa(Math.min(e.width/c.width,e.height/c.height)),d=Qa(e);if(f<1||l>1){var h=au(t),p=au(e),v=f<1?f:l,m=(p.x+h.x)/2,g=(p.y+h.y)/2,y=d.width/v,b=d.height/v;pu(d,m-.5*y,g-.5*b,y,b)}return o?(function(t,e,n,r,i){if(void 0===n&&(n=0),void 0===r&&(r=ha()),Lc(n)&&0!==n||r.x||r.y){var o=hu(t),a=Ed(e,n,r),u=Md(e,n,o);if(!(t.width<u.width&&t.height<u.height)){var c=.5*t.width-.5*u.width,s=.5*t.height-.5*u.height;t.width>u.width&&(t.width=u.width,t.x+=c),t.height>u.height&&(t.height=u.height,t.y+=s)}_d(t,a),kd(t,a)&&_d(t,a)}else{var l=hu(t);t.width=Math.min(t.width,e.width),t.height=Math.min(t.height,e.height),t.x=Math.max(t.x,0),t.x+t.width>e.width&&(t.x-=t.x+t.width-e.width),t.y=Math.max(t.y,0),t.y+t.height>e.height&&(t.y-=t.y+t.height-e.height);var f=au(t),d=wu(t,l);d.width=Math.max(i.width,d.width),d.height=Math.max(i.height,d.height),d.x=f.x-.5*d.width,d.y=f.y-.5*d.height,vu(t,d)}}(d,n,r,i,c),{crop:d}):{crop:d}},Rd=function(t,e,n){var r=eu(t),i=au(r),o=mu(r,n,i),a=au(ku(ru(o))),u=au(e),c=ya(u,-n,a),s=_a(c,a),l=$a(Ca(i,s),fa);return ou(l.x-.5*e.width,l.y-.5*e.height,e.width,e.height)},Id=function(t,e,n){return Math.max(e,Math.min(t,n))},Ld=["cropLimitToImage","cropMinSize","cropMaxSize","cropAspectRatio","flipX","flipY","rotation","crop","colorMatrix","convolutionMatrix","gamma","vignette","redaction","annotation","decoration","frame","backgroundColor","backgroundImage","targetSize","metadata","trim","volume"],Od=function t(e){return Pc(e)?e.map(t):ac(e)||Tu(e)?e:So(e)?Object.assign({},e):e},Pd=function(t){return t.map((function(t){return Object.entries(t).reduce((function(t,e){var n=e[0],r=e[1];return n.startsWith("_")||(t[n]=r),t}),{})}))},Ad=function(t,e){return t===e},Td=function(t,e,n){if(void 0===n&&(n=Ad),t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0},jd=function(t,e,n){var r=$a(au(t),(function(t){return fa(t,8)})),i=eu(e),o=au(i),a=mu(i,n,o),u=$a(Va(ru(a)),(function(t){return fa(t,8)})),c=Math.abs(u.x-r.x),s=Math.abs(u.y-r.y);return c<1&&s<1},Bd=function(t,e,n,r,i){if(!i)return[-1/0,1/0];var o,a=Math.max(n.width/r.width,n.height/r.height),u=Fa(r.width*a,r.height*a),c=(o=u,Math.sqrt(o.width*o.width+o.height*o.height));if(c<Math.min(t.width,t.height))return[-1/0,1/0];var s=e?t.height:t.width,l=e?t.width:t.height,f=Math.acos(u.height/c),d=f-Math.acos(l/c),h=Math.asin(s/c)-f;if(Number.isNaN(d)&&Number.isNaN(h))return[-1/0,1/0];var p=Number.isNaN(d)?h:Number.isNaN(h)?d:Math.min(d,h);return[-p,p]},Dd=function(t,e){var n=e.context,r=e.props;return t._isFormatted||((t=Fs(t))._isFormatted=!0,Object.assign(t,r)),t._isDraft||!Ls(t)||t._context&&du(n,t._context)||(Ks(t,n),t._context=Object.assign({},n)),t},Nd=[["file"],["size"],["loadState"],["processState"],["aspectRatio",vd((function(t){return[t.size,function(t){return t?hu(t):void 0}]}))],["perspectiveX",hd((function(){return 0}))],["perspectiveY",hd((function(){return 0}))],["perspective",vd((function(t){return[[t.perspectiveX,t.perspectiveY],function(t){return{x:t[0],y:t[1]}}]}))],["rotation",hd((function(){return 0})),dd((function(t){return function(e,n,r){if(e===n)return e;var i=t.loadState,o=t.size,a=t.rotationRange,u=t.cropMinSize,c=t.cropMaxSize,s=t.crop,l=t.perspective,f=t.cropLimitToImage,d=t.cropOrigin;if(!s||!i||!i.beforeComplete)return e;var h,p,v=f&&(p=Md(o,n,hu(h=s)),Za(qa(p,Math.round),qa(ja(h),Math.round))),m=f&&jd(s,o,n),g=function(t,e,n,r,i,o,a,u,c,s){var l=ja(c),f=ja(s);a&&(f.width=Math.min(s.width,i.width),f.height=Math.min(s.height,i.height));var d=!1,h=Math.sign(e)*Math.round(Math.abs(e)/Jo)*Jo,p=Id(e,h+n[0],h+n[1]);return function e(n,c){var s=Rd(i,r,n),h=eu(i),p=au(h),v=_u(h,o,p),m=_a(ma(p),Eu(v)),g=ya(au(s),c,p),y=_a(ma(p),g);v.forEach((function(t){return ya(t,c,p)}));var b=ru(v),w=Eu(v),x=Ca(_a(_a(w,y),b),m),$=ou(x.x-.5*s.width,x.y-.5*s.height,s.width,s.height);if(u&&cu($,u.width/$.width),a){var C=Ed(i,c,o);kd($,C)}var _=fa(Math.min($.width/l.width,$.height/l.height),8),k=fa(Math.max($.width/f.width,$.height/f.height),8);return(_<1||k>1)&&fa(Math.abs(c-n))===fa(Math.PI/2)&&!d?(d=!0,e(t,t+Math.sign(c-n)*Math.PI)):{rotation:c,crop:Cu($,(function(t){return fa(t,8)}))}}(t,p)}(n,e,a,s,o,l,f,d,u,c);if(v&&m){var y=Md(o,e,hu(g.crop));g.crop.x+=.5*g.crop.width,g.crop.y+=.5*g.crop.height,g.crop.x-=.5*y.width,g.crop.y-=.5*y.height,g.crop.width=y.width,g.crop.height=y.height}return r((function(){t.crop=Cu(g.crop,(function(t){return fa(t,8)}))})),g.rotation}}))],["flipX",hd((function(){return!1}))],["flipY",hd((function(){return!1}))],["flip",vd((function(t){return[[t.flipX,t.flipY],function(t){return{x:t[0],y:t[1]}}]}))],["isRotatedSideways",md((function(t){return[[t.rotation],function(t,e){var n=t[0];return e(ta(n))},function(t,e){return t!==e}]}))],["crop",dd((function(t){return function(e,n){void 0===n&&(n=e);var r=t.loadState,i=t.size,o=t.cropMinSize,a=t.cropMaxSize,u=t.cropLimitToImage,c=t.cropAspectRatio,s=t.rotation,l=t.perspective;if(!e&&!n||!r||!r.beforeComplete)return e;e||(e=eu(Md(i,s,c||hu(i))));var f=Sd(n,e,i,s,l,u,o,a),d=Cu(f.crop,(function(t){return fa(t,8)}));return du(n,d)?n:d}}))],["cropAspectRatio",dd((function(t){return function(e,n){var r=t.loadState,i=t.crop,o=t.size,a=t.rotation,u=t.cropLimitToImage,c=function(t){if(t){if(/:/.test(t)){var e=t.split(":");return e[0]/e[1]}return parseFloat(t)}}(e);if(c){if(!i||!r||!r.beforeComplete)return c;var s=n?Math.abs(e-n):1;if(jd(i,o,a)&&u&&s>=.1){var l=function(t,e){var n=t.width,r=t.height;return ta(e)&&(t.width=r,t.height=n),t}(ja(o),a);t.crop=Cu(wu(eu(l),e),fa)}else{var f={width:i.height*c,height:i.height},d=.5*(i.width-f.width),h=.5*(i.height-f.height);t.crop=Cu(ou(i.x+d,i.y+h,f.width,f.height),fa)}return c}}}))],["cropOrigin"],["cropMinSize",hd((function(){return{width:1,height:1}}))],["cropMaxSize",hd((function(){return{width:32768,height:32768}}))],["cropLimitToImage",hd((function(){return!0})),dd((function(t){return function(e,n,r){return t.crop?(!n&&e&&r((function(){return t.crop=Qa(t.crop)})),e):e}}))],["cropSize",md((function(t){return[[t.crop],function(t,e){var n=t[0];n&&e(Fa(n.width,n.height))},function(t,e){return Za(t,e)}]}))],["cropRectAspectRatio",vd((function(t){return[[t.cropSize],function(t,e){var n=t[0];n&&e(fa(hu(n),5))}]}))],["cropRange",md((function(t){return[[t.size,t.rotation,t.cropRectAspectRatio,t.cropMinSize,t.cropMaxSize,t.cropLimitToImage],function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5];if(n){var c=function(t,e,n,r,i,o){var a=ja(r),u=ja(i);return o?[a,qa(Md(t,e,n),Math.round)]:[a,u]}(n,r,i,o,a,u);e(c)}},function(t,e){return Td(t,e)}]}))],["rotationRange",md((function(t){return[[t.size,t.isRotatedSideways,t.cropMinSize,t.cropSize,t.cropLimitToImage],function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4];n&&o&&e(Bd(n,r,i,o,a))},function(t,e){return Td(t,e)}]}))],["backgroundColor",dd((function(){return function(t){return function(t,e){return void 0===t&&(t=[0,0,0,0]),void 0===e&&(e=1),4===t.length?t:[].concat(t,[e])}(t)}}))],["backgroundImage"],["targetSize"],["colorMatrix"],["convolutionMatrix"],["gamma"],["noise"],["vignette"],["duration"],["trim"],["volume"],["redaction",gd((function(t){var e=t.size;return[Dd,{context:e}]}))],["annotation",gd((function(t){var e=t.size;return[Dd,{context:e}]}))],["decoration",gd((function(t){var e=t.crop;return[Dd,{context:e}]}))],["frame",dd((function(){return function(t){if(t){var e={frameStyle:void 0,x:0,y:0,width:"100%",height:"100%",disableStyle:["backgroundColor","strokeColor","strokeWidth"]};return Lo(t)?e.frameStyle=t:Object.assign(e,t),e}}}))],["metadata"],["state",pd((function(t,e,n){var r=Ld.map((function(t){return e[t]})),i=!1,o=sd({}),a=ld([].concat(r,[o]),(function(t,e){if(!i){var n=Ld.reduce((function(e,n,r){return e[n]=Od(t[r]),e}),{});n.crop&&Cu(n.crop,Math.round),n.redaction=n.redaction&&Pd(n.redaction),n.annotation=n.annotation&&Pd(n.annotation),n.decoration=n.decoration&&Pd(n.decoration),e(n)}})).subscribe,u=function(t){t&&(i=!0,n.cropOrigin=void 0,Ld.filter((function(e){return Oc(t,e)})).forEach((function(e){var r=t[e];n[e]=null===r?void 0:Od(r)})),i=!1,o.set({}))};return{set:u,update:function(t){return u(t(null))},subscribe:a}}))]],zd=function(){var t=to(Ji().mark((function t(e,n,r,i){var o,a,u,c,s,l,f,d,h,p;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r={}),o=i.ontaskstart,a=i.ontaskprogress,u=i.ontaskend,c=i.token,s=!1,l={cancel:uo},c.cancel=function(){s=!0,l.cancel()},f=Ji().mark((function t(){var n,i,c,f,d;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=p.value,i=n[0],c=n[1],!s){t.next=3;break}return t.abrupt("return",{v:void 0});case 3:return f=c[0],d=c[1],o(i,d),t.prev=5,t.next=8,f(e,Object.assign({},r,{taskCancelToken:l}),(function(t){return a(i,d,t)}));case 8:e=t.sent,t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(5),s=!0,t.t0;case 15:u(i,d);case 16:case"end":return t.stop()}}),t,null,[[5,11]])})),h=Ui(n.entries());case 7:if((p=h()).done){t.next=14;break}return t.delegateYield(f(),"t0",9);case 9:if(!(d=t.t0)){t.next=12;break}return t.abrupt("return",d.v);case 12:t.next=7;break;case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),Fd=["loadstart","loadabort","loaderror","loadprogress","load","processstart","processabort","processerror","processprogress","process"],Zd=["flip","cropOrigin","isRotatedSideways","perspective","perspectiveX","perspectiveY","cropRange"],Hd=Nd.map((function(t){return t[0]})).filter((function(t){return!Zd.includes(t)})),Vd=function(t){return"image"+wd(t)},Ud=function(t){return Lo(t)||Ac(t)||Au(t)},Wd=function(t){return Oc(t,"crop")},qd=function(){var t=yd(bd),e=t.stores,n=t.accessors,r=Hc(),i=r.sub,o=r.pub,a=function(){return n.images?n.images[0]:{}},u={},c={};Hd.forEach((function(t){Object.defineProperty(n,Vd(t),{get:function(){var e=a();if(e)return e.accessors[t]},set:function(e){u[Vd(t)]=e,c[Vd(t)]=e;var n=a();n&&(n.accessors[t]=e)}})}));var s,l,f=function(){return n.images&&n.images[0]},d=e.src.subscribe((function(t){if(!t)return n.images=[];n.imageReader&&(n.images.length&&(u={}),p(t))})),h=e.imageReader.subscribe((function(t){t&&(n.images.length||n.src&&p(n.src))})),p=function(t){Promise.resolve().then((function(){return v(t,u)})).catch((function(){}))},v=function(t,e){return void 0===e&&(e={}),new Promise((function(r,i){var a=f(),l=!(!1===e.cropLimitToImage||!1===e.imageCropLimitToImage||!1===c.imageCropLmitedToImage),d=e.cropMinSize||e.imageCropMinSize||c.imageCropMinSize,h=l?d:a&&a.accessors.cropMinSize;a&&m(),a=function(t){var e=(void 0===t?{}:t).minSize,n=void 0===e?{width:1,height:1}:e,r=yd(Nd),i=r.stores,o=r.accessors,a=Hc(),u=a.pub,c=a.sub,s=function(t,e){var n=function(){return o[t]||{}},r=function(e){o[t]=Object.assign({},n(),e,{timeStamp:Date.now()})},i=function(){return n().error},a=function(t){i()||(r({error:t}),u(e+"error",Object.assign({},n())))};return{start:function(){u(e+"start")},onabort:function(){r({abort:!0}),u(e+"abort",Object.assign({},n()))},ontaskstart:function(t,o){i()||(r({index:t,task:o,taskProgress:void 0,taskLengthComputable:void 0}),u(e+"taskstart",Object.assign({},n())))},ontaskprogress:function(t,o,a){i()||(r({index:t,task:o,taskProgress:a.loaded/a.total,taskLengthComputable:a.lengthComputable}),u(e+"taskprogress",Object.assign({},n())),u(e+"progress",Object.assign({},n())))},ontaskend:function(t,o){i()||(r({index:t,task:o}),u(e+"taskend",Object.assign({},n())))},ontaskerror:function(t){a(t)},error:function(t){a(t)},beforeComplete:function(t){i()||(r({beforeComplete:!0}),u("before"+e,t))},complete:function(t){i()||(r({complete:!0}),u(e,t))}}};return xd(o,{read:function(t,e,r){var i=e.reader;if(void 0===r&&(r={}),i){Object.assign(o,{file:void 0,size:void 0,loadState:void 0});var a={cancel:uo},u=!1,c=s("loadState","load"),l=Object.assign({token:a},c),f={src:t,size:void 0,dest:void 0,duration:void 0};return Promise.resolve().then(to(Ji().mark((function t(){var e,s,d,h,p;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,c.start(),!u){t.next=4;break}return t.abrupt("return",c.onabort());case 4:return t.next=6,zd(f,i,r,l);case 6:if(e=t.sent,!u){t.next=9;break}return t.abrupt("return",c.onabort());case 9:if(d=(s=e||{}).size,h=s.duration,p=s.dest,d&&d.width&&d.height){t.next=12;break}throw new rc("Image size missing","IMAGE_SIZE_MISSING",e);case 12:if(!(d.width<n.width||d.height<n.height)){t.next=14;break}throw new rc("Image too small","IMAGE_TOO_SMALL",Object.assign({},e,{minWidth:n.width,minHeight:n.height}));case 14:Object.assign(o,{file:p,size:d,duration:h}),c.beforeComplete(e),c.complete(e),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),c.error(t.t0);case 22:return t.prev=22,a=void 0,t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[0,19,22,25]])})))),function(){u=!0,a&&a.cancel(),c.onabort()}}},write:function(t,e){if(o.loadState.complete){o.processState=void 0;var n=s("processState","process"),r={src:o.file,imageState:o.state,dest:void 0};if(Oo(t)&&(t=t(o.file,o.state)),!t)return n.start(),void n.complete(r);var i={cancel:uo},a=!1,u=e,c=Object.assign({token:i},n);return Promise.resolve().then(to(Ji().mark((function e(){var o;return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.start(),!a){e.next=4;break}return e.abrupt("return",n.onabort());case 4:return e.next=6,zd(r,t,u,c);case 6:if(o=e.sent,!a){e.next=9;break}return e.abrupt("return",n.onabort());case 9:n.complete(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n.error(e.t0);case 15:return e.prev=15,i=void 0,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))),function(){a=!0,i&&i.cancel()}}},on:c}),{accessors:o,stores:i}}({minSize:h}),Fd.map((function(t){return a.accessors.on(t,(e=t,function(t){return o(e,t)}));var e}));var p=function(){u={},v.forEach((function(t){return t()}))},v=[];v.push(a.accessors.on("loaderror",(function(t){p(),i(t)}))),v.push(a.accessors.on("loadabort",(function(){p(),i({name:"AbortError"})}))),v.push(a.accessors.on("load",(function(t){s=void 0,p(),r(t)}))),v.push(a.accessors.on("beforeload",(function(){return function(t,e){if(Wd(e))n.imageState=e;else{if(!e.imageCrop){var r=t.accessors.size,i=e.imageRotation||0,o=Ua(ja(r),i),a=eu(o);a.width=fa(Math.abs(a.width),6),a.height=fa(Math.abs(a.height),6);var u,c=e.imageCropAspectRatio||(e.imageCropLimitToImage?hu(r):hu(a));e.imageCropLimitToImage?u=wu(a,c):((u=bu(a,c)).x=(r.width-u.width)/2,u.y=(r.height-u.height)/2),e.imageCrop=u}var s=["imageCropLimitToImage","imageCrop","imageCropAspectRatio","imageRotation"];s.filter((function(t){return Oc(e,t)})).forEach((function(t){n[t]=e[t],delete e[t]}));var l=Object.keys(e).filter((function(t){return!s.includes(t)})).reduce((function(t,n){return t[n]=e[n],t}),{});Object.assign(n,l)}}(a,e)}))),n.images=[a],e.imageReader&&(n.imageReader=e.imageReader),e.imageWriter&&(n.imageWriter=e.imageWriter),s=a.accessors.read(t,{reader:n.imageReader},{willRequest:n.willRequest})}))},m=function(){var t=f();t&&(s&&s(),t.accessors.loadState=void 0,n.images=[])};return Object.defineProperty(n,"stores",{get:function(){return e}}),xd(n,{on:i,loadImage:v,abortLoadImage:function(){s&&s(),n.images=[]},editImage:function(t,e){return new Promise((function(r,i){v(t,e).then((function(){var t=n.images[0],e=function(){o(),a()},o=t.accessors.on("processerror",(function(t){e(),i(t)})),a=t.accessors.on("process",(function(t){e(),r(t)}))})).catch(i)}))},removeImage:m,processImage:function(t,e){return new Promise((function(r,i){try{var o=[],a=function(){l=void 0,o.forEach((function(t){return t()}))};to(Ji().mark((function u(){var c;return Ji().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!Ud(t)){u.next=11;break}return u.prev=1,u.next=4,v(t,e);case 4:u.next=9;break;case 6:u.prev=6,u.t0=u.catch(1),i(u.t0);case 9:u.next=12;break;case 11:t&&(Wd(t)?n.imageState=t:Object.assign(n,t));case 12:if(c=f()){u.next=15;break}return u.abrupt("return",i("no image"));case 15:o.push(c.accessors.on("processerror",(function(t){a(),i(t)}))),o.push(c.accessors.on("processabort",(function(){a(),i({name:"AbortError"})}))),o.push(c.accessors.on("process",(function(t){a(),r(t)}))),l=c.accessors.write(n.imageWriter,{redactionRenderStyle:n.imageRedactionRendering,shapePreprocessor:n.shapePreprocessor||Xo,imageScrambler:n.imageScrambler,willRequest:n.willRequest,willRequestResource:n.willRequestResource});case 19:case"end":return u.stop()}}),u,null,[[1,6]])})))()}catch(t){i(t)}}))},abortProcessImage:function(){var t=f();t&&(l&&l(),t.accessors.processState=void 0)},destroy:function(){d&&d(),h&&h()}}),n},Gd=function(t,e){var n=qd().processImage;return n(t,e)},Kd=function(){if(!Hu())return 1/0;var t=/15_/.test(navigator.userAgent);return dc()?t?14745600:16777216:t?16777216:1/0},Yd=function(t,e){return Object.keys(t).filter((function(t){return!e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),{})},Xd=function(t){return new Promise((function(e){if(t.duration===1/0)return t.ontimeupdate=function(){t.ontimeupdate=void 0,e(t)},void(t.currentTime=Number.MAX_SAFE_INTEGER);e(t)}))},Jd=function(t){return new Promise((function(e,n){var r=function(){Xd(t).then((function(){e(t.duration)}))};if(t.readyState>=1)return r();t.onloadedmetadata=r,t.onerror=function(){return n(t.error)}}))},Qd=function(t){var e=void 0===t?{}:t,n=e.imageDataResizer,r=e.canvasMemoryLimit;return function(){var t=to(Ji().mark((function t(e,i,o,a){var u,c;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.width=Math.max(o.width,1),o.height=Math.max(o.height,1),a.width=Math.max(a.width,1),a.height=Math.max(a.height,1),t.next=6,Gd(i,{imageReader:Ch(),imageWriter:kh({format:"canvas",targetSize:Object.assign({},a,{upscale:!0}),imageDataResizer:n,canvasMemoryLimit:r}),imageCrop:o});case 6:u=t.sent,c=u.dest,e.drawImage(c,a.x,a.y,a.width,a.height),wo(c);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},th=function(t,e,n){return void 0===e&&(e=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}),function(){var r=to(Ji().mark((function r(i,o,a){var u,c;return Ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Ju(0,!1)),u=!1,r.next=4,t.apply(void 0,e(i,o,(function(t){u=!0,a(t)})));case 4:return c=r.sent,n&&n(i,c),u||a(Ju(1,!1)),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})));return function(t,e,n){return r.apply(this,arguments)}}()},eh=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"dest":n,i=e.destProp,o=void 0===i?"dest":i;return[th(function(){var t=to(Ji().mark((function t(e){var n,r,i;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/octet-stream/.test(e.type)){t.next=9;break}return n="image",t.next=5,qu(e);case 5:return r=t.sent,/video/i.test(r.nodeName)&&(n="video"),i={type:n+"/unknown"},t.abrupt("return",Tu(e)?new File([e],e.name,Object.assign({},i,{lastModified:e.lastModified})):new Blob([e],i));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return[t[r]]}),(function(t,e){return t[o]=e})),"any-to-file"]},nh=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"size":i;return[th(Ku,(function(t){return[t[r]]}),(function(t,e){return t[o]=e})),"read-image-size"]},rh=function(){var t=to(Ji().mark((function t(e){var n;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qu(e);case 2:if(n=t.sent,!Gu(n)){t.next=7;break}return t.next=6,Jd(n);case 6:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ih=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"duration":i;return[th(rh,(function(t){return[t[r]]}),(function(t,e){return t[o]=e})),"read-media-duration"]},oh=function(t){var e=void 0===t?{}:t,n=e.srcSize,r=void 0===n?"size":n,i=e.srcOrientation,o=void 0===i?"orientation":i,a=e.destSize,u=void 0===a?"size":a;return[th(hc,(function(t){return[t[r],t[o]]}),(function(t,e){return t[u]=e})),"image-size-match-orientation"]},ah=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"head":i;return[th((function(t,e){return pc(t)?lo(t,e):void 0}),(function(t){return[t[r],[0,262144],onprogress]}),(function(t,e){return t[o]=e})),"read-image-head"]},uh=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"head":n,i=e.destProp,o=void 0===i?"orientation":i;return[th(io,(function(t){return[t[r],274]}),(function(t,e){return void 0===e&&(e=1),t[o]=e})),"read-exif-orientation-tag"]},ch=function(t){var e=void 0===t?{}:t,n=e.srcProp,r=void 0===n?"src":n,i=e.destProp,o=void 0===i?"imageData":i,a=e.canvasMemoryLimit,u=void 0===a?void 0:a;return[th(zo,(function(t){return[t[r],u]}),(function(t,e){return t[o]=e})),"blob-to-image-data"]},sh=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i;return[th(gl,(function(t){return[t[r],{backgroundColor:t[o].backgroundColor,backgroundImage:t[o].backgroundImage}]}),(function(t,e){return t.imageData=e})),"image-data-fill"]},lh=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destScalar,u=void 0===a?"scalar":a;return[th(wc,(function(t){var e=t[u],n=t[o].crop;return n&&1!==e&&(n=cu(Qa(n),e,ha())),[t[r],{crop:n,rotation:t[o].rotation,flipX:t[o].flipX,flipY:t[o].flipY}]}),(function(t,e){return t.imageData=e})),"image-data-crop"]},fh=function(t){var e=t.targetSize,n=void 0===e?{width:void 0,height:void 0,fit:void 0,upscale:void 0}:e,r=t.imageDataResizer,i=void 0===r?void 0:r,o=t.srcProp,a=void 0===o?"imageData":o,u=t.srcImageState,c=void 0===u?"imageState":u,s=t.destImageScaledSize,l=void 0===s?"imageScaledSize":s;return[th(Cc,(function(t){var e,r=Math.min(n.width||Number.MAX_SAFE_INTEGER,t[c].targetSize&&t[c].targetSize.width||Number.MAX_SAFE_INTEGER),o=Math.min(n.height||Number.MAX_SAFE_INTEGER,t[c].targetSize&&t[c].targetSize.height||Number.MAX_SAFE_INTEGER);return[t[a],{width:r,height:o,fit:n.fit||"contain",upscale:(e=t[c],!!(e.targetSize&&e.targetSize.width||e.targetSize&&e.targetSize.height)||(n.upscale||!1))},i]}),(function(t,e){Za(t.imageData,e)||(t[l]=Ba(e)),t.imageData=e})),"image-data-resize"]},dh=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,u=void 0===a?"imageData":a;return[th(Ic,(function(t){var e=t[o].colorMatrix,n=e&&Object.keys(e).map((function(t){return e[t]})).filter(Boolean);return[t[r],{colorMatrix:n&&yl(n),convolutionMatrix:t[o].convolutionMatrix,gamma:t[o].gamma,noise:t[o].noise,vignette:t[o].vignette}]}),(function(t,e){return t[u]=e})),"image-data-filter"]},hh=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,u=void 0===a?"imageData":a,c=e.destScalar,s=void 0===c?"scalar":c;return[th(function(){var t=to(Ji().mark((function t(e,n,r,i,o,a){var u,c,s,l,f,d,h;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",e);case 2:return t.prev=2,c={dataSizeScalar:bl(e,i)},r&&r[3]>0&&(c.backgroundColor=[].concat(r)),t.next=7,n(e,c);case 7:u=t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:return(s=go("canvas")).width=e.width,s.height=e.height,(l=s.getContext("2d",{willReadFrequently:!0})).putImageData(e,0,0),"auto"===a&&(f=Math.sqrt(e.width*e.height),l.filter="blur("+Math.round(f/100)+"px)"),d=new Path2D,i.forEach((function(t){var e=ou(t.x,t.y,t.width,t.height);fu(e,o);var n=mu(Qa(e),t.rotation),r=new Path2D;n.forEach((function(t,e){if(0===e)return r.moveTo(t.x,t.y);r.lineTo(t.x,t.y)})),d.addPath(r)})),l.clip(d,"nonzero"),l.imageSmoothingEnabled=!1,l.drawImage(u,0,0,s.width,s.height),wo(u),h=l.getImageData(0,0,s.width,s.height),wo(s),t.abrupt("return",h);case 27:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n,r,i,o,a){return t.apply(this,arguments)}}(),(function(t,e){var n=e.imageScrambler,i=e.redactionRenderStyle;return[t[r],n,t[o].backgroundColor,t[o].redaction,t[s],i]}),(function(t,e){return t[u]=e})),"image-data-redact"]},ph=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcSize,o=void 0===i?"size":i,a=e.srcImageState,u=void 0===a?"imageState":a,c=e.destImageData,s=void 0===c?"imageData":c,l=e.destImageScaledSize,f=void 0===l?"imageScaledSize":l,d=e.destScalar,h=void 0===d?"scalar":d,p=e.imageDataResizer,v=void 0===p?void 0:p,m=e.canvasMemoryLimit,g=void 0===m?void 0:m;return[th(ml,(function(t,e){var n=e.shapePreprocessor,i=e.willRequestResource,a=e.willRequest,c=t[u].annotation;if(!c.length)return[t[r]];var s=t[h],l=t[u].crop,d=t[o],p=s,m=t[f];m&&(p=Math.min(m.width/l.width,m.height/l.height));var y={width:d.width/s,height:d.height/s};return[t[r],{shapes:c,computeShape:function(t){return t=Ws(t,y),t=Yd(t,["left","right","top","bottom"]),t=Ys(t,p)},transform:function(e){var n=t[o],r=t[u],i=r.rotation,a=void 0===i?0:i,c=r.flipX,s=r.flipY,l=r.cropLimitToImage,d=t[h],p=t[u].crop,v=void 0===p?eu(n):p,m=t[f],g=m?Math.min(m.width/v.width,m.height/v.height):1,y={width:n.width/d*g,height:n.height/d*g},b=Pu(y,a),w=b.width,x=b.height,$=.5*y.width-.5*w,C=.5*y.height-.5*x,_=Va(y);e.translate(-$,-C),e.translate(-v.x*g,-v.y*g),e.translate(_.x,_.y),e.rotate(a),e.translate(-_.x,-_.y),e.scale(c?-1:1,s?-1:1),e.translate(c?-y.width:0,s?-y.height:0),l&&(e.rect(0,0,y.width,y.height),e.clip())},drawImage:Qd({imageDataResizer:v,canvasMemoryLimit:g}),preprocessShape:function(e){return n(e,Object.assign({isPreview:!1},t[u]))},canvasMemoryLimit:g,willRequest:a||i}]}),(function(t,e){return t[s]=e})),"image-data-annotate"]},vh=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,u=void 0===a?"imageData":a,c=e.destImageScaledSize,s=void 0===c?"imageScaledSize":c,l=e.imageDataResizer,f=void 0===l?void 0:l,d=e.canvasMemoryLimit,h=void 0===d?void 0:d,p=e.destScalar,v=void 0===p?"scalar":p;return[th(ml,(function(t,e){var n=e.shapePreprocessor,i=e.willRequestResource,a=e.willRequest,u=t[o].decoration;if(!u.length)return[t[r]];var c=t[v],l=t[o].crop,d=t[s];if(d){var p=Math.min(d.width/l.width,d.height/l.height);c=p}return[t[r],{shapes:u,drawImage:Qd({imageDataResizer:f,canvasMemoryLimit:h}),computeShape:function(t){return t=Ws(t,l),t=Yd(t,["left","right","top","bottom"]),t=Ys(t,c)},preprocessShape:function(e){return n(e,Object.assign({isPreview:!1},t[o]))},canvasMemoryLimit:h,willRequest:a||i}]}),(function(t,e){return t[u]=e})),"image-data-decorate"]},mh=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcImageState,o=void 0===i?"imageState":i,a=e.destImageData,u=void 0===a?"imageData":a,c=e.destImageScaledSize,s=void 0===c?"imageScaledSize":c,l=e.imageDataResizer,f=void 0===l?void 0:l,d=e.canvasMemoryLimit,h=void 0===d?void 0:d,p=e.destScalar,v=void 0===p?"scalar":p;return[th(ml,(function(t,e){var n=e.shapePreprocessor,i=e.willRequestResource,a=e.willRequest,u=t[o].frame;if(!u)return[t[r]];var c=t[v],l=t[o].crop;l&&1!==c&&(l=cu(Qa(l),c,ha()));var d=Object.assign({},l),p=qs(Gs(u,d,n),d);d.x=Math.abs(p.left),d.y=Math.abs(p.top),d.width+=Math.abs(p.left)+Math.abs(p.right),d.height+=Math.abs(p.top)+Math.abs(p.bottom);var m=t[s],g=m?Math.min(m.width/l.width,m.height/l.height):1;return fu(d,g),d.x=Math.floor(d.x),d.y=Math.floor(d.y),d.width=Math.floor(d.width),d.height=Math.floor(d.height),[t[r],{shapes:[u],contextBounds:d,computeShape:function(e){return Ws(e,t[r])},transform:function(t){t.translate(d.x,d.y)},drawImage:Qd({imageDataResizer:f,canvasMemoryLimit:h}),preprocessShape:function(e){return n(e,Object.assign({isPreview:!1},t[o]))},canvasMemoryLimit:h,willRequest:a||i}]}),(function(t,e){return t[u]=e})),"image-data-frame"]},gh=function(t){var e=void 0===t?{}:t,n=e.mimeType,r=void 0===n?void 0:n,i=e.quality,o=void 0===i?void 0:i,a=e.srcImageData,u=void 0===a?"imageData":a,c=e.srcFile,s=void 0===c?"src":c,l=e.destBlob,f=void 0===l?"blob":l;return[th(Zo,(function(t){return[t[u],r||Go(t[s].name)||t[s].type,o]}),(function(t,e){return t[f]=e})),"image-data-to-blob"]},yh=function(t){var e=void 0===t?{}:t,n=e.srcImageData,r=void 0===n?"imageData":n,i=e.srcOrientation,o=void 0===i?"orientation":i,a=e.destCanvas,u=void 0===a?"dest":a;return[th(Eo,(function(t){return[t[r],t[o]]}),(function(t,e){return t[u]=e})),"image-data-to-canvas"]},bh=function(){var t=to(Ji().mark((function t(e,n){var r,i,o,a;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(pc(e)&&n){t.next=2;break}return t.abrupt("return",e);case 2:if(r=new DataView(n),(i=ro(r))&&i.exif){t.next=6;break}return t.abrupt("return",e);case 6:return o=["exif","mpf","xmp"].reduce((function(t,e){return i[e]?Math.max(t,i[e].offset+i[e].size):t}),0),a=n.slice(0,o+2),t.abrupt("return",Ho(e,a,[20]));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),wh=function(t){var e=void 0===t?{}:t,n=e.renameFile,r=void 0===n?void 0:n,i=e.srcBlob,o=void 0===i?"blob":i,a=e.srcFile,u=void 0===a?"src":a,c=e.destFile,s=void 0===c?"dest":c,l=e.defaultFilename,f=void 0===l?void 0:l;return[th(Ko,(function(t){return[t[o],r?r(t[u]):t[u].name||f+"."+Uo(t[o].type)]}),(function(t,e){return t[s]=e})),"blob-to-file"]},xh=function(t){var e=t.url,n=void 0===e?"./":e,r=t.dataset,i=void 0===r?function(t){return[["dest",t.dest,t.dest.name],["imageState",t.imageState]]}:r,o=t.destStore,a=void 0===o?"store":o,u=t.credentials,c=t.headers,s=void 0===c?{}:c;return[th(function(){var t=to(Ji().mark((function t(e,r){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mc(n,e,{onprogress:r,beforeSend:function(t){return ic(t,{headers:s,credentials:u})}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t,e,n){return[i(t),n]}),(function(t,e){return t[a]=e})),"store"]},$h=function(t){return[th((function(e){return t&&t.length?(Object.keys(e).forEach((function(n){t.includes(n)||delete e[n]})),e):e})),"prop-filter"]},Ch=function(t){void 0===t&&(t={});var e,n,r,i,o,a,u,c,s=t,l=s.orientImage,f=void 0===l||l,d=s.outputProps,h=void 0===d?["src","dest","size","duration"]:d,p=s.preprocessImageFile,v=s.request,m=void 0===v?{}:v;return[(e={willRequest:function(){return m}},n=void 0===e?{}:e,r=n.willRequest,i=void 0===r?void 0:r,o=n.srcProp,a=void 0===o?"src":o,u=n.destProp,c=void 0===u?"dest":u,[th(cc,(function(t,e,n){return[t[a],n,Object.assign({},e,{willRequest:i})]}),(function(t,e){return t[c]=e})),"any-to-file"]),eh(),p&&[th(p,(function(t,e,n){return[t.dest,e,n]}),(function(t,e){return t.dest=e})),"preprocess-image-file"],nh({srcProp:"dest"}),ih({srcProp:"dest"}),f&&ah({srcProp:"dest"}),f&&uh(),f&&oh(),$h(h)].filter(Boolean)},_h=function(t){return t&&(Lo(t)?xh({url:t}):Oo(t)?[t,"store"]:xh(t))},kh=function(t){return void 0===t&&(t={}),function(e,n,r){if(void 0===r&&(r={}),Wu(e)){var i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w,x,$,C,_,k,E,M,S=Object.assign({},t,r),R=S.canvasMemoryLimit,I=void 0===R?Kd():R,L=S.orientImage,O=void 0===L||L,P=S.copyImageHead,A=void 0===P||P,T=S.mimeType,j=void 0===T?void 0:T,B=S.quality,D=void 0===B?void 0:B,N=S.renameFile,z=void 0===N?void 0:N,F=S.targetSize,Z=void 0===F?void 0:F,H=S.imageDataResizer,V=void 0===H?void 0:H,U=S.store,W=void 0===U?void 0:U,q=S.format,G=void 0===q?"file":q,K=S.outputProps,Y=void 0===K?["src","dest","imageState","store"]:K,X=S.preprocessImageSource,J=void 0===X?void 0:X,Q=S.preprocessImageState,tt=void 0===Q?void 0:Q,et=S.postprocessImageData,nt=void 0===et?void 0:et,rt=S.postprocessImageBlob,it=void 0===rt?void 0:rt;return[J&&[th(J,(function(t,e,n){return[t.src,e,n,t.imageState]}),(function(t,e){return t.src=e})),"preprocess-image-source"],(O||A)&&ah(),O&&uh(),nh(),tt&&[th(tt,(function(t,e,n,r){return[t.imageState,e,n,{size:t.size,orientation:t.orientation}]}),(function(t,e){return t.imageState=e})),"preprocess-image-state"],ch({canvasMemoryLimit:I}),O&&oh(),O&&(C=void 0===$?{}:$,_=C.srcImageData,k=void 0===_?"imageData":_,E=C.srcOrientation,M=void 0===E?"orientation":E,[th(Mo,(function(t){return[t[k],t[M]]}),(function(t,e){return t.imageData=e})),"image-data-match-orientation"]),(f=void 0===l?{}:l,d=f.srcImageSize,h=void 0===d?"size":d,p=f.srcCanvasSize,v=void 0===p?"imageData":p,m=f.srcImageState,g=void 0===m?"imageState":m,y=f.destImageSize,b=void 0===y?"size":y,w=f.destScalar,x=void 0===w?"scalar":w,[th((function(t,e){return[Math.min(e.width/t.width,e.height/t.height),Ba(e)]}),(function(t){return[t[h],t[v],t[g]]}),(function(t,e){var n=e[0],r=e[1];t[x]=n,t[b]=r})),"calculate-canvas-scalar"]),hh(),lh(),fh({imageDataResizer:V,targetSize:Z}),dh(),sh(),ph({imageDataResizer:V,canvasMemoryLimit:I}),vh({imageDataResizer:V,canvasMemoryLimit:I}),mh({imageDataResizer:V,canvasMemoryLimit:I}),nt&&[th(nt,(function(t,e,n){return[t.imageData,e,n]}),(function(t,e){return t.imageData=e})),"postprocess-image-data"],"file"===G?gh({mimeType:j,quality:D}):"canvas"===G?yh():[function(t){return t.dest=t.imageData,t}],"file"===G&&O&&(c=(void 0===u?{}:u).srcProp,s=void 0===c?"head":c,[th(io,(function(t){return[t[s],274,1]})),"clear-exif-orientation-tag"]),"file"===G&&A&&(void 0===i&&(i="blob"),void 0===o&&(o="head"),void 0===a&&(a="blob"),[th(bh,(function(t){return[t[i],t[o]]}),(function(t,e){return t[a]=e})),"blob-write-image-head"]),it&&[th(it,(function(t,e,n){return[{blob:t.blob,imageData:t.imageData,src:t.src},e,n]}),(function(t,e){return t.blob=e})),"postprocess-image-file"],"file"===G&&wh({defaultFilename:"image",renameFile:z}),"file"===G?_h(W):Oo(W)&&[W,"store"],$h(Y)].filter(Boolean)}}},Eh=function(t,e,n,r,i,o,a,u,c,s,l){if(t&&e&&n&&r&&u){u*=o;var f=ku(Qa(e)),d=au(f),h=au(t),p=eu(n),v=au(p),m=Rd(n,r,c),g=au(m),y=_a(ma(v),g),b=_a(ma(h),d);y.x+=b.x,y.y+=b.y;var w=ga(ma(y));w.x+=b.x,w.y+=b.y;var x=au(uu(uu(Qa(i),a),t)),$=_a(x,h);return Ca(y,$),{origin:w,translation:y,rotation:{x:l?Math.PI:0,y:s?Math.PI:0,z:c},scale:u}}},Mh=null,Sh=function(){if(null===Mh)if("WebGL2RenderingContext"in window){var t;try{t=go("canvas"),Mh=!!t.getContext("webgl2")}catch(t){Mh=!1}t&&wo(t),t=void 0}else Mh=!1;return Mh},Rh=function(t){return 0==(t&t-1)},Ih=function(t,e,n,r){return void 0===e&&(e={}),void 0===n&&(n=""),void 0===r&&(r=""),Object.keys(e).filter((function(t){return!So(e[t])})).reduce((function(t,i){return t.replace(new RegExp(n+i+r),e[i])}),t)},Lh={head:"#version 300 es\n\nin vec4 aPosition;uniform mat4 uMatrix;",text:"\nin vec2 aTexCoord;out vec2 vTexCoord;",matrix:"\ngl_Position=uMatrix*vec4(aPosition.x,aPosition.y,0,1);"},Oh={head:"#version 300 es\nprecision highp float;\n\nout vec4 fragColor;",mask:"\nuniform float uMaskFeather[8];uniform float uMaskBounds[4];uniform float uMaskOpacity;float mask(float x,float y,float bounds[4],float opacity){return 1.0-(1.0-(smoothstep(bounds[3],bounds[3]+1.0,x)*(1.0-smoothstep(bounds[1]-1.0,bounds[1],x))*(1.0-step(bounds[0],y))*step(bounds[2],y)))*(1.0-opacity);}",init:"\nfloat a=1.0;vec4 fillColor=uColor;vec4 textureColor=texture(uTexture,vTexCoord);textureColor*=(1.0-step(uRepeat.y,vTexCoord.y))*step(0.0,vTexCoord.y)*(1.0-step(uRepeat.x,vTexCoord.x))*step(0.0,vTexCoord.x);",colorize:"\nif(uTextureColor.a!=0.0&&textureColor.a>0.0){vec3 colorFlattened=textureColor.rgb/textureColor.a;if(colorFlattened.r>=.9999&&colorFlattened.g==0.0&&colorFlattened.b>=.9999){textureColor.rgb=uTextureColor.rgb*textureColor.a;}textureColor*=uTextureColor.a;}",maskapply:"\nfloat m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);",maskfeatherapply:"\nfloat leftFeatherOpacity=step(uMaskFeather[1],gl_FragCoord.x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],gl_FragCoord.x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],gl_FragCoord.x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],gl_FragCoord.x));a*=leftFeatherOpacity*rightFeatherOpacity;",edgeaa:"\nvec2 scaledPoint=vec2(vRectCoord.x*uSize.x,vRectCoord.y*uSize.y);a*=smoothstep(0.0,1.0,uSize.x-scaledPoint.x);a*=smoothstep(0.0,1.0,uSize.y-scaledPoint.y);a*=smoothstep(0.0,1.0,scaledPoint.x);a*=smoothstep(0.0,1.0,scaledPoint.y);",cornerradius:"\nvec2 s=(uSize-2.0)*.5;vec2 r=(vRectCoord*uSize)-1.0;vec2 p=r-s;float cornerRadius=uCornerRadius[0];bool left=r.x<s.x;bool top=r.y<s.y;if(!left&&top){cornerRadius=uCornerRadius[1];}if(!left&&!top){cornerRadius=uCornerRadius[3];}if(left&&!top){cornerRadius=uCornerRadius[2];}a*=1.0-clamp(length(max(abs(p)-(s-cornerRadius),0.0))-cornerRadius,0.0,1.0);",fragcolor:"\nif(m<=0.0)discard;fillColor.a*=a;fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);textureColor*=uTextureOpacity;textureColor.a*=a;textureColor.rgb*=m*a;textureColor.rgb+=(1.0-m)*(uCanvasColor.rgb*textureColor.a);fragColor=textureColor+(fillColor*(1.0-textureColor.a));"},Ph=function(t,e,n){var r=t.createShader(n),i=function(t,e,n){return e=Ih(e,n===t.VERTEX_SHADER?Lh:Oh,"##").trim(),Sh()?e:(e=(e=e.replace(/#version.+/gm,"").trim()).replace(/^\/\/\#/gm,"#"),n===t.VERTEX_SHADER&&(e=e.replace(/in /gm,"attribute ").replace(/out /g,"varying ")),n===t.FRAGMENT_SHADER&&(e=e.replace(/in /gm,"varying ").replace(/out.*?;/gm,"").replace(/texture\(/g,"texture2D(").replace(/fragColor/g,"gl_FragColor")),""+e)}(t,e,n);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS),r},Ah=function(t,e,n,r,i){var o=Ph(t,e,t.VERTEX_SHADER),a=Ph(t,n,t.FRAGMENT_SHADER),u=t.createProgram();t.attachShader(u,o),t.attachShader(u,a),t.linkProgram(u);var c={};return r.forEach((function(e){c[e]=t.getAttribLocation(u,e)})),i.forEach((function(e){c[e]=t.getUniformLocation(u,e)})),{program:u,locations:c,destroy:function(){t.detachShader(u,o),t.detachShader(u,a),t.deleteShader(o),t.deleteShader(a),t.deleteProgram(u)}}},Th=function(t){return"VIDEO"!==t.nodeName&&(!!Sh()||Rh(t.width)&&Rh(t.height))},jh=function(t,e,n,r){return t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),function(t,e,n){t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,Th(e)?t.LINEAR_MIPMAP_LINEAR:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n.filterParam),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n.wrapParam),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,n.wrapParam),Th(e)&&t.generateMipmap(t.TEXTURE_2D)}(t,n,r),t.bindTexture(t.TEXTURE_2D,null),e},Bh=function(t,e){return void 0===e&&(e=1),t?[t[0],t[1],t[2],Lc(t[3])?e*t[3]:e]:[0,0,0,0]},Dh=function(){var t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},Nh=function(t,e,n,r,i,o,a){var u=1/(e-n),c=1/(r-i),s=1/(o-a);t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*c,t[14]=(a+o)*s,t[15]=1},zh=function(t,e,n,r){t[12]=t[0]*e+t[4]*n+t[8]*r+t[12],t[13]=t[1]*e+t[5]*n+t[9]*r+t[13],t[14]=t[2]*e+t[6]*n+t[10]*r+t[14],t[15]=t[3]*e+t[7]*n+t[11]*r+t[15]},Fh=function(t,e){t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,t[4]*=e,t[5]*=e,t[6]*=e,t[7]*=e,t[8]*=e,t[9]*=e,t[10]*=e,t[11]*=e},Zh=function(t,e){var n=Math.sin(e),r=Math.cos(e),i=t[4],o=t[5],a=t[6],u=t[7],c=t[8],s=t[9],l=t[10],f=t[11];t[4]=i*r+c*n,t[5]=o*r+s*n,t[6]=a*r+l*n,t[7]=u*r+f*n,t[8]=c*r-i*n,t[9]=s*r-o*n,t[10]=l*r-a*n,t[11]=f*r-u*n},Hh=function(t,e){var n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],u=t[3],c=t[8],s=t[9],l=t[10],f=t[11];t[0]=i*r-c*n,t[1]=o*r-s*n,t[2]=a*r-l*n,t[3]=u*r-f*n,t[8]=i*n+c*r,t[9]=o*n+s*r,t[10]=a*n+l*r,t[11]=u*n+f*r},Vh=function(t,e){var n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],u=t[3],c=t[4],s=t[5],l=t[6],f=t[7];t[0]=i*r+c*n,t[1]=o*r+s*n,t[2]=a*r+l*n,t[3]=u*r+f*n,t[4]=c*r-i*n,t[5]=s*r-o*n,t[6]=l*r-a*n,t[7]=f*r-u*n},Uh=function(t){return t*Math.PI/180},Wh=function(t,e){return Sh()?t.getContext("webgl2",e):t.getContext("webgl",e)||t.getContext("experimental-webgl",e)},qh=function(t,e){var n=t.length;return e>=n?t[e%n]:e<0?t[e%n+n]:t[e]},Gh=function(t,e,n,r){var i=pa(n.x-e.x,n.y-e.y),o=pa(r.x-n.x,r.y-n.y),a=pa(e.x-r.x,e.y-r.y),u=pa(t.x-e.x,t.y-e.y),c=pa(t.x-n.x,t.y-n.y),s=pa(t.x-r.x,t.y-r.y),l=Sa(i,u),f=Sa(o,c),d=Sa(a,s);return l<=0&&f<=0&&d<=0},Kh=function(t){if(t.length<3)return[];if(function(t){for(var e=t.length,n=0;n<e;n++){var r=Ga(t[n],qh(t,n+1));if(Ru(r,t,{ignoreIdenticalLines:!0,breakOnIntersection:!0}))return!0}return!1}(t))return[];(function(t){var e,n,r,i=0,o=t.length;for(e=0;e<o;e++)n=t[e],i+=((r=t[(e+1)%o]).x-n.x)*((r.y+n.y)/2);return i})(t)<0&&t.reverse();for(var e,n,r,i,o,a,u,c,s,l,f,d,h=t.length,p=[].concat(Array(h).keys()),v=[],m=128;p.length>3;){if(m<=0)return[];for(m--,e=0;e<p.length;e++)if(r=p[e],i=qh(p,e-1),o=qh(p,e+1),a=t[r],u=t[i],c=t[o],s=pa(u.x-a.x,u.y-a.y),l=pa(c.x-a.x,c.y-a.y),!(Sa(s,l)<0)){for(f=!0,n=0;n<h;n++)if(n!==r&&n!==i&&n!==o&&(d=t[n],Gh(d,u,a,c))){f=!1;break}if(f){v.push([u,a,c]),p.splice(e,1);break}}}return v.push([t[p[0]],t[p[1]],t[p[2]]]),v},Yh=function(t,e,n,r,i){var o=wa(pa(r.x-n.x,r.y-n.y)),a=wa(pa(i.x-r.x,i.y-r.y)),u=wa(pa(o.x+a.x,o.y+a.y)),c=pa(-u.y,u.x),s=pa(-o.y,o.x),l=Math.min(1/Ma(c,s),5);t[e]=r.x,t[e+1]=r.y,t[e+2]=c.x*l,t[e+3]=c.y*l,t[e+4]=-1,t[e+5]=r.x,t[e+6]=r.y,t[e+7]=c.x*l,t[e+8]=c.y*l,t[e+9]=1},Xh=function(t){var e=new Float32Array(8);return e[0]=t[3].x,e[1]=t[3].y,e[2]=t[0].x,e[3]=t[0].y,e[4]=t[2].x,e[5]=t[2].y,e[6]=t[1].x,e[7]=t[1].y,e},Jh=function(t,e,n,r){void 0===e&&(e=0);var i=$u(t),o=t.x+.5*t.width,a=t.y+.5*t.height;return(n||r)&&Pa(i,n,r,o,a),0!==e&&Aa(i,e,o,a),i},Qh=function(t,e,n,r,i){for(var o=Math.min(20,Math.max(4,Math.round(r/2))),a=0,u=0,c=0,s=0;s<o;s++)a=i*Jo+s/o*Jo,u=r*Math.cos(a),c=r*Math.sin(a),t.push(pa(e+u,n+c))},tp=null,ep=function(){if(null!==tp)return tp;var t=go("canvas"),e=Wh(t);return tp=e?e.getParameter(e.MAX_TEXTURE_SIZE):void 0,wo(t),t=void 0,tp},np=function(){return ho()&&!!window.chrome},rp=new Float32Array([0,1,0,0,1,1,1,0]),ip=new Float32Array([1,0,0,0,1,1,0,1]),op=ho()&&Uc(),ap=[0,0,0,0,1,0,0,0,0],up=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],cp=[0,0,0,0],sp=[0,0,0,0],lp=function(t,e,n,r,i){if(!n||!r)return rp;var o=r.x/n.width,a=r.y/n.height,u=t/n.width/i,c=e/n.height/i;return u-=o,c-=a,new Float32Array([-o,c,-o,-a,u,c,u,-a])},fp=function(t,e){void 0===e&&(e={});var n,r,i,o,a,u,c,s,l,f,d,h,p=e.alpha,v=void 0!==p&&p,m={width:0,height:0},g={width:0,height:0},y=ep()||1024,b=Dh(),w=Dh(),x=0,$=0,C=0,_=1,k=new Map([]),E=function(){R.stencilOp(R.KEEP,R.KEEP,R.KEEP),R.stencilFunc(R.ALWAYS,1,255),R.stencilMask(255)},M=Uh(30),S=Math.tan(M/2),R=Wh(t,{alpha:v,antialias:!1,premultipliedAlpha:!0,stencil:!0});if(R){R.getExtension("OES_standard_derivatives"),R.disable(R.DEPTH_TEST),R.enable(R.STENCIL_TEST),R.enable(R.BLEND),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!(!v&&Uc())),E();var I=R.createTexture();R.bindTexture(R.TEXTURE_2D,I),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array(cp)),k.set(0,I);var L=R.createTexture();k.set(2,L);var O=R.createFramebuffer(),P=R.createTexture();k.set(1,P);var A=R.createFramebuffer(),T=Ah(R,"\n##head\n##text\nvoid main(){vTexCoord=aTexCoord;gl_Position=uMatrix*aPosition;}","\n##head\nin vec2 vTexCoord;uniform sampler2D uTexture;uniform sampler2D uTextureOverlay;uniform sampler2D uTextureBlend;uniform vec2 uTextureSize;uniform float uOpacity;uniform int uAntialias;uniform vec4 uOverlayColor;uniform mat4 uColorMatrix;uniform vec4 uColorOffset;uniform float uClarityKernel[9];uniform float uClarityKernelWeight;uniform float uColorGamma;uniform float uColorVignette;uniform float uMaskClip;uniform float uMaskOpacity;uniform float uMaskBounds[4];uniform float uMaskCornerRadius[4];uniform float uMaskFeather[8];vec4 applyGamma(vec4 c,float g){c.r=pow(c.r,g);c.g=pow(c.g,g);c.b=pow(c.b,g);return c;}vec4 applyColorMatrix(vec4 c,mat4 m,vec4 o){return(c*m)+(o*c.a);}vec4 applyConvolutionMatrix(vec4 c,float k0,float k1,float k2,float k3,float k4,float k5,float k6,float k7,float k8,float w){vec2 pixel=vec2(1)/uTextureSize;vec4 colorSum=texture(uTexture,vTexCoord-pixel)*k0+texture(uTexture,vTexCoord+pixel*vec2(0.0,-1.0))*k1+texture(uTexture,vTexCoord+pixel*vec2(1.0,-1.0))*k2+texture(uTexture,vTexCoord+pixel*vec2(-1.0,0.0))*k3+texture(uTexture,vTexCoord)*k4+texture(uTexture,vTexCoord+pixel*vec2(1.0,0.0))*k5+texture(uTexture,vTexCoord+pixel*vec2(-1.0,1.0))*k6+texture(uTexture,vTexCoord+pixel*vec2(0.0,1.0))*k7+texture(uTexture,vTexCoord+pixel)*k8;vec4 color=vec4(clamp((colorSum/w),0.0,1.0).rgb,c.a);return color;}vec4 applyVignette(vec4 c,vec2 pos,vec2 center,float v){float d=distance(pos,center)/length(center);float f=1.0-(d*abs(v));if(v>0.0){c.rgb*=f;}else if(v<0.0){c.rgb+=(1.0-f)*(1.0-c.rgb);}return c;}vec4 blendPremultipliedAlpha(vec4 back,vec4 front){return front+(back*(1.0-front.a));}void main(){float x=gl_FragCoord.x;float y=gl_FragCoord.y;float a=1.0;float maskTop=uMaskBounds[0];float maskRight=uMaskBounds[1];float maskBottom=uMaskBounds[2];float maskLeft=uMaskBounds[3];float leftFeatherOpacity=step(uMaskFeather[1],x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],x));a*=leftFeatherOpacity*rightFeatherOpacity;float overlayColorAlpha=(smoothstep(maskLeft,maskLeft+1.0,x)*(1.0-smoothstep(maskRight-1.0,maskRight,x))*(1.0-step(maskTop,y))*step(maskBottom,y));if(uOverlayColor.a==0.0){a*=overlayColorAlpha;}vec2 offset=vec2(maskLeft,maskBottom);vec2 size=vec2(maskRight-maskLeft,maskTop-maskBottom)*.5;vec2 center=offset.xy+size.xy;int pixelX=int(step(center.x,x));int pixelY=int(step(y,center.y));float cornerRadius=0.0;if(pixelX==0&&pixelY==0)cornerRadius=uMaskCornerRadius[0];if(pixelX==1&&pixelY==0)cornerRadius=uMaskCornerRadius[1];if(pixelX==0&&pixelY==1)cornerRadius=uMaskCornerRadius[2];if(pixelX==1&&pixelY==1)cornerRadius=uMaskCornerRadius[3];float cornerOffset=sign(cornerRadius)*length(max(abs(gl_FragCoord.xy-size-offset)-size+cornerRadius,0.0))-cornerRadius;float cornerOpacity=1.0-smoothstep(0.0,1.0,cornerOffset);a*=cornerOpacity;if(uAntialias==1){vec2 scaledPoint=vec2(vTexCoord.x*uTextureSize.x,vTexCoord.y*uTextureSize.y);a*=smoothstep(0.0,1.0,uTextureSize.x-scaledPoint.x);a*=smoothstep(0.0,1.0,uTextureSize.y-scaledPoint.y);a*=smoothstep(0.0,1.0,scaledPoint.x);a*=smoothstep(0.0,1.0,scaledPoint.y);}vec4 color=texture(uTexture,vTexCoord);if(uClarityKernelWeight!=-1.0){color=applyConvolutionMatrix(color,uClarityKernel[0],uClarityKernel[1],uClarityKernel[2],uClarityKernel[3],uClarityKernel[4],uClarityKernel[5],uClarityKernel[6],uClarityKernel[7],uClarityKernel[8],uClarityKernelWeight);}color=blendPremultipliedAlpha(color,texture(uTextureBlend,vTexCoord));color=applyGamma(color,uColorGamma);color=applyColorMatrix(color,uColorMatrix,uColorOffset);color*=a;if(uColorVignette!=0.0){vec2 pos=gl_FragCoord.xy-offset;color=applyVignette(color,pos,center-offset,uColorVignette);}color=blendPremultipliedAlpha(color,texture(uTextureOverlay,vTexCoord));if(overlayColorAlpha<=0.0){color*=1.0-uOverlayColor.a;}color*=uOpacity;fragColor=color;}",["aPosition","aTexCoord"],["uMatrix","uTexture","uTextureBlend","uTextureOverlay","uTextureSize","uColorGamma","uColorVignette","uColorOffset","uColorMatrix","uClarityKernel","uClarityKernelWeight","uOpacity","uMaskOpacity","uMaskBounds","uMaskCornerRadius","uMaskFeather","uOverlayColor","uAntialias"]),j=R.createBuffer(),B=R.createBuffer();R.bindBuffer(R.ARRAY_BUFFER,B),R.bufferData(R.ARRAY_BUFFER,rp,R.STATIC_DRAW);var D=R.createBuffer();R.bindBuffer(R.ARRAY_BUFFER,D),R.bufferData(R.ARRAY_BUFFER,ip,R.STATIC_DRAW);var N=Ah(R,"#version 300 es\n\nin vec4 aPosition;in vec2 aNormal;in float aMiter;out vec2 vNormal;out float vMiter;out float vWidth;uniform float uWidth;uniform float uSharpness;uniform mat4 uMatrix;void main(){vMiter=aMiter;vNormal=aNormal;vWidth=(uWidth*.5)+uSharpness;gl_Position=uMatrix*vec4(aPosition.x+(aNormal.x*vWidth*aMiter),aPosition.y+(aNormal.y*vWidth*aMiter),0,1);}","\n##head\n##mask\nin vec2 vNormal;in float vMiter;in float vWidth;uniform float uWidth;uniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;float m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);if(m<=0.0)discard;fillColor.a*=clamp(smoothstep(vWidth-.5,vWidth-1.0,abs(vMiter)*vWidth),0.0,1.0);fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition","aNormal","aMiter"],["uColor","uCanvasColor","uMatrix","uWidth","uSharpness","uMaskBounds","uMaskOpacity"]),z=R.createBuffer();np()&&(R.bindBuffer(R.ARRAY_BUFFER,z),R.bufferData(R.ARRAY_BUFFER,1,R.DYNAMIC_DRAW));var F=function(t,e,n,r){void 0===r&&(r=!1);var a=N.program,u=N.locations;R.useProgram(a),R.enableVertexAttribArray(u.aPosition),R.enableVertexAttribArray(u.aNormal),R.enableVertexAttribArray(u.aMiter);var c=function(t,e){var n,r,i,o=0,a=t.length,u=new Float32Array(10*(e?a+1:a)),c=t[0],s=t[a-1];for(o=0;o<a;o++)n=t[o-1],r=t[o],i=t[o+1],n||(n=e?s:pa(r.x+(r.x-i.x),r.y+(r.y-i.y))),i||(i=e?c:pa(r.x+(r.x-n.x),r.y+(r.y-n.y))),Yh(u,10*o,n,r,i);return e&&Yh(u,10*a,s,c,t[1]),u}(t,r),s=5*Float32Array.BYTES_PER_ELEMENT,d=2*Float32Array.BYTES_PER_ELEMENT,h=4*Float32Array.BYTES_PER_ELEMENT;R.uniform1f(u.uWidth,e),R.uniform1f(u.uSharpness,i),R.uniform4fv(u.uColor,n),R.uniformMatrix4fv(u.uMatrix,!1,o),R.uniform4f(u.uCanvasColor,x,$,C,_),R.uniform1fv(u.uMaskBounds,f),R.uniform1f(u.uMaskOpacity,l),R.bindBuffer(R.ARRAY_BUFFER,z),R.bufferData(R.ARRAY_BUFFER,c,R.STATIC_DRAW),R.vertexAttribPointer(u.aPosition,2,R.FLOAT,!1,s,0),R.vertexAttribPointer(u.aNormal,2,R.FLOAT,!1,s,d),R.vertexAttribPointer(u.aMiter,1,R.FLOAT,!1,s,h),R.drawArrays(R.TRIANGLE_STRIP,0,c.length/5),R.disableVertexAttribArray(u.aPosition),R.disableVertexAttribArray(u.aNormal),R.disableVertexAttribArray(u.aMiter)},Z=Ah(R,"\n##head\nvoid main(){\n##matrix\n}","\n##head\n##mask\nuniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;\n##maskapply\nfillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition"],["uColor","uCanvasColor","uMatrix","uMaskBounds","uMaskOpacity"]),H=R.createBuffer(),V=Ah(R,"\n##head\n##text\nin vec2 aRectCoord;out vec2 vRectCoord;void main(){vTexCoord=aTexCoord;vRectCoord=aRectCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vRectCoord;uniform sampler2D uTexture;uniform vec4 uTextureColor;uniform float uTextureOpacity;uniform vec2 uRepeat;uniform vec4 uColor;uniform float uCornerRadius[4];uniform vec2 uSize;uniform vec2 uPosition;uniform vec4 uCanvasColor;uniform int uInverted;void main(){\n##init\n##colorize\n##edgeaa\n##cornerradius\n##maskfeatherapply\nif(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord","aRectCoord"],["uTexture","uColor","uMatrix","uCanvasColor","uTextureColor","uTextureOpacity","uRepeat","uPosition","uSize","uMaskBounds","uMaskOpacity","uMaskFeather","uCornerRadius","uInverted"]),U=R.createBuffer(),W=R.createBuffer(),q=R.createBuffer(),G=Ah(R,"\n##head\n##text\nout vec2 vTexCoordDouble;void main(){vTexCoordDouble=vec2(aTexCoord.x*2.0-1.0,aTexCoord.y*2.0-1.0);vTexCoord=aTexCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vTexCoordDouble;uniform sampler2D uTexture;uniform float uTextureOpacity;uniform vec2 uRepeat;uniform vec2 uRadius;uniform vec4 uColor;uniform int uInverted;uniform vec4 uCanvasColor;void main(){\n##init\nfloat ar=uRadius.x/uRadius.y;vec2 rAA=vec2(uRadius.x-1.0,uRadius.y-(1.0/ar));vec2 scaledPointSq=vec2((vTexCoordDouble.x*uRadius.x)*(vTexCoordDouble.x*uRadius.x),(vTexCoordDouble.y*uRadius.y)*(vTexCoordDouble.y*uRadius.y));float p=(scaledPointSq.x/(uRadius.x*uRadius.x))+(scaledPointSq.y/(uRadius.y*uRadius.y));float pAA=(scaledPointSq.x/(rAA.x*rAA.x))+(scaledPointSq.y/(rAA.y*rAA.y));a=smoothstep(1.0,p/pAA,p);if(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord"],["uTexture","uTextureOpacity","uRepeat","uColor","uCanvasColor","uMatrix","uRadius","uInverted","uMaskBounds","uMaskOpacity"]),K=R.createBuffer(),Y=R.createBuffer(),X=new Map,J={2:{width:0,height:0},1:{width:0,height:0}},Q=function(t,e,n,i){void 0===i&&(i=1);var a=Math.min(Math.min(4096,y)/n.width,Math.min(4096,y)/n.height,i),u=Math.floor(a*n.width),c=Math.floor(a*n.height);Za(n,J[t])?R.bindFramebuffer(R.FRAMEBUFFER,e):(R.bindTexture(R.TEXTURE_2D,k.get(t)),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,u,c,0,R.RGBA,R.UNSIGNED_BYTE,null),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.bindFramebuffer(R.FRAMEBUFFER,e),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,k.get(t),0),J[t]=n);var s,l,f=n.width*r,d=n.height*r;Nh(w,0,f,d,0,-1,1),zh(w,0,d,0),l=1,(s=w)[0]*=l,s[1]*=l,s[2]*=l,s[3]*=l,function(t,e){t[4]*=e,t[5]*=e,t[6]*=e,t[7]*=e}(w,-1),o=w,R.viewport(0,0,u,c),R.colorMask(!0,!0,!0,!0),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),h=[1,0,1,0,1,Math.max(m.width,n.width),1,Math.max(m.width,n.width)]},tt=function(t,e){var n=(e||{}).forceRelease,r=void 0!==n&&n,i=X.get(t).src;i instanceof HTMLCanvasElement&&(r||i.dataset.retain||wo(i)),X.delete(t),R.deleteTexture(t)},et=function(t){return X.get(t).isRotatedVideo};return{drawPath:function(t,e,n,i,a,u,c,s,d){if(void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=!1),!(t.length<2)){var h=t.map((function(t){return{x:t.x*r,y:t.y*r}})),p=a*r;if(p>0&&F(h,p,Bh(u,d),c),!(h.length<3)&&s&&0!==s[3]&&c){var v=Kh(h),m=new Float32Array(6*v.length);v.forEach((function(t,e){var n=t[0],r=t[1],i=t[2],o=6*e;m[o+0]=n.x,m[o+1]=n.y,m[o+2]=r.x,m[o+3]=r.y,m[o+4]=i.x,m[o+5]=i.y})),function(t,e){var n=Z.program,r=Z.locations;R.useProgram(n),R.enableVertexAttribArray(r.aPosition),R.uniform4fv(r.uColor,e),R.uniformMatrix4fv(r.uMatrix,!1,o),R.uniform1fv(r.uMaskBounds,f),R.uniform1f(r.uMaskOpacity,l),R.uniform4f(r.uCanvasColor,x,$,C,_),R.bindBuffer(R.ARRAY_BUFFER,H),R.bufferData(R.ARRAY_BUFFER,t,R.STATIC_DRAW),R.vertexAttribPointer(r.aPosition,2,R.FLOAT,!1,0,0),R.drawArrays(R.TRIANGLES,0,t.length/2),R.disableVertexAttribArray(r.aPosition)}(m,Bh(s,d))}}},drawRect:function(t,e,n,i,a,u,c,s,d,p,v,m,g,y,b,w,k){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===s&&(s=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===v&&(v=void 0),void 0===b&&(b=void 0);var E=fu(Qa(t),r),M=a.map((function(e){return function(t,e){return Math.floor(Id(t,0,Math.min(.5*(e.width-1),.5*(e.height-1))))}(e||0,t)})).map((function(t){return t*r}));if(u||c){var S=Qa(E);S.x-=.5,S.y-=.5,S.width+=1,S.height+=1;var L,O=Jh(S,e,n,i),P=Xh(O);w&&0===(L=Bh(w))[3]&&(L[3]=.001);var A=s&&p?[S.width/s.width,S.height/s.height]:[1,1];!function(t,e,n,i,a,u,c,s,d,p,v,m){void 0===u&&(u=I),void 0===s&&(s=1),void 0===d&&(d=cp),void 0===p&&(p=rp),void 0===v&&(v=h);var g=V.program,y=V.locations;R.useProgram(g),R.enableVertexAttribArray(y.aPosition),R.enableVertexAttribArray(y.aTexCoord),R.enableVertexAttribArray(y.aRectCoord),R.uniform4fv(y.uColor,a),R.uniform2fv(y.uSize,[e,n]),R.uniform2fv(y.uPosition,[t[2],t[3]]),R.uniform2fv(y.uRepeat,c),R.uniform1i(y.uInverted,m?1:0),R.uniform1fv(y.uCornerRadius,i),R.uniform4f(y.uCanvasColor,x,$,C,_),R.uniform1fv(y.uMaskFeather,v.map((function(t,e){return e%2==0?t:t*r}))),R.uniform1fv(y.uMaskBounds,f),R.uniform1f(y.uMaskOpacity,l),R.uniformMatrix4fv(y.uMatrix,!1,o),R.uniform1i(y.uTexture,4),R.uniform4fv(y.uTextureColor,d),R.uniform1f(y.uTextureOpacity,s),R.activeTexture(R.TEXTURE0+4),R.bindTexture(R.TEXTURE_2D,u),R.bindBuffer(R.ARRAY_BUFFER,W),R.bufferData(R.ARRAY_BUFFER,p,R.STATIC_DRAW),R.vertexAttribPointer(y.aTexCoord,2,R.FLOAT,!1,0,0),R.bindBuffer(R.ARRAY_BUFFER,q),R.bufferData(R.ARRAY_BUFFER,rp,R.STATIC_DRAW),R.vertexAttribPointer(y.aRectCoord,2,R.FLOAT,!1,0,0),R.bindBuffer(R.ARRAY_BUFFER,U),R.bufferData(R.ARRAY_BUFFER,t,R.STATIC_DRAW),R.vertexAttribPointer(y.aPosition,2,R.FLOAT,!1,0,0),R.drawArrays(R.TRIANGLE_STRIP,0,t.length/2),R.disableVertexAttribArray(y.aPosition),R.disableVertexAttribArray(y.aTexCoord),R.disableVertexAttribArray(y.aRectCoord)}(P,S.width,S.height,M,Bh(u,y),c,A,y,L,v?new Float32Array(v):lp(S.width,S.height,s,d,r),b,k)}m&&(m=Math.min(m,E.width,E.height),F(function(t,e,n,r,i,o,a,u){var c=[];if(o.every((function(t){return 0===t})))c.push(pa(t,e),pa(t+n,e),pa(t+n,e+r),pa(t,e+r));else{var s=o[0],l=o[1],f=o[2],d=o[3],h=t,p=t+n,v=e,m=e+r;c.push(pa(h+s,v)),Qh(c,p-l,v+l,l,-1),c.push(pa(p,v+l)),Qh(c,p-d,m-d,d,0),c.push(pa(p-d,m)),Qh(c,h+f,m-f,f,1),c.push(pa(h,m-f)),Qh(c,h+s,v+s,s,2)}return(a||u)&&Pa(c,a,u,t+.5*n,e+.5*r),i&&Aa(c,i,t+.5*n,e+.5*r),c}(E.x,E.y,E.width,E.height,e,M,n,i),m*r,Bh(g,y),!0))},drawEllipse:function(t,e,n,i,a,u,c,s,d,h,p,v,m,g,y){void 0===d&&(d=void 0),void 0===h&&(h=void 0),void 0===p&&(p=void 0);var b=fu(ou(t.x-e,t.y-n,2*e,2*n),r);if(c||s){var w=Qa(b);w.x-=.5,w.y-=.5,w.width+=1,w.height+=1;var k=Jh(w,i,a,u);!function(t,e,n,r,i,a,u,c){void 0===i&&(i=I),void 0===a&&(a=rp),void 0===u&&(u=1),void 0===c&&(c=!1);var s=G.program,d=G.locations;R.useProgram(s),R.enableVertexAttribArray(d.aPosition),R.enableVertexAttribArray(d.aTexCoord),R.uniformMatrix4fv(d.uMatrix,!1,o),R.uniform2fv(d.uRadius,[.5*e,.5*n]),R.uniform1i(d.uInverted,c?1:0),R.uniform4fv(d.uColor,r),R.uniform4f(d.uCanvasColor,x,$,C,_),R.uniform2fv(d.uRepeat,[1,1]),R.uniform1fv(d.uMaskBounds,f),R.uniform1f(d.uMaskOpacity,l),R.uniform1i(d.uTexture,4),R.uniform1f(d.uTextureOpacity,u),R.activeTexture(R.TEXTURE0+4),R.bindTexture(R.TEXTURE_2D,i),R.bindBuffer(R.ARRAY_BUFFER,Y),R.bufferData(R.ARRAY_BUFFER,a,R.STATIC_DRAW),R.vertexAttribPointer(d.aTexCoord,2,R.FLOAT,!1,0,0),R.bindBuffer(R.ARRAY_BUFFER,K),R.bufferData(R.ARRAY_BUFFER,t,R.STATIC_DRAW),R.vertexAttribPointer(d.aPosition,2,R.FLOAT,!1,0,0),R.drawArrays(R.TRIANGLE_STRIP,0,t.length/2),R.disableVertexAttribArray(d.aPosition),R.disableVertexAttribArray(d.aTexCoord)}(Xh(k),w.width,w.height,Bh(c,g),s,p?new Float32Array(p):lp(w.width,w.height,d,h,r),g,y)}v&&F(function(t,e,n,r,i,o,a){var u=.5*Math.abs(n),c=.5*Math.abs(r),s=Math.abs(n)+Math.abs(r),l=Math.max(20,Math.round(s/6));return Ou(pa(t+u,e+c),u,c,i,o,a,l)}(b.x,b.y,b.width,b.height,i,a,u),v*r,Bh(m,g),!0)},drawImage:function(t,e,i,o,a,u,c,s,h,p,v,g,y,b,w,x,$,C,_,E,I){void 0===v&&(v=up),void 0===g&&(g=1),void 0===b&&(b=1),void 0===w&&(w=0),void 0===x&&(x=d),void 0===$&&($=sp),void 0===C&&(C=cp),void 0===_&&(_=!1),void 0===E&&(E=!1),void 0===I&&(I=!0);var L=e.width*r,O=e.height*r,P=-.5*L,A=.5*O,N=.5*L,z=-.5*O,F=new Float32Array([P,z,0,P,A,0,N,z,0,N,A,0]);R.bindBuffer(R.ARRAY_BUFFER,j),R.bufferData(R.ARRAY_BUFFER,F,R.STATIC_DRAW);var Z=e.height/2/S*(m.height/e.height)*-1;a*=r,u*=r,i*=r,o*=r;var H,V,U,W,q,G,K,Y=T.program,X=T.locations,J=Dh();H=J,V=M,U=n,W=1,q=2*-Z,G=1/Math.tan(V/2),K=1/(W-q),H[0]=G/U,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=G,H[6]=0,H[7]=0,H[8]=0,H[9]=0,H[10]=(q+W)*K,H[11]=-1,H[12]=0,H[13]=0,H[14]=2*q*W*K,H[15]=0,zh(J,a,-u,Z),zh(J,i,-o,0),Vh(J,-h),Fh(J,p),zh(J,-i,o,0),Hh(J,s),Zh(J,c),R.useProgram(Y),R.enableVertexAttribArray(X.aPosition),R.enableVertexAttribArray(X.aTexCoord),R.uniform1i(X.uTexture,3),R.uniform2f(X.uTextureSize,e.width,e.height),R.activeTexture(R.TEXTURE0+3),R.bindTexture(R.TEXTURE_2D,t);var Q=E?1:0,tt=k.get(Q);R.uniform1i(X.uTextureBlend,Q),R.activeTexture(R.TEXTURE0+Q),R.bindTexture(R.TEXTURE_2D,tt);var nt=_?2:0,rt=k.get(nt);R.uniform1i(X.uTextureOverlay,nt),R.activeTexture(R.TEXTURE0+nt),R.bindTexture(R.TEXTURE_2D,rt),R.bindBuffer(R.ARRAY_BUFFER,j),R.vertexAttribPointer(X.aPosition,3,R.FLOAT,!1,0,0);var it,ot=op&&et(t);R.bindBuffer(R.ARRAY_BUFFER,ot?D:B),R.vertexAttribPointer(X.aTexCoord,2,R.FLOAT,!1,0,0),R.uniformMatrix4fv(X.uMatrix,!1,J),R.uniform4fv(X.uOverlayColor,C),!y||Td(y,ap)?(y=ap,it=-1):it=(it=y.reduce((function(t,e){return t+e}),0))<=0?1:it,R.uniform1fv(X.uClarityKernel,y),R.uniform1f(X.uClarityKernelWeight,it),R.uniform1f(X.uColorGamma,1/b),R.uniform1f(X.uColorVignette,w),R.uniform1i(X.uAntialias,I?1:0),R.uniform4f(X.uColorOffset,v[4],v[9],v[14],v[19]),R.uniformMatrix4fv(X.uColorMatrix,!1,[v[0],v[1],v[2],v[3],v[5],v[6],v[7],v[8],v[10],v[11],v[12],v[13],v[15],v[16],v[17],v[18]]),R.uniform1f(X.uOpacity,g),R.uniform1f(X.uMaskOpacity,l),R.uniform1fv(X.uMaskBounds,f),R.uniform1fv(X.uMaskCornerRadius,$.map((function(t){return t*r}))),R.uniform1fv(X.uMaskFeather,x.map((function(t,e){return e%2==0?t:t*r}))),R.drawArrays(R.TRIANGLE_STRIP,0,4),R.disableVertexAttribArray(X.aPosition),R.disableVertexAttribArray(X.aTexCoord)},textureFilterNearest:R.NEAREST,textureFilterLinear:R.LINEAR,textureClamp:R.CLAMP_TO_EDGE,textureRepeat:R.REPEAT,textureCreate:function(){return R.createTexture()},textureUpdate:function(t,e,n){return X.set(t,{src:e,options:n,isRotatedVideo:"VIDEO"===e.nodeName&&(e.dataset&&90==e.dataset.rotation||270==e.dataset.rotation)}),jh(R,t,e,n)},textureGetSize:function(t){var e=X.get(t),n=e.src,r=e.options,i=Ba(n);return r.scalar?qa(i,(function(t){return t/r.scalar})):i},textureDelete:tt,enablePreviewStencil:function(){R.stencilOp(R.KEEP,R.KEEP,R.REPLACE),R.stencilFunc(R.ALWAYS,1,255),R.stencilMask(255)},applyPreviewStencil:function(){R.stencilFunc(R.EQUAL,1,255),R.stencilMask(0)},disablePreviewStencil:E,setCanvasColor:function(t){x=t[0],$=t[1],C=t[2],_=v?t[3]:1,R.clear(R.COLOR_BUFFER_BIT)},resetCanvasMatrix:function(){Nh(b,0,m.width,m.height,0,-1,1)},updateCanvasMatrix:function(t,e,n,i,o){var a=t.width,u=t.height,c=m.width*(.5/r),s=m.height*(.5/r),l={x:c+(n.x+e.x),y:s+(n.y+e.y)},f={x:l.x-e.x,y:l.y-e.y},d=.5*a,h=.5*u;ya(f,o.z,l),La(f,i,l),zh(b,(f.x-d)*r,(f.y-h)*r,0),zh(b,d*r,h*r,0),Vh(b,o.z);var p=o.x>Math.PI/2;Zh(b,p?Math.PI:0);var v=o.y>Math.PI/2;Hh(b,v?Math.PI:0),Fh(b,i),zh(b,-d*r,-h*r,0)},drawToCanvas:function(){R.bindFramebuffer(R.FRAMEBUFFER,null),o=b,R.viewport(0,0,R.drawingBufferWidth,R.drawingBufferHeight),R.colorMask(!0,!0,!0,!0),R.clearColor(x,$,C,_),R.clear(R.COLOR_BUFFER_BIT),h=[1,0,1,0,1,m.width,1,m.width]},drawToImageBlendBuffer:function(t,e){Q(1,A,t,e)},drawToImageOverlayBuffer:function(t,e){Q(2,O,t,e)},enableMask:function(t,e){var n=t.x*r,i=t.y*r,o=t.width*r,d=t.height*r;u=(s=n)+o,a=m.height-i,c=m.height-(i+d),l=1-e,f=[a,u,c,s]},disableMask:function(){s=0,u=m.width,a=m.height,l=1,f=[a,u,c=0,s]},resize:function(e,o,a){i=1===(r=a)?.75:1,g.width=e,g.height=o,m.width=e*r,m.height=o*r,n=Yo(m.width,m.height),t.width=m.width,t.height=m.height,Nh(b,0,m.width,m.height,0,-1,1),d=[1,0,1,0,1,g.width,1,g.width]},release:function(){Array.from(X.keys()).forEach((function(t){return tt(t,{forceRelease:!0})})),X.clear(),k.forEach((function(t){R.deleteTexture(t)})),k.clear(),T.destroy(),N.destroy(),Z.destroy(),V.destroy(),G.destroy(),t.width=1,t.height=1,t=void 0}}}};function dp(t){return Math.sqrt(1- --t*t)}function hp(t){return"[object Date]"===Object.prototype.toString.call(t)}function pp(t,e){if(t===e||t!=t)return function(){return t};var n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){var r=e.map((function(e,n){return pp(t[n],e)}));return function(t){return r.map((function(e){return e(t)}))}}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(hp(t)&&hp(e)){t=t.getTime();var i=(e=e.getTime())-t;return function(e){return new Date(t+e*i)}}var o=Object.keys(e),a={};return o.forEach((function(n){a[n]=pp(t[n],e[n])})),function(t){var e={};return o.forEach((function(n){e[n]=a[n](t)})),e}}if("number"===n){var u=e-t;return function(e){return t+e*u}}throw new Error("Cannot interpolate "+n+" values")}function vp(t,e){void 0===e&&(e={});var n,r=sd(t),i=t;function o(o,a){if(null==t)return r.set(t=o),Promise.resolve();i=o;var u=n,c=!1,s=$l($l({},e),a),l=s.delay,f=void 0===l?0:l,d=s.duration,h=void 0===d?400:d,p=s.easing,v=void 0===p?xl:p,m=s.interpolate,g=void 0===m?pp:m;if(0===h)return u&&(u.abort(),u=null),r.set(t=i),Promise.resolve();var y,b=Fl()+f;return n=Ul((function(e){if(e<b)return!0;c||(y=g(t,o),"function"==typeof h&&(h=h(t,o)),c=!0),u&&(u.abort(),u=null);var n=e-b;return n>h?(r.set(t=o),!1):(r.set(t=y(v(n/h))),!0)})),n.promise}return{set:o,update:function(e,n){return o(e(i,t),n)},subscribe:r.subscribe}}function mp(t,e,n,r){if("number"==typeof n){var i=r-n,o=(n-e)/(t.dt||1/60),a=(o+(t.opts.stiffness*i-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,n+a)}if(Pc(n))return n.map((function(i,o){return mp(t,e[o],n[o],r[o])}));if("object"==typeof n){var u={};for(var c in n)u[c]=mp(t,e[c],n[c],r[c]);return u}throw new Error("Cannot spring "+typeof n+" values")}function gp(t,e){void 0===e&&(e={});var n,r,i,o=sd(t),a=e,u=a.stiffness,c=void 0===u?.15:u,s=a.damping,l=void 0===s?.8:s,f=a.precision,d=void 0===f?.01:f,h=t,p=t,v=1,m=0,g=!1;function y(e,a){void 0===a&&(a={}),p=e;var u=i={};if(null==t||a.hard||b.stiffness>=1&&b.damping>=1)return g=!0,n=null,h=e,o.set(t=p),Promise.resolve();if(a.soft){var c=!0===a.soft?.5:+a.soft;m=1/(60*c),v=0}if(!r){n=null,g=!1;var s={inv_mass:void 0,opts:b,settled:!0,dt:void 0};r=Ul((function(e){if(null===n&&(n=e),g)return g=!1,r=null,!1;v=Math.min(v+m,1),s.inv_mass=v,s.opts=b,s.settled=!0,s.dt=60*(e-n)/1e3;var i=mp(s,h,t,p);return n=e,h=t,o.set(t=i),s.settled&&(r=null),!s.settled}))}return new Promise((function(t){r.promise.then((function(){u===i&&t()}))}))}var b={set:y,update:function(e,n){return y(e(p,t),n)},subscribe:o.subscribe,stiffness:c,damping:l,precision:d};return b}var yp,bp,wp=cd(!1,(function(t){var e=window.matchMedia("(prefers-reduced-motion:reduce)"),n=function(){return t(e.matches)};return n(),e.addListener(n),function(){return e.removeListener(n)}})),xp=function(){return"ResizeObserver"in window},$p=tu(),Cp=function(t,e,n,r,i){t.rect||(t.rect=tu());var o=t.rect;pu($p,e,n,r,i),du(o,$p)||(vu(o,$p),t.dispatchEvent(new CustomEvent("measure",{detail:o})))},_p=Math.round,kp=function(t){var e=t.getBoundingClientRect();Sp&&Cp(t,_p(e.x),_p(e.y),_p(e.width),_p(e.height))},Ep=function(t){Sp&&Cp(t,t.offsetLeft,t.offsetTop,t.offsetWidth,t.offsetHeight)},Mp=[],Sp=void 0;function Rp(){Mp.length?(Mp.forEach((function(t){return t.measure(t)})),Sp=requestAnimationFrame(Rp)):Sp=void 0}var Ip=new Map([]),Lp=0,Op=0,Pp=function(t,e){void 0===e&&(e={});var n=e,r=n.observePosition,i=void 0!==r&&r,o=n.observeViewRect,a=void 0!==o&&o,u=n.once,c=void 0!==u&&u,s=n.disabled,l=void 0!==s&&s,f=n.isMeasureRoot,d=void 0!==f&&f;if(xp()&&d&&(bp||(bp=new ResizeObserver((function(t){t.forEach((function(t){Ip.set(t.target,t.contentRect)}));var e=Array.from(Ip.values()).some((function(t){var e=t.width,n=t.height;return e>0&&n>0}));e?e&&!1===Sp&&Rp():(Sp&&cancelAnimationFrame(Sp),Sp=!1)}))),bp.observe(t),Lp++),!l)return!xp()||i||a?(t.measure=a?kp:Ep,Mp.push(t),void 0===Sp&&(Sp=requestAnimationFrame(Rp)),t.measure(t),{destroy:function(){d&&bp&&(Ip.delete(t),bp.unobserve(t),0===--Lp&&(bp.disconnect(),bp=void 0));var e=Mp.indexOf(t);Mp.splice(e,1),delete t.measure}}):(yp||(yp=new ResizeObserver((function(t){t.forEach((function(t){Sp&&Ep(t.target)}))}))),yp.observe(t),Ep(t),c?yp.unobserve(t):Op++,{destroy:function(){d&&bp&&(Ip.delete(t),bp.unobserve(t),0===--Lp&&(bp.disconnect(),bp=void 0)),c||(yp.unobserve(t),0===--Op&&(yp.disconnect(),yp=void 0))}})},Ap=function(t){var e=!1,n={pointerdown:function(){e=!1},keydown:function(){e=!0},keyup:function(){e=!1},focus:function(t){e&&(t.target.dataset.focusVisible="")},blur:function(t){delete t.target.dataset.focusVisible}};return Object.keys(n).forEach((function(e){return t.addEventListener(e,n[e],!0)})),{destroy:function(){Object.keys(n).forEach((function(e){return t.removeEventListener(e,n[e],!0)}))}}},Tp=function(){var t=to(Ji().mark((function t(e){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if("file"===e.kind)return t(e.getAsFile());e.getAsString(t)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),jp=function(t){return new Promise((function(e,n){var r=t.dataTransfer.items;if(!r)return e([]);Promise.all(Array.from(r).map(Tp)).then((function(t){e(t.filter((function(t){return Ac(t)&&Wu(t)||/^http/.test(t)})))})).catch(n)}))},Bp=function(t,e){void 0===e&&(e={});var n=function(t){t.preventDefault()},r=function(){var n=to(Ji().mark((function n(r){var i;return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),r.stopPropagation(),n.prev=2,n.next=5,jp(r);case 5:i=n.sent,t.dispatchEvent(new CustomEvent("dropfiles",Object.assign({detail:{event:r,resources:i}},e))),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(t){return n.apply(this,arguments)}}();return t.addEventListener("drop",r),t.addEventListener("dragover",n),{destroy:function(){t.removeEventListener("drop",r),t.removeEventListener("dragover",n)}}},Dp=null,Np=function(){if(null===Dp)if(ho()){var t=go("canvas");Dp=!Wh(t,{failIfMajorPerformanceCaveat:!0}),wo(t)}else Dp=!1;return Dp},zp=function(t){return t instanceof WebGLTexture};function Fp(t){var e,n,r,i;return{c:function(){e=Xl("div"),n=Xl("canvas"),of(e,"class","PinturaCanvas")},m:function(o,a){Kl(o,e,a),Wl(e,n),t[35](n),r||(i=[nf(n,"measure",t[36]),Nl(Pp.call(null,n))],r=!0)},p:wl,i:wl,o:wl,d:function(n){n&&Yl(e),t[35](null),r=!1,kl(i)}}}function Zp(t,e,n){var r,i,o,a,u,c,s,l,f=[0,0,0,0],d=ho()&&function(t){var e=.5*t,n=go("canvas",{"data-retain":!0,width:t,height:t}),r=n.getContext("2d");return r.fillStyle="#f0f",r.fillRect(0,0,e,e),r.fillRect(e,e,e,e),n}(128),h=xf(),p=e.isAnimated,v=e.isTransparent,m=e.maskRect,g=e.maskOpacity,y=void 0===g?1:g,b=e.maskFrameOpacity,w=void 0===b?.95:b,x=e.maskMarkupOpacity,$=void 0===x?1:x,C=e.clipAnnotationsToImage,_=void 0===C||C,k=e.pixelRatio,E=void 0===k?1:k,M=e.textPixelRatio,S=void 0===M?E:M,R=e.backgroundColor,I=e.willRender,L=void 0===I?Xo:I,O=e.didRender,P=void 0===O?Xo:O,A=e.willRequest,T=void 0===A?void 0:A,j=e.loadImageData,B=void 0===j?Xo:j,D=e.enableGrid,N=void 0!==D&&D,z=e.gridColors,F=void 0===z?void 0:z,Z=e.gridSize,H=void 0===Z?void 0:Z,V=e.gridOpacity,U=void 0===V?0:V,W=e.images,q=void 0===W?[]:W,G=e.interfaceImages,K=void 0===G?[]:G,Y=null,X=null,J=null,Q=function(t,e){return t.set(e,{hard:!p})},tt={precision:1e-4*.01},et=0,nt=vp(void 0,{duration:0});Il(t,nt,(function(t){return n(34,s=t)}));var rt=gp(1,tt);Il(t,rt,(function(t){return n(33,u=t)}));var it=gp(1,tt);Il(t,it,(function(t){return n(45,o=t)}));var ot=sd();Il(t,ot,(function(t){return n(47,c=t)}));var at=sd();Il(t,at,(function(t){return n(46,a=t)}));var ut,ct=function(){return requestAnimationFrame((function(){bt=!0,Et=0,i()}))},st=new Map([]),lt=new Map([]),ft=function(t,e){return{filterParam:"pixelated"===t?Y.textureFilterNearest:Y.textureFilterLinear,wrapParam:"repeat"===e?Y.textureRepeat:Y.textureClamp}},dt=function(t,e,n){if(!st.has(t)){st.set(t,t);var r=ft(e,n);if(!Lo(o=t)&&(uc(o)||xo(o)||Js(o)||Gu(o))){var i=Y.textureCreate();Y.textureUpdate(i,t,r),st.set(t,i)}else B(t).then((function(e){if(Y&&e){var n=Y.textureCreate();Y.textureUpdate(n,e,r),st.set(t,n),ct()}})).catch((function(t){}))}var o,a;if(Gu(t)&&((a=t).currentTime>0&&!a.paused&&!a.ended&&a.readyState>2||"true"===t.dataset.redraw)){var u=st.get(t),c=ft(e,n);return Y.textureUpdate(u,t,c),t.dataset.redraw=!1,u}return st.get(t)},ht=function(t){var e;if(t.backgroundImage)e=dt(t.backgroundImage,t.backgroundImageRendering);else if(Lo(t.text)){if(t.width&&t.width<1||t.height&&t.height<1)return;e=function(t){if(t.text.length){var e=t.text,n=t.textAlign,r=t.fontFamily,i=t.fontSize,o=void 0===i?16:i,a=t.fontWeight,u=t.fontVariant,c=t.fontStyle,s=t.lineHeight,l=void 0===s?o:s,f=t.width,d=t.height;f=Lc(f)?Math.floor(f):f,d=Lc(d)?Math.floor(d):d;var h=Jc(e,Object.assign({},t,{width:f,height:d})),p=h.textSize,v=h.signature,m=jc({text:e,textAlign:n,fontFamily:r,fontSize:o,fontWeight:a,fontVariant:u,fontStyle:c,lineHeight:l,signature:v});if(!st.has(m)){st.set(m,e);var g=Math.ceil(p.width),y=Math.ceil(p.height/l)*l;if(0===g||0===y)return;var b=ep(),w=Math.min(1,(b-Wc*S*2)/(g*S),b/(y*S));ys(e,{fontSize:o,fontFamily:r,fontWeight:a,fontVariant:u,fontStyle:c,textAlign:n,lineHeight:l,width:f,height:d,imageWidth:g,imageHeight:y,pixelRatio:S*w,willRequest:T,color:[1,0,1]}).then((function(e){if(Y){var n=Y.textureCreate();Y.textureUpdate(n,e,{filterParam:Y.textureFilterLinear,wrapParam:Y.textureClamp,scalar:w}),st.set(m,n),lt.set(t.id,n),ct()}})).catch(console.error)}var x=st.get(m);return zp(x)?x:lt.get(t.id)}lt.delete(t.id)}(t)}return e},pt=function(t){var e=t.data,n=t.size,r=t.origin,i=t.translation,o=t.rotation,a=t.scale,u=t.colorMatrix,c=t.opacity,s=t.convolutionMatrix,l=t.gamma,f=t.vignette,d=t.maskFeather,h=t.maskCornerRadius,p=t.overlayColor,v=t.enableOverlay,m=t.enableBlend,g=t.enableAntialiasing,y=dt(e),b=0,w=0;if(1===E){var x=Math.abs(1-a)<Number.EPSILON;b=x&&X%2!=0?.5:0,w=x&&J%2!=0?.5:0}return Y.drawImage(y,n,r.x,r.y,i.x+b,i.y+w,o.x,o.y,o.z,a,u,Id(c,0,1),s,l,f,d,h,p,v,m,g),y},vt=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return[i.x,i.y,e.x,e.y,r.x,r.y,n.x,n.y]},mt=ha(),gt=function(t,e){return void 0===t&&(t=[]),t.map((function(t){var e=!t._isLoading&&ht(t),n=zp(e)?e:void 0,r=t._scale||1,i=t._translate||mt,o=t.strokeWidth&&t.strokeWidth*r;if(Pc(t.points)){var a=t.points.map((function(t){return pa(t.x*r+i.x,t.y*r+i.y)}));Y.drawPath(a,t.rotation,t.flipX,t.flipY,o,t.strokeColor,t.pathClose,t.backgroundColor,t.opacity)}else if(Lc(t.rx)&&Lc(t.ry)){var u=t.x,c=t.y;u*=r,c*=r,u+=i.x,c+=i.y,Y.drawEllipse(pa(u,c),t.rx*r,t.ry*r,t.rotation,t.flipX,t.flipY,t.backgroundColor,n,void 0,void 0,t.backgroundCorners&&vt(t.backgroundCorners),o,t.strokeColor,t.opacity,t.inverted)}else if(Lo(t.text)&&n||t.width){var s,l,f,d=n&&Y.textureGetSize(n),h=void 0,p=t.backgroundColor,v=t.strokeColor,m=[t.cornerRadius,t.cornerRadius,t.cornerRadius,t.cornerRadius].map((function(t){return t*r}));if(s=t.width?nu(t):Object.assign({x:t.x,y:t.y},d),r&&i&&(s.x*=r,s.y*=r,s.x+=i.x,s.y+=i.y,s.width*=r,s.height*=r),d)if(t.backgroundImage&&(t.backgroundSize||t.backgroundPosition)){var g=Yo(d.width,d.height);if("contain"===t.backgroundSize){var y=wu(s,g,s);l=Da(y),f=t.backgroundPosition?t.backgroundPosition:pa(.5*(s.width-l.width),.5*(s.height-l.height))}else if("cover"===t.backgroundSize){var b=bu(s,g,s);l=Da(b),t.backgroundPosition?f=t.backgroundPosition:(f=pa(b.x,b.y),f=pa(.5*(s.width-l.width),.5*(s.height-l.height)))}else t.backgroundSize?(l=t.backgroundSize,f=t.backgroundPosition):t.backgroundPosition&&(l=Object.assign({},d),f=t.backgroundPosition)}else if(t.text){var w={width:d.width/S,height:d.height/S},x=1;if(t.fontSize>1e3&&Uc()&&(x=t.fontSize/1e3),f=pa(0,0),l={width:w.width*r,height:w.height*r},t.backgroundColor||t.strokeColor){p=void 0,v=void 0;var $=(t.width||w.width-64)*r,C=(t.height||w.height)*r;Y.drawRect(Object.assign({},s,{width:$,height:C}),t.rotation,t.flipX,t.flipY,m,t.backgroundColor,void 0,void 0,void 0,!1,void 0,o,t.strokeColor,t.opacity,void 0,void 0,t.inverted)}s.x-=Wc*r,h=t.color||[0,0,0],t.width?(s.height=s.height||w.height*r,s.width+=64*r/x,"center"===t.textAlign?f.x=.5*(s.width-l.width/x):"right"===t.textAlign&&(f.x=s.width-l.width/x)):(s.width=w.width*r,s.height=w.height*r),t._prerender&&(h[3]=0)}Y.drawRect(s,t.rotation,t.flipX,t.flipY,m,p,n,l,f,!1,t.backgroundCorners&&vt(t.backgroundCorners),o,v,t.opacity,void 0,h,t.inverted)}return e})).filter(Boolean)},yt=function(t,e,n,r,i,o){return Y.drawRect(e,0,!1,!1,f,f,t,r,n,!0,void 0,0,void 0,o,void 0,i)},bt=!1,wt=!0,xt=!1,$t=[],Ct=[],_t=[],kt=function(){_t.length=0;var t=q[0],e=L({opacity:t.opacity,rotation:t.rotation,scale:t.scale,images:q,size:Fa(X,J),backgroundColor:[].concat(s),selectionRect:c}),n=e.blendShapes,r=e.blendShapesDirty,i=e.annotationShapes,l=e.annotationShapesDirty,h=e.interfaceShapes,p=e.decorationShapes,g=e.frameShapes,y=[].concat(s),b=c,w=Id(u,0,1),x=a,C=Math.abs(t.rotation.x/Math.PI*2-1),k=Math.abs(t.rotation.y/Math.PI*2-1),E=C<.99||k<.99,M=Object.assign({},t.size),R=t.backgroundColor,I=t.backgroundImage,O=n.length>0,A=i.length>0,T=R[3]>0,j=!!_&&$>=1;if(w<1&&T){var B=y[0],D=y[1],z=y[2],Z=1-w,V=R[0]*Z,W=R[1]*Z,G=R[2]*Z,Q=1-Z;y[0]=V+B*Q,y[1]=W+D*Q,y[2]=G+z*Q,y[3]=1}if(Y.setCanvasColor(v?f:y),O&&r?(Y.disableMask(),Y.drawToImageBlendBuffer(M),$t.length=0,$t.push.apply($t,gt(n))):O||($t.length=0),_t.push.apply(_t,$t),wt&&(Y.drawToImageOverlayBuffer(M,S),wt=!1),E?(A&&(l||bt)||!xt?(Y.disableMask(),Y.drawToImageOverlayBuffer(M,S),Ct.length=0,Ct.push.apply(Ct,gt(i))):A||(Ct.length=0),xt=!0):xt=!1,Y.drawToCanvas(),Y.enableMask(b,w),N&&H>=1&&2===F.length&&U&&function(t,e,n,r,i){var o=Fa(e,e),a=dt(d,"pixelated","repeat"),u=pa(-t.x%e,-t.y%e),c=pa(u.x+.5*o.width,u.y);yt(a,t,u,o,n,i),yt(a,t,c,o,r,i)}(b,H,F[0],F[1],U),T&&Y.drawRect(b,0,!1,!1,f,R),I){Y.enableMask(b,1);var tt=Math.max(m.width/I.width,m.height/I.height),et=I.width*tt,nt=I.height*tt,rt={x:m.x+.5*m.width-.5*et,y:m.y+.5*m.height-.5*nt,width:et,height:nt};Y.drawRect(rt,0,!1,!1,f,f,dt(I,"linear")),Y.enableMask(b,w)}if(j&&Y.enablePreviewStencil(),_t.push.apply(_t,[].concat(q).reverse().map((function(t){return pt(Object.assign({},t,{enableOverlay:E&&A,enableBlend:O,enableAntialiasing:!0,mask:b,maskOpacity:w,overlayColor:x}))}))),Y.enableMask(b,$),E||(j&&Y.applyPreviewStencil(),Y.resetCanvasMatrix(),Y.updateCanvasMatrix(M,t.origin,t.translation,t.scale,t.rotation),Ct.length=0,Ct.push.apply(Ct,gt(i)),j&&Y.disablePreviewStencil()),_t.push.apply(_t,Ct),Y.resetCanvasMatrix(),Y.enableMask(b,$),_t.push.apply(_t,gt(p)),g.length){Y.enableMask(b,1);var it=g.filter((function(t){return!t.expandsCanvas})),ot=g.filter((function(t){return t.expandsCanvas}));it.length&&_t.push.apply(_t,gt(it)),ot.length&&(Y.enableMask({x:b.x+.5,y:b.y+.5,width:b.width-1,height:b.height-1},o),_t.push.apply(_t,gt(ot)))}Y.disableMask(),_t.push.apply(_t,gt(h)),K.forEach((function(t){if(Y.enableMask(t.mask,t.maskOpacity),t.backgroundColor){var e=I&&bu(Object.assign({},t.mask),I.width/I.height),n=I&&dt(I,"linear");Y.drawRect(t.mask,0,!1,!1,t.maskCornerRadius,t.backgroundColor,n,e,e,void 0,void 0,void 0,void 0,t.opacity,t.maskFeather),n&&_t.push(n)}var r=pt(Object.assign({},t,{enableAntialiasing:!1,translation:{x:t.translation.x+t.offset.x-.5*X,y:t.translation.y+t.offset.y-.5*J}}));_t.push(r)})),Y.disableMask(),function(t){st.forEach((function(e,n){!t.find((function(t){return t===e}))&&zp(e)&&(Array.from(lt.values()).includes(e)||(st.delete(n),Y.textureDelete(e)))}))}(_t),P(),bt=!1},Et=0,Mt=function t(){clearTimeout(ut);var e=Date.now();e-Et<48?ut=setTimeout(t,48):(Et=e,kt())};bf((function(){return i()})),yf((function(){return n(29,Y=fp(l,{alpha:v}))})),wf((function(){Y&&(Y.release(),n(29,Y=void 0),n(0,l=void 0))}));return t.$$set=function(t){"isAnimated"in t&&n(9,p=t.isAnimated),"isTransparent"in t&&n(10,v=t.isTransparent),"maskRect"in t&&n(11,m=t.maskRect),"maskOpacity"in t&&n(12,y=t.maskOpacity),"maskFrameOpacity"in t&&n(13,w=t.maskFrameOpacity),"maskMarkupOpacity"in t&&n(14,$=t.maskMarkupOpacity),"clipAnnotationsToImage"in t&&n(15,_=t.clipAnnotationsToImage),"pixelRatio"in t&&n(16,E=t.pixelRatio),"textPixelRatio"in t&&n(17,S=t.textPixelRatio),"backgroundColor"in t&&n(18,R=t.backgroundColor),"willRender"in t&&n(19,L=t.willRender),"didRender"in t&&n(20,P=t.didRender),"willRequest"in t&&n(21,T=t.willRequest),"loadImageData"in t&&n(22,B=t.loadImageData),"enableGrid"in t&&n(23,N=t.enableGrid),"gridColors"in t&&n(24,F=t.gridColors),"gridSize"in t&&n(25,H=t.gridSize),"gridOpacity"in t&&n(26,U=t.gridOpacity),"images"in t&&n(27,q=t.images),"interfaceImages"in t&&n(28,K=t.interfaceImages)},t.$$.update=function(){if(1&t.$$.dirty[0]&&l){var e=getComputedStyle(l).getPropertyValue("--color-transition-duration");n(30,(o=e,a=parseFloat(o),et=/^[0-9]+s$/.test(o)?1e3*a:a))}var o,a;1074004480&t.$$.dirty[0]&&R&&nt.set(R,{duration:p?et:0}),4096&t.$$.dirty[0]&&Q(rt,Lc(y)?y:1),8192&t.$$.dirty[0]&&Q(it,Lc(w)?w:1),2048&t.$$.dirty[0]&&m&&ot.set(m),12&t.$$.dirty[1]&&s&&at.set([s[0],s[1],s[2],Id(u,0,1)]),671088646&t.$$.dirty[0]&&n(32,r=!!(Y&&X&&J&&q.length)),536936454&t.$$.dirty[0]&&X&&J&&Y&&(Et=0,Y.resize(X,J,E)),2&t.$$.dirty[1]&&n(31,i=r?Np()?Mt:kt:uo),3&t.$$.dirty[1]&&r&&i&&i()},[l,X,J,h,nt,rt,it,ot,at,p,v,m,y,w,$,_,E,S,R,L,P,T,B,N,F,H,U,q,K,Y,et,i,r,u,s,function(t){Ef[t?"unshift":"push"]((function(){n(0,l=t)}))},function(t){n(1,X=t.detail.width),n(2,J=t.detail.height),h("measure",{width:X,height:J})}]}var Hp=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Zp,Fp,Ml,{isAnimated:9,isTransparent:10,maskRect:11,maskOpacity:12,maskFrameOpacity:13,maskMarkupOpacity:14,clipAnnotationsToImage:15,pixelRatio:16,textPixelRatio:17,backgroundColor:18,willRender:19,didRender:20,willRequest:21,loadImageData:22,enableGrid:23,gridColors:24,gridSize:25,gridOpacity:26,images:27,interfaceImages:28},null,[-1,-1,-1]),n}return qi(e,t),e}(ad),Vp=function(t,e,n){return void 0===e&&(e=Boolean),void 0===n&&(n=" "),t.filter(e).join(n)};function Up(t,e,n){var r=t.slice();return r[17]=e[n],r}var Wp=function(t){return{tab:4&t}},qp=function(t){return{tab:t[17]}};function Gp(t){for(var e,n,r,i=[],o=new Map,a=t[2],u=function(t){return t[17].id},c=0;c<a.length;c+=1){var s=Up(t,a,c),l=u(s);o.set(l,i[c]=Kp(l,s))}return{c:function(){e=Xl("ul");for(var r=0;r<i.length;r+=1)i[r].c();of(e,"class",n=Vp(["PinturaTabList",t[0]])),of(e,"role","tablist"),of(e,"data-layout",t[1])},m:function(n,o){Kl(n,e,o);for(var a=0;a<i.length;a+=1)i[a].m(e,null);t[14](e),r=!0},p:function(t,c){1124&c&&(a=t[2],Hf(),i=Jf(i,c,u,1,t,a,o,e,Xf,Kp,null,Up),Vf()),(!r||1&c&&n!==(n=Vp(["PinturaTabList",t[0]])))&&of(e,"class",n),(!r||2&c)&&of(e,"data-layout",t[1])},i:function(t){if(!r){for(var e=0;e<a.length;e+=1)Uf(i[e]);r=!0}},o:function(t){for(var e=0;e<i.length;e+=1)Wf(i[e]);r=!1},d:function(n){n&&Yl(e);for(var r=0;r<i.length;r+=1)i[r].d();t[14](null)}}}function Kp(t,e){var n,r,i,o,a,u,c,s,l,f,d=e[11].default,h=Ll(d,e,e[10],qp);function p(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e)[12].apply(t,[e[17]].concat(r))}function v(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e)[13].apply(t,[e[17]].concat(r))}return{key:t,first:null,c:function(){n=Xl("li"),r=Xl("button"),h&&h.c(),o=tf(),of(r,"type","button"),r.disabled=i=e[17].disabled,of(n,"role","tab"),of(n,"aria-controls",a=e[17].href.substr(1)),of(n,"id",u=e[17].tabId),of(n,"aria-selected",c=e[17].selected),this.first=n},m:function(t,e){Kl(t,n,e),Wl(n,r),h&&h.m(r,null),Wl(n,o),s=!0,l||(f=[nf(r,"keydown",p),nf(r,"click",v)],l=!0)},p:function(t,o){e=t,h&&h.p&&(!s||1028&o)&&Al(h,d,e,e[10],s?Pl(d,e[10],o,Wp):Tl(e[10]),qp),(!s||4&o&&i!==(i=e[17].disabled))&&(r.disabled=i),(!s||4&o&&a!==(a=e[17].href.substr(1)))&&of(n,"aria-controls",a),(!s||4&o&&u!==(u=e[17].tabId))&&of(n,"id",u),(!s||4&o&&c!==(c=e[17].selected))&&of(n,"aria-selected",c)},i:function(t){s||(Uf(h,t),s=!0)},o:function(t){Wf(h,t),s=!1},d:function(t){t&&Yl(n),h&&h.d(t),l=!1,kl(f)}}}function Yp(t){var e,n,r=t[4]&&Gp(t);return{c:function(){r&&r.c(),e=ef()},m:function(t,i){r&&r.m(t,i),Kl(t,e,i),n=!0},p:function(t,n){var i=n[0];t[4]?r?(r.p(t,i),16&i&&Uf(r,1)):((r=Gp(t)).c(),Uf(r,1),r.m(e.parentNode,e)):r&&(Hf(),Wf(r,1,1,(function(){r=null})),Vf())},i:function(t){n||(Uf(r),n=!0)},o:function(t){Wf(r),n=!1},d:function(t){r&&r.d(t),t&&Yl(e)}}}function Xp(t,e,n){var r,i,o,a=e.$$slots,u=void 0===a?{}:a,c=e.$$scope,s=e.class,l=void 0===s?void 0:s,f=e.name,d=e.selected,h=e.tabs,p=void 0===h?[]:h,v=e.layout,m=void 0===v?void 0:v,g=xf(),y=function(t){var e=o.querySelectorAll('[role="tab"] button')[t];e&&e.focus()},b=function(t,e){t.preventDefault(),t.stopPropagation(),g("select",e)},w=function(t,e){var n=t.key;if(/arrow/i.test(n)){var r=p.findIndex((function(t){return t.id===e}));return/right|down/i.test(n)?y(r<p.length-1?r+1:0):/left|up/i.test(n)?y(r>0?r-1:p.length-1):void 0}};return t.$$set=function(t){"class"in t&&n(0,l=t.class),"name"in t&&n(7,f=t.name),"selected"in t&&n(8,d=t.selected),"tabs"in t&&n(9,p=t.tabs),"layout"in t&&n(1,m=t.layout),"$$scope"in t&&n(10,c=t.$$scope)},t.$$.update=function(){896&t.$$.dirty&&n(2,r=p.map((function(t){var e=t.id===d;return Object.assign({},t,{tabId:"tab-"+f+"-"+t.id,href:"#panel-"+f+"-"+t.id,selected:e})}))),4&t.$$.dirty&&n(4,i=r.length>1)},[l,m,r,o,i,b,w,f,d,p,c,u,function(t,e){return w(e,t.id)},function(t,e){return b(e,t.id)},function(t){Ef[t?"unshift":"push"]((function(){n(3,o=t)}))}]}var Jp=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Xp,Yp,Ml,{class:0,name:7,selected:8,tabs:9,layout:1}),n}return qi(e,t),e}(ad),Qp=function(t){return{panel:16&t}},tv=function(t){return{panel:t[4][0].id,panelIsActive:!0}};function ev(t,e,n){var r=t.slice();return r[14]=e[n].id,r[15]=e[n].shouldDraw,r[16]=e[n].panelId,r[17]=e[n].tabindex,r[18]=e[n].labelledBy,r[19]=e[n].isActive,r[20]=e[n].hidden,r[3]=e[n].visible,r}var nv=function(t){return{panel:16&t,panelIsActive:16&t}},rv=function(t){return{panel:t[14],panelIsActive:t[19]}};function iv(t){var e,n,r,i,o,a,u=t[11].default,c=Ll(u,t,t[10],tv);return{c:function(){e=Xl("div"),n=Xl("div"),c&&c.c(),of(n,"class",r=Vp([t[1]])),of(e,"class",t[0]),of(e,"style",t[2])},m:function(r,u){Kl(r,e,u),Wl(e,n),c&&c.m(n,null),i=!0,o||(a=[nf(e,"measure",t[13]),Nl(Pp.call(null,e))],o=!0)},p:function(t,o){c&&c.p&&(!i||1040&o)&&Al(c,u,t,t[10],i?Pl(u,t[10],o,Qp):Tl(t[10]),tv),(!i||2&o&&r!==(r=Vp([t[1]])))&&of(n,"class",r),(!i||1&o)&&of(e,"class",t[0]),(!i||4&o)&&of(e,"style",t[2])},i:function(t){i||(Uf(c,t),i=!0)},o:function(t){Wf(c,t),i=!1},d:function(t){t&&Yl(e),c&&c.d(t),o=!1,kl(a)}}}function ov(t){for(var e,n,r,i,o,a=[],u=new Map,c=t[4],s=function(t){return t[14]},l=0;l<c.length;l+=1){var f=ev(t,c,l),d=s(f);u.set(d,a[l]=uv(d,f))}return{c:function(){e=Xl("div");for(var r=0;r<a.length;r+=1)a[r].c();of(e,"class",n=Vp(["PinturaTabPanels",t[0]])),of(e,"style",t[2])},m:function(n,u){Kl(n,e,u);for(var c=0;c<a.length;c+=1)a[c].m(e,null);r=!0,i||(o=[nf(e,"measure",t[12]),Nl(Pp.call(null,e,{observePosition:!0}))],i=!0)},p:function(t,i){1042&i&&(c=t[4],Hf(),a=Jf(a,i,s,1,t,c,u,e,Xf,uv,null,ev),Vf()),(!r||1&i&&n!==(n=Vp(["PinturaTabPanels",t[0]])))&&of(e,"class",n),(!r||4&i)&&of(e,"style",t[2])},i:function(t){if(!r){for(var e=0;e<c.length;e+=1)Uf(a[e]);r=!0}},o:function(t){for(var e=0;e<a.length;e+=1)Wf(a[e]);r=!1},d:function(t){t&&Yl(e);for(var n=0;n<a.length;n+=1)a[n].d();i=!1,kl(o)}}}function av(t){var e,n=t[11].default,r=Ll(n,t,t[10],rv);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||1040&i)&&Al(r,n,t,t[10],e?Pl(n,t[10],i,nv):Tl(t[10]),rv)},i:function(t){e||(Uf(r,t),e=!0)},o:function(t){Wf(r,t),e=!1},d:function(t){r&&r.d(t)}}}function uv(t,e){var n,r,i,o,a,u,c,s,l,f=e[15]&&av(e);return{key:t,first:null,c:function(){n=Xl("div"),f&&f.c(),r=tf(),of(n,"class",i=Vp(["PinturaTabPanel",e[1]])),n.hidden=o=e[20],of(n,"id",a=e[16]),of(n,"tabindex",u=e[17]),of(n,"aria-labelledby",c=e[18]),of(n,"data-inert",s=!e[3]),this.first=n},m:function(t,e){Kl(t,n,e),f&&f.m(n,null),Wl(n,r),l=!0},p:function(t,d){(e=t)[15]?f?(f.p(e,d),16&d&&Uf(f,1)):((f=av(e)).c(),Uf(f,1),f.m(n,r)):f&&(Hf(),Wf(f,1,1,(function(){f=null})),Vf()),(!l||2&d&&i!==(i=Vp(["PinturaTabPanel",e[1]])))&&of(n,"class",i),(!l||16&d&&o!==(o=e[20]))&&(n.hidden=o),(!l||16&d&&a!==(a=e[16]))&&of(n,"id",a),(!l||16&d&&u!==(u=e[17]))&&of(n,"tabindex",u),(!l||16&d&&c!==(c=e[18]))&&of(n,"aria-labelledby",c),(!l||16&d&&s!==(s=!e[3]))&&of(n,"data-inert",s)},i:function(t){l||(Uf(f),l=!0)},o:function(t){Wf(f),l=!1},d:function(t){t&&Yl(n),f&&f.d()}}}function cv(t){var e,n,r,i,o=[ov,iv],a=[];function u(t,e){return t[5]?0:1}return e=u(t),n=a[e]=o[e](t),{c:function(){n.c(),r=ef()},m:function(t,n){a[e].m(t,n),Kl(t,r,n),i=!0},p:function(t,i){var c=i[0],s=e;(e=u(t))===s?a[e].p(t,c):(Hf(),Wf(a[s],1,1,(function(){a[s]=null})),Vf(),(n=a[e])?n.p(t,c):(n=a[e]=o[e](t)).c(),Uf(n,1),n.m(r.parentNode,r))},i:function(t){i||(Uf(n),i=!0)},o:function(t){Wf(n),i=!1},d:function(t){a[e].d(t),t&&Yl(r)}}}function sv(t,e,n){var r,i,o=e.$$slots,a=void 0===o?{}:o,u=e.$$scope,c=e.class,s=void 0===c?void 0:c,l=e.name,f=e.selected,d=e.panelClass,h=void 0===d?void 0:d,p=e.panels,v=void 0===p?[]:p,m=e.visible,g=void 0===m?void 0:m,y=e.style,b=void 0===y?void 0:y,w={};return t.$$set=function(t){"class"in t&&n(0,s=t.class),"name"in t&&n(6,l=t.name),"selected"in t&&n(7,f=t.selected),"panelClass"in t&&n(1,h=t.panelClass),"panels"in t&&n(8,v=t.panels),"visible"in t&&n(3,g=t.visible),"style"in t&&n(2,b=t.style),"$$scope"in t&&n(10,u=t.$$scope)},t.$$.update=function(){968&t.$$.dirty&&n(4,r=v.map((function(t){var e=t===f;e&&n(9,w[t]=!0,w);var r=g?-1!==g.indexOf(t):e;return{id:t,panelId:"panel-"+l+"-"+t,labelledBy:"tab-"+l+"-"+t,isActive:e,hidden:!e,visible:r,tabindex:e?0:-1,shouldDraw:e||w[t]}}))),16&t.$$.dirty&&n(5,i=r.length>1)},[s,h,b,g,r,i,l,f,v,w,u,a,function(e){_f.call(this,t,e)},function(e){_f.call(this,t,e)}]}var lv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,sv,cv,Ml,{class:0,name:6,selected:7,panelClass:1,panels:8,visible:3,style:2}),n}return qi(e,t),e}(ad),fv=function(t){var e=Object.getOwnPropertyDescriptors(t.prototype);return Object.keys(e).filter((function(t){return!!e[t].get}))};function dv(t){var e,n,r,i,o=[t[4]];function a(e){t[22](e)}var u=t[10];function c(t){for(var e={},n=0;n<o.length;n+=1)e=$l(e,o[n]);return void 0!==t[2]&&(e.name=t[2]),{props:e}}return u&&(e=lf(u,c(t)),Ef.push((function(){return ed(e,"name",a)})),t[23](e),e.$on("measure",t[11])),{c:function(){e&&nd(e.$$.fragment),r=ef()},m:function(t,n){e&&rd(e,t,n),Kl(t,r,n),i=!0},p:function(t,i){var s=16&i[0]?Qf(o,[td(t[4])]):{};if(!n&&4&i[0]&&(n=!0,s.name=t[2],Af((function(){return n=!1}))),u!==(u=t[10])){if(e){Hf();var l=e;Wf(l.$$.fragment,1,0,(function(){id(l,1)})),Vf()}u?(e=lf(u,c(t)),Ef.push((function(){return ed(e,"name",a)})),t[23](e),e.$on("measure",t[11]),nd(e.$$.fragment),Uf(e.$$.fragment,1),rd(e,r.parentNode,r)):e=null}else u&&e.$set(s)},i:function(t){i||(e&&Uf(e.$$.fragment,t),i=!0)},o:function(t){e&&Wf(e.$$.fragment,t),i=!1},d:function(n){t[23](null),n&&Yl(r),e&&id(e,n)}}}function hv(t){var e,n,r,i=t[5]&&dv(t);return{c:function(){e=Xl("div"),i&&i.c(),of(e,"data-util",t[2]),of(e,"class",n=Vp(["PinturaUtilPanel",t[1]])),of(e,"style",t[6])},m:function(n,o){Kl(n,e,o),i&&i.m(e,null),t[24](e),r=!0},p:function(t,o){t[5]?i?(i.p(t,o),32&o[0]&&Uf(i,1)):((i=dv(t)).c(),Uf(i,1),i.m(e,null)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf()),(!r||4&o[0])&&of(e,"data-util",t[2]),(!r||2&o[0]&&n!==(n=Vp(["PinturaUtilPanel",t[1]])))&&of(e,"class",n),(!r||64&o[0])&&of(e,"style",t[6])},i:function(t){r||(Uf(i),r=!0)},o:function(t){Wf(i),r=!1},d:function(n){n&&Yl(e),i&&i.d(),t[24](null)}}}function pv(t,e,n){var r,i,o,a,u,c,s,l=xf(),f=e.isActive,d=void 0===f||f,h=e.stores,p=e.content,v=e.component,m=e.locale,g=e.class,y=void 0===g?void 0:g,b=Cf("isAnimated");Il(t,b,(function(t){return n(21,c=t)}));var w=gp(0),x=ld(w,(function(t){return Id(t,0,1)}));Il(t,x,(function(t){return n(20,u=t)}));var $=!d,C=sd(d);Il(t,C,(function(t){return n(25,a=t)}));var _,k,E={isActive:ld(C,function(){var t=to(Ji().mark((function t(e,n){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",n(e));case 2:return t.next=4,Of();case 4:n(e);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),isActiveFraction:ld(x,(function(t){return t})),isVisible:ld(x,(function(t){return t>0}))},M=p.view,S=fv(M),R=Object.keys(p.props||{}).reduce((function(t,e){return S.includes(e)?(t[e]=p.props[e],t):t}),{}),I=Object.keys(E).reduce((function(t,e){return S.includes(e)?(t[e]=E[e],t):t}),{}),L=function(t){n(17,s=Object.assign({},t.detail)),P&&d&&l("measure",Object.assign({},s))};$f("measurable",Pp);var O=gf().$$.context,P=!1;return yf((function(){if(n(19,P=!0),!o){n(0,v=new M({target:k,props:Object.assign({},i),context:O})),n(2,_=v.name);var t=v.$on("measure",L);return function(){t(),v.$destroy()}}})),t.$$set=function(t){"isActive"in t&&n(12,d=t.isActive),"stores"in t&&n(13,h=t.stores),"content"in t&&n(14,p=t.content),"component"in t&&n(0,v=t.component),"locale"in t&&n(15,m=t.locale),"class"in t&&n(1,y=t.class)},t.$$.update=function(){135169&t.$$.dirty[0]&&s&&d&&v&&l("measure",s),2101248&t.$$.dirty[0]&&w.set(d?1:0,{hard:!1===c}),1310720&t.$$.dirty[0]&&(u<=0&&!$?n(18,$=!0):u>0&&$&&n(18,$=!1)),786432&t.$$.dirty[0]&&P&&l($?"hide":"show"),1048576&t.$$.dirty[0]&&l("fade",u),1048576&t.$$.dirty[0]&&n(6,r=u<1?"opacity: "+u:void 0),4096&t.$$.dirty[0]&&Dl(C,a=d,a),40960&t.$$.dirty[0]&&n(4,i=Object.assign({},R,I,{stores:h,locale:m}))},n(5,o=!S.includes("external")),[v,y,_,k,i,o,r,b,x,C,M,L,d,h,p,m,w,s,$,P,u,c,function(t){n(2,_=t)},function(t){Ef[t?"unshift":"push"]((function(){n(0,v=t)}))},function(t){Ef[t?"unshift":"push"]((function(){n(3,k=t)}))}]}var vv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,pv,hv,Ml,{isActive:12,stores:13,content:14,component:0,locale:15,class:1,opacity:16},null,[-1,-1]),n}return qi(e,t),Hi(e,[{key:"opacity",get:function(){return this.$$.ctx[16]}}]),e}(ad);function mv(t){var e,n,r,i=t[5].default,o=Ll(i,t,t[4],null);return{c:function(){e=Jl("svg"),o&&o.c(),of(e,"class",t[3]),of(e,"style",t[2]),of(e,"width",t[0]),of(e,"height",t[1]),of(e,"viewBox",n="0 0 "+t[0]+"\n    "+t[1]),of(e,"xmlns","http://www.w3.org/2000/svg"),of(e,"aria-hidden","true"),of(e,"focusable","false"),of(e,"stroke-linecap","round"),of(e,"stroke-linejoin","round")},m:function(t,n){Kl(t,e,n),o&&o.m(e,null),r=!0},p:function(t,a){var u=a[0];o&&o.p&&(!r||16&u)&&Al(o,i,t,t[4],r?Pl(i,t[4],u,null):Tl(t[4]),null),(!r||8&u)&&of(e,"class",t[3]),(!r||4&u)&&of(e,"style",t[2]),(!r||1&u)&&of(e,"width",t[0]),(!r||2&u)&&of(e,"height",t[1]),(!r||3&u&&n!==(n="0 0 "+t[0]+"\n    "+t[1]))&&of(e,"viewBox",n)},i:function(t){r||(Uf(o,t),r=!0)},o:function(t){Wf(o,t),r=!1},d:function(t){t&&Yl(e),o&&o.d(t)}}}function gv(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.width,u=void 0===a?24:a,c=e.height,s=void 0===c?24:c,l=e.style,f=void 0===l?void 0:l,d=e.class,h=void 0===d?void 0:d;return t.$$set=function(t){"width"in t&&n(0,u=t.width),"height"in t&&n(1,s=t.height),"style"in t&&n(2,f=t.style),"class"in t&&n(3,h=t.class),"$$scope"in t&&n(4,o=t.$$scope)},[u,s,f,h,o,i]}var yv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,gv,mv,Ml,{width:0,height:1,style:2,class:3}),n}return qi(e,t),e}(ad),bv=function(t,e){return e===t.target||e.contains(t.target)},wv=function(t,e,n){return(Lo(e)?e:t)+(n?" ("+(n.map((function(t){return"CMD"===t?lc()?"⌘":"Ctrl":t})).join("+")+")"):"")};function xv(t){var e,n;return e=new yv({props:{class:"PinturaButtonIcon",$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};536870920&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function $v(t){var e;return{c:function(){e=Jl("g")},m:function(n,r){Kl(n,e,r),e.innerHTML=t[3]},p:function(t,n){8&n&&(e.innerHTML=t[3])},d:function(t){t&&Yl(e)}}}function Cv(t){var e;return{c:function(){of(e=Xl("span"),"class",t[11])},m:function(n,r){Kl(n,e,r),e.innerHTML=t[0]},p:function(t,n){1&n&&(e.innerHTML=t[0]),2048&n&&of(e,"class",t[11])},d:function(t){t&&Yl(e)}}}function _v(t){var e,n,r,i,o,a=t[27].default,u=Ll(a,t,t[29],null),c=u||function(t){var e,n,r,i=t[3]&&xv(t),o=t[0]&&Cv(t);return{c:function(){e=Xl("span"),i&&i.c(),n=tf(),o&&o.c(),of(e,"class",t[13])},m:function(t,a){Kl(t,e,a),i&&i.m(e,null),Wl(e,n),o&&o.m(e,null),r=!0},p:function(t,a){t[3]?i?(i.p(t,a),8&a&&Uf(i,1)):((i=xv(t)).c(),Uf(i,1),i.m(e,n)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf()),t[0]?o?o.p(t,a):((o=Cv(t)).c(),o.m(e,null)):o&&(o.d(1),o=null),(!r||8192&a)&&of(e,"class",t[13])},i:function(t){r||(Uf(i),r=!0)},o:function(t){Wf(i),r=!1},d:function(t){t&&Yl(e),i&&i.d(),o&&o.d()}}}(t);return{c:function(){e=Xl("button"),c&&c.c(),of(e,"type",t[6]),of(e,"style",t[4]),e.disabled=t[5],of(e,"class",t[12]),of(e,"title",n=wv(t[0],t[1],t[2]))},m:function(n,a){Kl(n,e,a),c&&c.m(e,null),t[28](e),r=!0,i||(o=[nf(e,"keydown",(function(){El(t[8])&&t[8].apply(this,arguments)})),nf(e,"click",(function(){El(t[7])&&t[7].apply(this,arguments)})),nf(e,"pointerdown",(function(){El(t[14])&&t[14].apply(this,arguments)})),Nl(t[9].call(null,e))],i=!0)},p:function(i,o){var s=o[0];t=i,u?u.p&&(!r||536870912&s)&&Al(u,a,t,t[29],r?Pl(a,t[29],s,null):Tl(t[29]),null):c&&c.p&&(!r||10249&s)&&c.p(t,r?s:-1),(!r||64&s)&&of(e,"type",t[6]),(!r||16&s)&&of(e,"style",t[4]),(!r||32&s)&&(e.disabled=t[5]),(!r||4096&s)&&of(e,"class",t[12]),(!r||7&s&&n!==(n=wv(t[0],t[1],t[2])))&&of(e,"title",n)},i:function(t){r||(Uf(c,t),r=!0)},o:function(t){Wf(c,t),r=!1},d:function(n){n&&Yl(e),c&&c.d(n),t[28](null),i=!1,kl(o)}}}function kv(t,e,n){var r,i,o,a,u,c,s,l=e.$$slots,f=void 0===l?{}:l,d=e.$$scope,h=e.class,p=void 0===h?void 0:h,v=e.label,m=void 0===v?void 0:v,g=e.title,y=void 0===g?void 0:g,b=e.shortcut,w=void 0===b?void 0:b,x=e.labelClass,$=void 0===x?void 0:x,C=e.innerClass,_=void 0===C?void 0:C,k=e.hideLabel,E=void 0!==k&&k,M=e.icon,S=void 0===M?void 0:M,R=e.style,I=void 0===R?void 0:R,L=e.disabled,O=void 0===L?void 0:L,P=e.type,A=void 0===P?"button":P,T=e.onclick,j=void 0===T?void 0:T,B=e.onkeydown,D=void 0===B?void 0:B,N=e.onhold,z=void 0===N?void 0:N,F=e.action,Z=void 0===F?function(){}:F,H=e.holdThreshold,V=void 0===H?500:H,U=e.holdSpeedUpFactor,W=void 0===U?.5:U,q=e.holdSpeedMin,G=void 0===q?20:q,K=function t(e){n(25,c=setTimeout((function(){z(),t(Math.max(e*W,G))}),e))};return t.$$set=function(t){"class"in t&&n(15,p=t.class),"label"in t&&n(0,m=t.label),"title"in t&&n(1,y=t.title),"shortcut"in t&&n(2,w=t.shortcut),"labelClass"in t&&n(16,$=t.labelClass),"innerClass"in t&&n(17,_=t.innerClass),"hideLabel"in t&&n(18,E=t.hideLabel),"icon"in t&&n(3,S=t.icon),"style"in t&&n(4,I=t.style),"disabled"in t&&n(5,O=t.disabled),"type"in t&&n(6,A=t.type),"onclick"in t&&n(7,j=t.onclick),"onkeydown"in t&&n(8,D=t.onkeydown),"onhold"in t&&n(19,z=t.onhold),"action"in t&&n(9,Z=t.action),"holdThreshold"in t&&n(20,V=t.holdThreshold),"holdSpeedUpFactor"in t&&n(21,W=t.holdSpeedUpFactor),"holdSpeedMin"in t&&n(22,G=t.holdSpeedMin),"$$scope"in t&&n(29,d=t.$$scope)},t.$$.update=function(){101187584&t.$$.dirty&&n(26,i=z?function(){c&&(clearTimeout(c),n(25,c=void 0),document.documentElement.removeEventListener("pointerup",i))}:wl),68681728&t.$$.dirty&&n(14,r=z?function(){document.documentElement.addEventListener("pointerup",i),K(V)}:wl),131072&t.$$.dirty&&n(13,o=Vp(["PinturaButtonInner",_])),294912&t.$$.dirty&&n(12,a=Vp(["PinturaButton",E&&"PinturaButtonIconOnly",p])),327680&t.$$.dirty&&n(11,u=Vp([E?"implicit":"PinturaButtonLabel",$]))},[m,y,w,S,I,O,A,j,D,Z,s,u,a,o,r,p,$,_,E,z,V,W,G,function(t){return bv(t,s)},function(){return s},c,i,f,function(t){Ef[t?"unshift":"push"]((function(){n(10,s=t)}))},d]}var Ev=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,kv,_v,Ml,{class:15,label:0,title:1,shortcut:2,labelClass:16,innerClass:17,hideLabel:18,icon:3,style:4,disabled:5,type:6,onclick:7,onkeydown:8,onhold:19,action:9,holdThreshold:20,holdSpeedUpFactor:21,holdSpeedMin:22,isEventTarget:23,getElement:24}),n}return qi(e,t),Hi(e,[{key:"isEventTarget",get:function(){return this.$$.ctx[23]}},{key:"getElement",get:function(){return this.$$.ctx[24]}}]),e}(ad),Mv=function(t,e){var n=t.findIndex(e);if(n>=0)return t.splice(n,1)},Sv=function(t,e){void 0===e&&(e={});var n=e,r=n.inertia,i=void 0!==r&&r,o=n.inertiaDurationMultiplier,a=void 0===o?80:o,u=n.shouldStartInteraction,c=void 0===u?function(){return!0}:u,s=n.pinch,l=void 0!==s&&s,f=n.multiTouch,d=void 0===f?void 0:f,h=n.getEventPosition,p=void 0===h?function(t){return pa(t.clientX,t.clientY)}:h;function v(e,n){t.dispatchEvent(new CustomEvent(e,{detail:n}))}function m(){w&&w(),w=void 0}var g,y,b,w,x,$,C,_,k=[],E=function(t){return 0===t.timeStamp?Date.now():t.timeStamp},M=function(t){var e=Mv(k,(function(e){return e.event.pointerId===t.pointerId}));if(e)return e[0]},S=function(){var t=ma(k[0].position);if(k[1]){var e=.5*(k[1].position.x-t.x),n=.5*(k[1].position.y-t.y);t.x+=e,t.y+=n}return t},R=function(t){t.origin.x=t.position.x,t.origin.y=t.position.y,t.translation.x=0,t.translation.y=0},I=function(t){var e=L(t);if(e){var n=E(t),r=p(t),i=Math.max(1,n-e.timeStamp);e.velocity.x=(r.x-e.position.x)/i,e.velocity.y=(r.y-e.position.y)/i,e.velocityHistory.push(ma(e.velocity)),e.velocityHistory=e.velocityHistory.slice(-3),e.velocityAverage=e.velocityHistory.reduce((function(t,e,n,r){return t.x+=e.x/r.length,t.y+=e.y/r.length,t}),ha()),e.translation.x=r.x-e.origin.x,e.translation.y=r.y-e.origin.y,e.timeStamp=n,e.position.x=r.x,e.position.y=r.y,e.event=t}},L=function(t){var e=function(t){return k.findIndex((function(e){return e.event.pointerId===t.pointerId}))}(t);if(!(e<0))return k[e]},O=function(){return 1===k.length},P=function(){return 2===k.length},A=function(t){var e=Oa(t.map((function(t){return t.position}))),n=function(t,e){return t.reduce((function(t,n){return t+Ia(e,n.position)}),0)/t.length}(t,e);return{center:e,distance:n,velocity:Oa(t.map((function(t){return t.velocity}))),translation:Oa(t.map((function(t){return t.translation})))}},T=0,j=void 0;function B(e){if(!P()&&!function(t){return Lc(t.button)&&0!==t.button}(e)&&c(e,t))if(m(),function(t){var e=E(t),n={timeStamp:e,timeStampInitial:e,position:p(t),origin:p(t),velocity:ha(),velocityHistory:[],velocityAverage:ha(),translation:ha(),interactionState:void 0,event:t};k.push(n),n.interactionState=A(k)}(e),O())document.documentElement.addEventListener("pointermove",N),document.documentElement.addEventListener("pointerup",z),document.documentElement.addEventListener("pointercancel",z),document.addEventListener("visibilitychange",Z),_=!1,C=1,$=ha(),x=void 0,v("interactionstart",{origin:ma(L(e).origin)});else if(l)_=!0,x=Ia(k[0].position,k[1].position),$.x+=k[0].translation.x,$.y+=k[0].translation.y,R(k[0]);else if(!1===d)return k.length=0,V(),v("interactioncancel")}t.addEventListener("pointerdown",B);var D=Date.now();function N(t){t.preventDefault(),I(t);var e=ma(k[0].translation),n=C;l&&P()&&(n*=Ia(k[0].position,k[1].position)/x,Ca(e,k[1].translation));Ca(e,$);var r=Date.now();r-D<16||(D=r,v("interactionupdate",{position:S(),translation:e,scalar:l?n:void 0,isMultiTouching:P()}))}function z(t){if(L(t)){var e=S(),n=M(t);if(l&&O()){var r=Ia(k[0].position,n.position);C*=r/x,$.x+=k[0].translation.x+n.translation.x,$.y+=k[0].translation.y+n.translation.y,R(k[0])}var o=!1,u=!1;if(!_&&n){var c=performance.now(),s=c-n.timeStampInitial,f=Ra(n.translation);o=f<64&&s<300,u=!!(j&&o&&c-T<700&&Ra(j,n.position)<128),o&&(j=ma(n.position),T=c)}if(!(k.length>0)){V();var d=ma(n.translation),h=ma(n.velocityAverage),p=!1;v("interactionrelease",{isTap:o,isDoubleTap:u,position:e,translation:d,scalar:C,preventInertia:function(){return p=!0}});var m=Ia(h);if(p||!i||m<.25)return H(d,{isTap:o,isDoubleTap:u});y=ma(e),b=ma(d),(g=vp(ma(d),{easing:dp,duration:m*a})).set({x:d.x+50*h.x,y:d.y+50*h.y}).then((function(){w&&H(Rl(g),{isTap:o,isDoubleTap:u})})),w=g.subscribe(F)}}}function F(t){t&&v("interactionupdate",{position:pa(y.x+(t.x-b.x),y.y+(t.y-b.y)),translation:t,scalar:l?C:void 0})}function Z(t){if("visible"!==document.visibilityState&&k.length){var e=A(k);m(),v("interactionend",Object.assign({},e)),k.length=0,V()}}function H(t,e){m(),v("interactionend",Object.assign({},e,{translation:t,scalar:l?C:void 0}))}function V(){document.documentElement.removeEventListener("pointermove",N),document.documentElement.removeEventListener("pointerup",z),document.documentElement.removeEventListener("pointercancel",z),document.addEventListener("visibilitychange",Z)}return{destroy:function(){m(),t.removeEventListener("pointerdown",B)}}},Rv=function(t,e){void 0===e&&(e={});var n=e,r=n.direction,i=void 0===r?void 0:r,o=n.shiftMultiplier,a=void 0===o?10:o,u=n.bubbles,c=void 0!==u&&u,s=n.preventDefault,l=void 0!==s&&s,f=n.stopKeydownPropagation,d=void 0===f||f,h="horizontal"===i,p="vertical"===i,v=function(e){var n=e.key,r=e.shiftKey,i=/up|down/i.test(n),o=/left|right/i.test(n);if((o||i)&&!(h&&i||p&&o)){var u=r?a:1;d&&e.stopPropagation(),l&&e.preventDefault(),t.dispatchEvent(new CustomEvent("nudge",{bubbles:c,detail:pa((/left/i.test(n)?-1:/right/i.test(n)?1:0)*u,(/up/i.test(n)?-1:/down/i.test(n)?1:0)*u)}))}};return t.addEventListener("keydown",v),{destroy:function(){t.removeEventListener("keydown",v)}}};function Iv(t,e){return e?e*Math.sign(t)*Math.log10(1+Math.abs(t)/e):t}var Lv=function(t,e,n){if(!e||!n)return Object.assign({},t);var r=t.x+Iv(e.x-t.x,n),i=t.x+t.width+Iv(e.x+e.width-(t.x+t.width),n),o=t.y+Iv(e.y-t.y,n);return{x:r,y:o,width:i-r,height:t.y+t.height+Iv(e.y+e.height-(t.y+t.height),n)-o}},Ov=function(t,e,n){return e&&n?pa(t.x+Iv(e.x-t.x,n),t.y+Iv(e.y-t.y,n)):Object.assign({},t)},Pv=function(t,e){if(t)return/em/.test(t)?16*parseInt(t,10):/px/.test(t)?parseInt(t,10):void 0},Av=function(t){var e=t.detail||0,n=t.deltaX,r=t.deltaY,i=t.wheelDelta,o=t.wheelDeltaX,a=t.wheelDeltaY;return Lc(o)&&Math.abs(o)>Math.abs(a)?e=o/-120:Lc(n)&&Math.abs(n)>Math.abs(r)?e=n/20:(i||a)&&(e=(i||a)/-120),e||(e=r/20),(Uc()||Hu())&&(e*=2),e};function Tv(t){var e,n,r,i,o,a,u,c=t[36].default,s=Ll(c,t,t[35],null);return{c:function(){e=Xl("div"),n=Xl("div"),s&&s.c(),of(n,"style",t[5]),of(e,"class",r=Vp(["PinturaScrollable",t[0]])),of(e,"style",t[4]),of(e,"data-direction",t[1]),of(e,"data-state",t[6])},m:function(r,c){Kl(r,e,c),Wl(e,n),s&&s.m(n,null),t[38](e),o=!0,a||(u=[nf(n,"interactionstart",t[8]),nf(n,"interactionupdate",t[10]),nf(n,"interactionend",t[11]),nf(n,"interactionrelease",t[9]),Nl(Sv.call(null,n,{inertia:!0})),nf(n,"measure",t[37]),Nl(Pp.call(null,n)),nf(e,"wheel",t[13],{passive:!1}),nf(e,"scroll",t[15]),nf(e,"focusin",t[14]),nf(e,"nudge",t[16]),nf(e,"measure",t[12]),Nl(Pp.call(null,e,{observePosition:!0})),Nl(i=Rv.call(null,e,{direction:"x"===t[1]?"horizontal":"vertical",stopKeydownPropagation:!1}))],a=!0)},p:function(t,a){s&&s.p&&(!o||16&a[1])&&Al(s,c,t,t[35],o?Pl(c,t[35],a,null):Tl(t[35]),null),(!o||32&a[0])&&of(n,"style",t[5]),(!o||1&a[0]&&r!==(r=Vp(["PinturaScrollable",t[0]])))&&of(e,"class",r),(!o||16&a[0])&&of(e,"style",t[4]),(!o||2&a[0])&&of(e,"data-direction",t[1]),(!o||64&a[0])&&of(e,"data-state",t[6]),i&&El(i.update)&&2&a[0]&&i.update.call(null,{direction:"x"===t[1]?"horizontal":"vertical",stopKeydownPropagation:!1})},i:function(t){o||(Uf(s,t),o=!0)},o:function(t){Wf(s,t),o=!1},d:function(n){n&&Yl(e),s&&s.d(n),t[38](null),a=!1,kl(u)}}}function jv(t,e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v=e.$$slots,m=void 0===v?{}:v,g=e.$$scope,y=xf(),b="idle",w=gp(0);Il(t,w,(function(t){return n(34,l=t)}));var x,$,C,_,k=e.class,E=void 0===k?void 0:k,M=e.scrollBlockInteractionDist,S=void 0===M?5:M,R=e.scrollStep,I=void 0===R?10:R,L=e.scrollFocusMargin,O=void 0===L?64:L,P=e.scrollDirection,A=void 0===P?"x":P,T=e.scrollAutoCancel,j=void 0!==T&&T,B=e.elasticity,D=void 0===B?0:B,N=e.onscroll,z=void 0===N?uo:N,F=e.maskFeatherSize,Z=void 0===F?void 0:F,H=e.maskFeatherStartOpacity,V=void 0===H?void 0:H,U=e.maskFeatherEndOpacity,W=void 0===U?void 0:U,q=e.scroll,G=void 0===q?void 0:q,K="",Y=!0,X=w.subscribe((function(t){var e=ha();e[A]=t,z(e)})),J=function(t){return Math.max(Math.min(0,t),h[r]-d[r])},Q=function(t,e){void 0===e&&(e={});var r=e,i=r.elastic,o=void 0!==i&&i,a=r.animate,u=void 0!==a&&a,c=r.preventScrollState,s=void 0!==c&&c;Math.abs(t-f)>S&&"idle"===b&&!p&&!s&&n(27,b="scrolling");var l=J(t),d=o&&D&&!p?l+Iv(t-l,D):l,h=!0;u?h=!1:Y||(h=!p),Y=!1,w.set(d,{hard:h}).then((function(t){p&&(Y=!0)}))};wf((function(){X()}));return t.$$set=function(t){"class"in t&&n(0,E=t.class),"scrollBlockInteractionDist"in t&&n(20,S=t.scrollBlockInteractionDist),"scrollStep"in t&&n(21,I=t.scrollStep),"scrollFocusMargin"in t&&n(22,O=t.scrollFocusMargin),"scrollDirection"in t&&n(1,A=t.scrollDirection),"scrollAutoCancel"in t&&n(23,j=t.scrollAutoCancel),"elasticity"in t&&n(24,D=t.elasticity),"onscroll"in t&&n(25,z=t.onscroll),"maskFeatherSize"in t&&n(19,Z=t.maskFeatherSize),"maskFeatherStartOpacity"in t&&n(17,V=t.maskFeatherStartOpacity),"maskFeatherEndOpacity"in t&&n(18,W=t.maskFeatherEndOpacity),"scroll"in t&&n(26,G=t.scroll),"$$scope"in t&&n(35,g=t.$$scope)},t.$$.update=function(){if(2&t.$$.dirty[0]&&n(31,r="x"===A?"width":"height"),2&t.$$.dirty[0]&&n(29,i=A.toUpperCase()),8&t.$$.dirty[0]&&n(33,o=x&&getComputedStyle(x)),8&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(32,a=o&&Pv(o.getPropertyValue("--scrollable-feather-size"))),268828676&t.$$.dirty[0]|11&t.$$.dirty[1]&&null!=l&&h&&null!=a&&d){var e=-1*l/a,f=-(h[r]-d[r]-l)/a;n(17,V=Id(1-e,0,1)),n(18,W=Id(1-f,0,1)),n(19,Z=a),n(4,K="--scrollable-feather-start-opacity: "+V+";--scrollable-feather-end-opacity: "+W)}67108872&t.$$.dirty[0]&&x&&void 0!==G&&(Lc(G)?Q(G):Q(G.scrollOffset,G)),268435460&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(30,u=h&&d?d[r]>h[r]:void 0),1207959552&t.$$.dirty[0]&&n(6,c=Vp([b,u?"overflows":void 0])),1610612736&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(5,s=u?"transform: translate"+i+"("+l+"px)":void 0)},[E,A,d,x,K,s,c,w,function(){u&&(C=!1,$=!0,_=pa(0,0),p=!1,n(27,b="idle"),f=Rl(w))},function(t){t.detail;u&&(p=!0,n(27,b="idle"))},function(t){var e=t.detail;u&&(C||$&&($=!1,Ra(e.translation)<.1)||(!j||"x"!==A||function(t){var e=$a(pa(t.x-_.x,t.y-_.y),Math.abs);_=ma(t);var n=Ra(e),r=e.x-e.y;return!(n>1&&r<-.5)}(e.translation)?Q(f+e.translation[A],{elastic:!0}):C=!0))},function(t){var e=t.detail;if(u&&!C){var n=f+e.translation[A],r=J(n);Y=!1,w.set(r).then((function(t){p&&(Y=!0)}))}},function(t){var e=t.detail;n(28,h=e),y("measure",{x:e.x,y:e.y,width:e.width,height:e.height})},function(t){if(u){t.preventDefault(),t.stopPropagation();var e=t.shiftKey,n=Av(t)*(e?-1:1),r=Rl(w);Q(r+n*I,{animate:!0})}},function(t){if(u&&p){var e=t.target;t.target.classList.contains("implicit")&&(e=e.parentNode);var n=e["x"===A?"offsetLeft":"offsetTop"],i=n+e["x"===A?"offsetWidth":"offsetHeight"],o=Rl(w),a=O+Z;o+n<a?Q(-n+a):o+i>h[r]-a&&Q(h[r]-i-a,{animate:!0})}},function(){n(3,x["x"===A?"scrollLeft":"scrollTop"]=0,x)},function(t){var e=t.detail;if(!x.querySelector("[data-focus-visible]")){var n=-2*e[A],r=Rl(w);Q(r+n*I,{animate:!0,preventScrollState:!0})}},V,W,Z,S,I,O,j,D,z,G,b,h,i,u,r,a,o,l,g,m,function(t){return n(2,d=t.detail)},function(t){Ef[t?"unshift":"push"]((function(){n(3,x=t)}))}]}var Bv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,jv,Tv,Ml,{class:0,scrollBlockInteractionDist:20,scrollStep:21,scrollFocusMargin:22,scrollDirection:1,scrollAutoCancel:23,elasticity:24,onscroll:25,maskFeatherSize:19,maskFeatherStartOpacity:17,maskFeatherEndOpacity:18,scroll:26},null,[-1,-1]),n}return qi(e,t),e}(ad);function Dv(t,e){var n=void 0===e?{}:e,r=n.delay,i=void 0===r?0:r,o=n.duration,a=void 0===o?400:o,u=n.easing,c=void 0===u?xl:u,s=+getComputedStyle(t).opacity;return{delay:i,duration:a,easing:c,css:function(t){return"opacity: "+t*s}}}function Nv(t){var e,n,r,i,o;return{c:function(){of(e=Xl("span"),"class","PinturaStatusMessage")},m:function(n,a){Kl(n,e,a),e.innerHTML=t[0],r=!0,i||(o=[nf(e,"measure",(function(){El(t[1])&&t[1].apply(this,arguments)})),Nl(Pp.call(null,e))],i=!0)},p:function(n,i){var o=i[0];t=n,(!r||1&o)&&(e.innerHTML=t[0])},i:function(t){r||(Pf((function(){n||(n=Gf(e,Dv,{duration:500},!0)),n.run(1)})),r=!0)},o:function(t){n||(n=Gf(e,Dv,{duration:500},!1)),n.run(0),r=!1},d:function(t){t&&Yl(e),t&&n&&n.end(),i=!1,kl(o)}}}function zv(t,e,n){var r=e.text,i=e.onmeasure,o=void 0===i?uo:i;return t.$$set=function(t){"text"in t&&n(0,r=t.text),"onmeasure"in t&&n(1,o=t.onmeasure)},[r,o]}var Fv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,zv,Nv,Ml,{text:0,onmeasure:1}),n}return qi(e,t),e}(ad);function Zv(t){var e,n,r,i,o,a,u,c;return{c:function(){e=Xl("span"),n=Jl("svg"),r=Jl("g"),i=Jl("circle"),o=Jl("circle"),a=tf(),u=Xl("span"),c=Ql(t[3]),of(i,"class","PinturaProgressIndicatorBar"),of(i,"r","8.5"),of(i,"cx","10"),of(i,"cy","10"),of(i,"stroke-linecap","round"),of(i,"opacity",".25"),of(o,"class","PinturaProgressIndicatorFill"),of(o,"r","8.5"),of(o,"stroke-dasharray",t[2]),of(o,"cx","10"),of(o,"cy","10"),of(o,"transform","rotate(-90) translate(-20)"),of(r,"fill","none"),of(r,"stroke","currentColor"),of(r,"stroke-width","2.5"),of(r,"stroke-linecap","round"),of(r,"opacity",t[1]),of(n,"width","20"),of(n,"height","20"),of(n,"viewBox","0 0 20 20"),of(n,"xmlns","http://www.w3.org/2000/svg"),of(n,"aria-hidden","true"),of(n,"focusable","false"),of(u,"class","implicit"),of(e,"class","PinturaProgressIndicator"),of(e,"data-status",t[0])},m:function(t,s){Kl(t,e,s),Wl(e,n),Wl(n,r),Wl(r,i),Wl(r,o),Wl(e,a),Wl(e,u),Wl(u,c)},p:function(t,n){var i=n[0];4&i&&of(o,"stroke-dasharray",t[2]),2&i&&of(r,"opacity",t[1]),8&i&&uf(c,t[3]),1&i&&of(e,"data-status",t[0])},i:wl,o:wl,d:function(t){t&&Yl(e)}}}function Hv(t,e,n){var r,i,o,a,u,c,s=xf(),l=e.progress,f=e.min,d=void 0===f?0:f,h=e.max,p=void 0===h?100:h,v=e.labelBusy,m=void 0===v?"Busy":v,g=gp(0,{precision:.01}),y=gp(0,{precision:.01});Il(t,y,(function(t){return n(10,u=t)}));var b=ld([g],(function(t){return Id(t,d,p)}));Il(t,b,(function(t){return n(11,c=t)}));var w=b.subscribe((function(t){1===l&&Math.round(t)>=100&&s("complete")}));return yf((function(){y.set(1)})),wf((function(){w()})),t.$$set=function(t){"progress"in t&&n(6,l=t.progress),"min"in t&&n(7,d=t.min),"max"in t&&n(8,p=t.max),"labelBusy"in t&&n(9,m=t.labelBusy)},t.$$.update=function(){64&t.$$.dirty&&l&&l!==1/0&&g.set(100*l),2624&t.$$.dirty&&n(3,r=l===1/0?m:Math.round(c)+"%"),2112&t.$$.dirty&&n(2,i=l===1/0?"26.5 53":c/100*53+" 53"),1024&t.$$.dirty&&n(1,o=u),64&t.$$.dirty&&n(0,a=l===1/0?"busy":"loading")},[a,o,i,r,y,b,l,d,p,m,u,c]}var Vv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Hv,Zv,Ml,{progress:6,min:7,max:8,labelBusy:9}),n}return qi(e,t),e}(ad);function Uv(t){var e,n,r,i=t[5].default,o=Ll(i,t,t[4],null);return{c:function(){e=Xl("span"),o&&o.c(),of(e,"class",n="PinturaStatusAside "+t[0]),of(e,"style",t[1])},m:function(t,n){Kl(t,e,n),o&&o.m(e,null),r=!0},p:function(t,a){var u=a[0];o&&o.p&&(!r||16&u)&&Al(o,i,t,t[4],r?Pl(i,t[4],u,null):Tl(t[4]),null),(!r||1&u&&n!==(n="PinturaStatusAside "+t[0]))&&of(e,"class",n),(!r||2&u)&&of(e,"style",t[1])},i:function(t){r||(Uf(o,t),r=!0)},o:function(t){Wf(o,t),r=!1},d:function(t){t&&Yl(e),o&&o.d(t)}}}function Wv(t,e,n){var r,i=e.$$slots,o=void 0===i?{}:i,a=e.$$scope,u=e.offset,c=void 0===u?0:u,s=e.opacity,l=void 0===s?0:s,f=e.class,d=void 0===f?void 0:f;return t.$$set=function(t){"offset"in t&&n(2,c=t.offset),"opacity"in t&&n(3,l=t.opacity),"class"in t&&n(0,d=t.class),"$$scope"in t&&n(4,a=t.$$scope)},t.$$.update=function(){12&t.$$.dirty&&n(1,r="transform:translateX("+c+"px);opacity:"+l)},[d,r,c,l,a,o]}var qv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Wv,Uv,Ml,{offset:2,opacity:3,class:0}),n}return qi(e,t),e}(ad);function Gv(t){for(var e,n,r=t[3].default,i=Ll(r,t,t[2],null),o=[{for:"_"},t[1]],a={},u=0;u<o.length;u+=1)a=$l(a,o[u]);return{c:function(){e=Xl("label"),i&&i.c(),af(e,a)},m:function(t,r){Kl(t,e,r),i&&i.m(e,null),n=!0},p:function(t,u){i&&i.p&&(!n||4&u)&&Al(i,r,t,t[2],n?Pl(r,t[2],u,null):Tl(t[2]),null),af(e,a=Qf(o,[{for:"_"},2&u&&t[1]]))},i:function(t){n||(Uf(i,t),n=!0)},o:function(t){Wf(i,t),n=!1},d:function(t){t&&Yl(e),i&&i.d(t)}}}function Kv(t){for(var e,n,r=t[3].default,i=Ll(r,t,t[2],null),o=[t[1]],a={},u=0;u<o.length;u+=1)a=$l(a,o[u]);return{c:function(){e=Xl("div"),i&&i.c(),af(e,a)},m:function(t,r){Kl(t,e,r),i&&i.m(e,null),n=!0},p:function(t,u){i&&i.p&&(!n||4&u)&&Al(i,r,t,t[2],n?Pl(r,t[2],u,null):Tl(t[2]),null),af(e,a=Qf(o,[2&u&&t[1]]))},i:function(t){n||(Uf(i,t),n=!0)},o:function(t){Wf(i,t),n=!1},d:function(t){t&&Yl(e),i&&i.d(t)}}}function Yv(t){for(var e,n,r=t[3].default,i=Ll(r,t,t[2],null),o=[t[1]],a={},u=0;u<o.length;u+=1)a=$l(a,o[u]);return{c:function(){e=Xl("div"),i&&i.c(),af(e,a)},m:function(t,r){Kl(t,e,r),i&&i.m(e,null),n=!0},p:function(t,u){i&&i.p&&(!n||4&u)&&Al(i,r,t,t[2],n?Pl(r,t[2],u,null):Tl(t[2]),null),af(e,a=Qf(o,[2&u&&t[1]]))},i:function(t){n||(Uf(i,t),n=!0)},o:function(t){Wf(i,t),n=!1},d:function(t){t&&Yl(e),i&&i.d(t)}}}function Xv(t){var e,n,r,i,o=[Yv,Kv,Gv],a=[];function u(t,e){return"div"===t[0]?0:"span"===t[0]?1:"label"===t[0]?2:-1}return~(e=u(t))&&(n=a[e]=o[e](t)),{c:function(){n&&n.c(),r=ef()},m:function(t,n){~e&&a[e].m(t,n),Kl(t,r,n),i=!0},p:function(t,i){var c=i[0],s=e;(e=u(t))===s?~e&&a[e].p(t,c):(n&&(Hf(),Wf(a[s],1,1,(function(){a[s]=null})),Vf()),~e?((n=a[e])?n.p(t,c):(n=a[e]=o[e](t)).c(),Uf(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){i||(Uf(n),i=!0)},o:function(t){Wf(n),i=!1},d:function(t){~e&&a[e].d(t),t&&Yl(r)}}}function Jv(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.name,u=void 0===a?"div":a,c=e.attributes,s=void 0===c?{}:c;return t.$$set=function(t){"name"in t&&n(0,u=t.name),"attributes"in t&&n(1,s=t.attributes),"$$scope"in t&&n(2,o=t.$$scope)},[u,s,o,i]}var Qv=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Jv,Xv,Ml,{name:0,attributes:1}),n}return qi(e,t),e}(ad),tm=function(){return ho()&&window.devicePixelRatio||1},em=null,nm=function(t){return null===em&&(em=1===tm()?Math.round:function(t){return t}),em(t)},rm=function(t,e){if(void 0===e&&(e={}),t){if(e.preventScroll&&Hu()){var n=document.body.scrollTop;return t.focus(),void(document.body.scrollTop=n)}t.focus(e)}},im=function(t){return{}},om=function(t){return{}},am=function(t){return{}},um=function(t){return{}};function cm(t){for(var e,n,r=[t[7]],i={$$slots:{default:[lm]},$$scope:{ctx:t}},o=0;o<r.length;o+=1)i=$l(i,r[o]);return e=new Ev({props:i}),t[40](e),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var i=128&n[0]?Qf(r,[td(t[7])]):{};8192&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(n){t[40](null),id(e,n)}}}function sm(t){for(var e,n,r=[t[7]],i={},o=0;o<r.length;o+=1)i=$l(i,r[o]);return e=new Ev({props:i}),t[39](e),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var i=128&n[0]?Qf(r,[td(t[7])]):{};e.$set(i)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(n){t[39](null),id(e,n)}}}function lm(t){var e,n=t[38].label,r=Ll(n,t,t[44],um);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||8192&i[1])&&Al(r,n,t,t[44],e?Pl(n,t[44],i,am):Tl(t[44]),um)},i:function(t){e||(Uf(r,t),e=!0)},o:function(t){Wf(r,t),e=!1},d:function(t){r&&r.d(t)}}}function fm(t){var e,n,r,i,o,a,u,c=t[38].details,s=Ll(c,t,t[44],om);return{c:function(){e=Xl("div"),s&&s.c(),n=tf(),of(r=Xl("span"),"class","PinturaPanelTip"),of(r,"style",t[10]),of(e,"class",i=Vp(["PinturaPanel","pintura-editor-panel",t[2]])),of(e,"tabindex","-1"),of(e,"style",t[11])},m:function(i,c){Kl(i,e,c),s&&s.m(e,null),Wl(e,n),Wl(e,r),t[41](e),o=!0,a||(u=[nf(e,"close",t[42]),nf(e,"keydown",t[18]),nf(e,"measure",t[43]),Nl(Pp.call(null,e))],a=!0)},p:function(t,n){s&&s.p&&(!o||8192&n[1])&&Al(s,c,t,t[44],o?Pl(c,t[44],n,im):Tl(t[44]),om),(!o||1024&n[0])&&of(r,"style",t[10]),(!o||4&n[0]&&i!==(i=Vp(["PinturaPanel","pintura-editor-panel",t[2]])))&&of(e,"class",i),(!o||2048&n[0])&&of(e,"style",t[11])},i:function(t){o||(Uf(s,t),o=!0)},o:function(t){Wf(s,t),o=!1},d:function(n){n&&Yl(e),s&&s.d(n),t[41](null),a=!1,kl(u)}}}function dm(t){var e,n,r,i,o,a,u,c,s,l=[sm,cm],f=[];function d(t,e){return t[1]?0:1}n=d(t),r=f[n]=l[n](t);var h=t[6]&&fm(t);return{c:function(){e=tf(),r.c(),i=tf(),h&&h.c(),o=tf(),a=ef()},m:function(r,l){Kl(r,e,l),f[n].m(r,l),Kl(r,i,l),h&&h.m(r,l),Kl(r,o,l),Kl(r,a,l),u=!0,c||(s=[nf(document.body,"pointerdown",(function(){El(t[9])&&t[9].apply(this,arguments)})),nf(document.body,"pointerup",(function(){El(t[8])&&t[8].apply(this,arguments)}))],c=!0)},p:function(e,a){var u=n;(n=d(t=e))===u?f[n].p(t,a):(Hf(),Wf(f[u],1,1,(function(){f[u]=null})),Vf(),(r=f[n])?r.p(t,a):(r=f[n]=l[n](t)).c(),Uf(r,1),r.m(i.parentNode,i)),t[6]?h?(h.p(t,a),64&a[0]&&Uf(h,1)):((h=fm(t)).c(),Uf(h,1),h.m(o.parentNode,o)):h&&(Hf(),Wf(h,1,1,(function(){h=null})),Vf())},i:function(t){u||(Uf(r),Uf(h),Uf(false),u=!0)},o:function(t){Wf(r),Wf(h),Wf(false),u=!1},d:function(t){t&&Yl(e),f[n].d(t),t&&Yl(i),h&&h.d(t),t&&Yl(o),t&&Yl(a),c=!1,kl(s)}}}var hm=12;function pm(t,e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w,x=e.$$slots,$=void 0===x?{}:x,C=e.$$scope,_=e.buttonClass,k=void 0===_?void 0:_,E=e.buttonLabel,M=void 0===E?void 0:E,S=e.panelClass,R=void 0===S?void 0:S,I=e.isActive,L=void 0!==I&&I,O=e.onshow,P=void 0===O?function(t){var e=t.panel;return rm(e,{preventScroll:!0})}:O,A=e.onhide,T=void 0===A?uo:A,j=Cf("isAnimated");Il(t,j,(function(t){return n(37,w=t)}));var B=Cf("rootPortal");Il(t,B,(function(t){return n(32,v=t)}));var D,N,z,F=Cf("rootRect");Il(t,F,(function(t){return n(36,b=t)}));var Z=function(){return n(22,z=r&&r.getBoundingClientRect())},H=ha(),V=gp(0);Il(t,V,(function(t){return n(34,g=t)}));var U=ha(),W=sd({x:0,y:0});Il(t,W,(function(t){return n(33,m=t)}));var q=gp(-5,{stiffness:.1,damping:.35,precision:.001});Il(t,q,(function(t){return n(35,y=t)}));var G,K,Y=function(t){return bv(t,v)||N.isEventTarget(t)},X=!1,J=function(t){L||Z(),n(26,K=t),n(0,L=!L)},Q=function(t){/down/i.test(t.key)&&(n(0,L=!0),n(26,K=t))};wf((function(){if(v&&G){var t=G;Of().then((function(){t.parentNode&&t.remove()}))}}));return t.$$set=function(t){"buttonClass"in t&&n(19,k=t.buttonClass),"buttonLabel"in t&&n(1,M=t.buttonLabel),"panelClass"in t&&n(2,R=t.panelClass),"isActive"in t&&n(0,L=t.isActive),"onshow"in t&&n(20,P=t.onshow),"onhide"in t&&n(21,T=t.onhide),"$$scope"in t&&n(44,C=t.$$scope)},t.$$.update=function(){if(16&t.$$.dirty[0]&&(r=N&&N.getElement()),33554433&t.$$.dirty[0]&&n(8,h=L?function(t){X&&(n(25,X=!1),Y(t)||n(0,L=!1))}:void 0),1&t.$$.dirty[0]|64&t.$$.dirty[1]&&V.set(L?1:0,{hard:!1===w}),1&t.$$.dirty[0]|64&t.$$.dirty[1]&&q.set(L?0:-5,{hard:!1===w}),16&t.$$.dirty[1]&&n(29,i=1-y/-5),1&t.$$.dirty[0]|32&t.$$.dirty[1]&&b&&L&&Z(),4194313&t.$$.dirty[0]|32&t.$$.dirty[1]&&b&&D&&z&&L){var e=z.x-b.x+.5*z.width-.5*D.width,x=z.y-b.y+z.height,$=b.width-hm,C=b.height-hm,_=e,E=x,S=_+D.width,R=E+D.height;if(_<12&&(n(24,U.x=_-12,U),e=12),S>$&&(n(24,U.x=S-$,U),e=$-D.width),R>C)n(23,H.y=-1,H),12<x-D.height-z.height?(n(24,U.y=0,U),x-=D.height+z.height):(n(24,U.y=x-(R-C),U),x-=R-C);else n(23,H.y=1,H);Dl(W,m=$a(pa(e,x),nm),m)}8&t.$$.dirty[1]&&n(6,o=g>0),8&t.$$.dirty[1]&&n(31,a=g<1),8388608&t.$$.dirty[0]|20&t.$$.dirty[1]&&n(30,u="translateX("+(Math.round(m.x)+H.x*hm)+"px) translateY("+(Math.round(m.y)+H.y*hm+H.y*y)+"px)"),1073741824&t.$$.dirty[0]|9&t.$$.dirty[1]&&n(11,c=a?"opacity: "+g+"; pointer-events: "+(g<1?"none":"all")+"; transform: "+u+";":"transform: "+u),536870912&t.$$.dirty[0]&&n(27,s=.5+.5*i),536870912&t.$$.dirty[0]&&n(28,l=i),427819016&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(10,f=m&&D&&"opacity:"+l+";transform:scaleX("+s+")rotate(45deg);top:"+(H.y<0?U.y+D.height:0)+"px;left:"+(U.x+.5*D.width)+"px"),1&t.$$.dirty[0]&&n(9,d=L?function(t){Y(t)||n(25,X=!0)}:void 0),96&t.$$.dirty[0]|2&t.$$.dirty[1]&&o&&v&&G&&G.parentNode!==v&&v.append(G),1&t.$$.dirty[0]&&(L||n(26,K=void 0)),68157537&t.$$.dirty[0]&&L&&o&&G&&P({e:K,panel:G}),2097217&t.$$.dirty[0]&&o&&!L&&T(),524290&t.$$.dirty[0]&&n(7,p={label:M,class:Vp(["PinturaPanelButton",k]),onkeydown:Q,onclick:J})},[L,M,R,D,N,G,o,p,h,d,f,c,j,B,F,V,W,q,function(t){/esc/i.test(t.key)&&(n(0,L=!1),r.focus())},k,P,T,z,H,U,X,K,s,l,i,u,a,v,m,g,y,b,w,$,function(t){Ef[t?"unshift":"push"]((function(){n(4,N=t)}))},function(t){Ef[t?"unshift":"push"]((function(){n(4,N=t)}))},function(t){Ef[t?"unshift":"push"]((function(){n(5,G=t)}))},function(t){t.stopPropagation(),n(0,L=!1)},function(t){return n(3,D=Ba(t.detail))},C]}var vm=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,pm,dm,Ml,{buttonClass:19,buttonLabel:1,panelClass:2,isActive:0,onshow:20,onhide:21},null,[-1,-1]),n}return qi(e,t),e}(ad),mm={Up:38,Down:40,Left:37,Right:39};function gm(t){var e,n,r,i,o,a,u,c,s=t[15].default,l=Ll(s,t,t[14],null);return{c:function(){e=Xl("li"),n=Xl("input"),r=tf(),i=Xl("label"),l&&l.c(),of(n,"type","radio"),of(n,"class","implicit"),of(n,"id",t[7]),of(n,"name",t[0]),n.value=t[3],n.disabled=t[6],n.hidden=t[5],n.checked=t[4],of(i,"for",t[7]),of(i,"title",t[2]),of(e,"class",o=Vp(["PinturaRadioGroupOption",t[1]])),of(e,"data-hidden",t[5]),of(e,"data-disabled",t[6]),of(e,"data-selected",t[4])},m:function(o,s){Kl(o,e,s),Wl(e,n),Wl(e,r),Wl(e,i),l&&l.m(i,null),a=!0,u||(c=[nf(n,"change",rf(t[16])),nf(n,"keydown",t[9]),nf(n,"click",t[10])],u=!0)},p:function(t,r){var u=r[0];(!a||128&u)&&of(n,"id",t[7]),(!a||1&u)&&of(n,"name",t[0]),(!a||8&u)&&(n.value=t[3]),(!a||64&u)&&(n.disabled=t[6]),(!a||32&u)&&(n.hidden=t[5]),(!a||16&u)&&(n.checked=t[4]),l&&l.p&&(!a||16384&u)&&Al(l,s,t,t[14],a?Pl(s,t[14],u,null):Tl(t[14]),null),(!a||128&u)&&of(i,"for",t[7]),(!a||4&u)&&of(i,"title",t[2]),(!a||2&u&&o!==(o=Vp(["PinturaRadioGroupOption",t[1]])))&&of(e,"class",o),(!a||32&u)&&of(e,"data-hidden",t[5]),(!a||64&u)&&of(e,"data-disabled",t[6]),(!a||16&u)&&of(e,"data-selected",t[4])},i:function(t){a||(Uf(l,t),a=!0)},o:function(t){Wf(l,t),a=!1},d:function(t){t&&Yl(e),l&&l.d(t),u=!1,kl(c)}}}function ym(t,e,n){var r,i,o=e.$$slots,a=void 0===o?{}:o,u=e.$$scope,c=e.name,s=e.class,l=void 0===s?void 0:s,f=e.label,d=e.id,h=e.value,p=e.checked,v=e.onkeydown,m=e.onclick,g=e.hidden,y=void 0!==g&&g,b=e.disabled,w=void 0!==b&&b,x=Object.values(mm),$=Cf("keysPressed");Il(t,$,(function(t){return n(17,i=t)}));return t.$$set=function(t){"name"in t&&n(0,c=t.name),"class"in t&&n(1,l=t.class),"label"in t&&n(2,f=t.label),"id"in t&&n(11,d=t.id),"value"in t&&n(3,h=t.value),"checked"in t&&n(4,p=t.checked),"onkeydown"in t&&n(12,v=t.onkeydown),"onclick"in t&&n(13,m=t.onclick),"hidden"in t&&n(5,y=t.hidden),"disabled"in t&&n(6,w=t.disabled),"$$scope"in t&&n(14,u=t.$$scope)},t.$$.update=function(){2049&t.$$.dirty&&n(7,r=c+"-"+d)},[c,l,f,h,p,y,w,r,$,function(t){v(t)},function(t){i.some((function(t){return x.includes(t)}))||m(t)},d,v,m,u,a,function(e){_f.call(this,t,e)}]}var bm=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,ym,gm,Ml,{name:0,class:1,label:2,id:11,value:3,checked:4,onkeydown:12,onclick:13,hidden:5,disabled:6}),n}return qi(e,t),e}(ad),wm=function(t){return void 0===t&&(t=[]),t.reduce((function(t,e){return(Pc(e)?Pc(e[1]):!!e.options)?t.concat(Pc(e)?e[1]:e.options):(t.push(e),t)}),[])},xm=function(t,e,n){var r;return Pc(t)?r=Object.assign({id:e,value:t[0],label:t[1]},t[2]||{}):(r=t).id=null!=r.id?r.id:e,n?n(r):r},$m=function(t,e,n){return Oo(t)?t(e,n):t},Cm=function t(e,n){return e.map((function(e){var r=e[0],i=e[1],o=e[2];if(Pc(i))return[$m(r,n),t(i,n)];var a=[r,$m(i,n)];if(o){var u=Object.assign({},o);o.icon&&(u.icon=$m(o.icon,n)),a.push(u)}return a}))},_m=function(t,e){return Cm(t,e)},km=function(t,e){return Array.isArray(t)&&Array.isArray(e)?Td(t,e):t===e};function Em(t,e,n){var r=t.slice();return r[27]=e[n],r}var Mm=function(t){return{option:1024&t[0]}},Sm=function(t){return{option:t[27]}};function Rm(t,e,n){var r=t.slice();return r[27]=e[n],r}var Im=function(t){return{option:1024&t[0]}},Lm=function(t){return{option:t[27]}},Om=function(t){return{option:1024&t[0]}},Pm=function(t){return{option:t[27]}};function Am(t){for(var e,n,r,i,o,a=[],u=new Map,c=t[1]&&Tm(t),s=t[10],l=function(t){return t[27].id},f=0;f<s.length;f+=1){var d=Em(t,s,f),h=l(d);u.set(h,a[f]=qm(h,d))}return{c:function(){e=Xl("fieldset"),c&&c.c(),n=tf(),r=Xl("ul");for(var o=0;o<a.length;o+=1)a[o].c();of(r,"class","PinturaRadioGroupOptions"),of(e,"class",i=Vp(["PinturaRadioGroup",t[3]])),of(e,"data-layout",t[5]),of(e,"title",t[7])},m:function(t,i){Kl(t,e,i),c&&c.m(e,null),Wl(e,n),Wl(e,r);for(var u=0;u<a.length;u+=1)a[u].m(r,null);o=!0},p:function(t,f){t[1]?c?c.p(t,f):((c=Tm(t)).c(),c.m(e,n)):c&&(c.d(1),c=null),8419153&f[0]&&(s=t[10],Hf(),a=Jf(a,f,l,1,t,s,u,r,Xf,qm,null,Em),Vf()),(!o||8&f[0]&&i!==(i=Vp(["PinturaRadioGroup",t[3]])))&&of(e,"class",i),(!o||32&f[0])&&of(e,"data-layout",t[5]),(!o||128&f[0])&&of(e,"title",t[7])},i:function(t){if(!o){for(var e=0;e<s.length;e+=1)Uf(a[e]);o=!0}},o:function(t){for(var e=0;e<a.length;e+=1)Wf(a[e]);o=!1},d:function(t){t&&Yl(e),c&&c.d();for(var n=0;n<a.length;n+=1)a[n].d()}}}function Tm(t){var e,n,r;return{c:function(){e=Xl("legend"),n=Ql(t[1]),of(e,"class",r=t[2]&&"implicit")},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,i){2&i[0]&&uf(n,t[1]),4&i[0]&&r!==(r=t[2]&&"implicit")&&of(e,"class",r)},d:function(t){t&&Yl(e)}}}function jm(t){var e,n;return e=new bm({props:{name:t[4],label:t[27].label,id:t[27].id,value:t[27].value,disabled:t[27].disabled,hidden:t[27].hidden,class:t[8],checked:t[12](t[27])===t[0],onkeydown:t[13](t[27]),onclick:t[14](t[27]),$$slots:{default:[Fm]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]&&(r.name=t[4]),1024&n[0]&&(r.label=t[27].label),1024&n[0]&&(r.id=t[27].id),1024&n[0]&&(r.value=t[27].value),1024&n[0]&&(r.disabled=t[27].disabled),1024&n[0]&&(r.hidden=t[27].hidden),256&n[0]&&(r.class=t[8]),1025&n[0]&&(r.checked=t[12](t[27])===t[0]),1024&n[0]&&(r.onkeydown=t[13](t[27])),1024&n[0]&&(r.onclick=t[14](t[27])),8389696&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Bm(t){for(var e,n,r,i,o,a,u=[],c=new Map,s=t[22].group,l=Ll(s,t,t[23],Pm),f=l||function(t){var e,n,r=t[27].label+"";return{c:function(){e=Xl("span"),n=Ql(r),of(e,"class","PinturaRadioGroupOptionGroupLabel")},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,e){1024&e[0]&&r!==(r=t[27].label+"")&&uf(n,r)},d:function(t){t&&Yl(e)}}}(t),d=t[27].options,h=function(t){return t[27].id},p=0;p<d.length;p+=1){var v=Rm(t,d,p),m=h(v);c.set(m,u[p]=Wm(m,v))}return{c:function(){e=Xl("li"),f&&f.c(),n=tf(),r=Xl("ul");for(var a=0;a<u.length;a+=1)u[a].c();i=tf(),of(r,"class","PinturaRadioGroupOptions"),of(e,"class",o=Vp(["PinturaRadioGroupOptionGroup",t[9]]))},m:function(t,o){Kl(t,e,o),f&&f.m(e,null),Wl(e,n),Wl(e,r);for(var c=0;c<u.length;c+=1)u[c].m(r,null);Wl(e,i),a=!0},p:function(t,n){l?l.p&&(!a||8389632&n[0])&&Al(l,s,t,t[23],a?Pl(s,t[23],n,Om):Tl(t[23]),Pm):f&&f.p&&(!a||1024&n[0])&&f.p(t,a?n:[-1,-1]),8418641&n[0]&&(d=t[27].options,Hf(),u=Jf(u,n,h,1,t,d,c,r,Xf,Wm,null,Rm),Vf()),(!a||512&n[0]&&o!==(o=Vp(["PinturaRadioGroupOptionGroup",t[9]])))&&of(e,"class",o)},i:function(t){if(!a){Uf(f,t);for(var e=0;e<d.length;e+=1)Uf(u[e]);a=!0}},o:function(t){Wf(f,t);for(var e=0;e<u.length;e+=1)Wf(u[e]);a=!1},d:function(t){t&&Yl(e),f&&f.d(t);for(var n=0;n<u.length;n+=1)u[n].d()}}}function Dm(t){var e,n;return e=new yv({props:{$$slots:{default:[Nm]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Nm(t){var e,n=t[27].icon+"";return{c:function(){e=Jl("g")},m:function(t,r){Kl(t,e,r),e.innerHTML=n},p:function(t,r){1024&r[0]&&n!==(n=t[27].icon+"")&&(e.innerHTML=n)},d:function(t){t&&Yl(e)}}}function zm(t){var e,n,r=t[27].label+"";return{c:function(){e=Xl("span"),n=Ql(r),of(e,"class",t[6])},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,i){1024&i[0]&&r!==(r=t[27].label+"")&&uf(n,r),64&i[0]&&of(e,"class",t[6])},d:function(t){t&&Yl(e)}}}function Fm(t){var e,n=t[22].option,r=Ll(n,t,t[23],Sm),i=r||function(t){var e,n,r,i=t[27].icon&&Dm(t),o=!t[27].hideLabel&&zm(t);return{c:function(){i&&i.c(),e=tf(),o&&o.c(),n=tf()},m:function(t,a){i&&i.m(t,a),Kl(t,e,a),o&&o.m(t,a),Kl(t,n,a),r=!0},p:function(t,r){t[27].icon?i?(i.p(t,r),1024&r[0]&&Uf(i,1)):((i=Dm(t)).c(),Uf(i,1),i.m(e.parentNode,e)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf()),t[27].hideLabel?o&&(o.d(1),o=null):o?o.p(t,r):((o=zm(t)).c(),o.m(n.parentNode,n))},i:function(t){r||(Uf(i),r=!0)},o:function(t){Wf(i),r=!1},d:function(t){i&&i.d(t),t&&Yl(e),o&&o.d(t),t&&Yl(n)}}}(t);return{c:function(){i&&i.c()},m:function(t,n){i&&i.m(t,n),e=!0},p:function(t,o){r?r.p&&(!e||8389632&o[0])&&Al(r,n,t,t[23],e?Pl(n,t[23],o,Mm):Tl(t[23]),Sm):i&&i.p&&(!e||1088&o[0])&&i.p(t,e?o:[-1,-1])},i:function(t){e||(Uf(i,t),e=!0)},o:function(t){Wf(i,t),e=!1},d:function(t){i&&i.d(t)}}}function Zm(t){var e,n;return e=new yv({props:{$$slots:{default:[Hm]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Hm(t){var e,n=t[27].icon+"";return{c:function(){e=Jl("g")},m:function(t,r){Kl(t,e,r),e.innerHTML=n},p:function(t,r){1024&r[0]&&n!==(n=t[27].icon+"")&&(e.innerHTML=n)},d:function(t){t&&Yl(e)}}}function Vm(t){var e,n,r=t[27].label+"";return{c:function(){e=Xl("span"),n=Ql(r),of(e,"class",t[6])},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,i){1024&i[0]&&r!==(r=t[27].label+"")&&uf(n,r),64&i[0]&&of(e,"class",t[6])},d:function(t){t&&Yl(e)}}}function Um(t){var e,n=t[22].option,r=Ll(n,t,t[23],Lm),i=r||function(t){var e,n,r,i=t[27].icon&&Zm(t),o=!t[27].hideLabel&&Vm(t);return{c:function(){i&&i.c(),e=tf(),o&&o.c(),n=tf()},m:function(t,a){i&&i.m(t,a),Kl(t,e,a),o&&o.m(t,a),Kl(t,n,a),r=!0},p:function(t,r){t[27].icon?i?(i.p(t,r),1024&r[0]&&Uf(i,1)):((i=Zm(t)).c(),Uf(i,1),i.m(e.parentNode,e)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf()),t[27].hideLabel?o&&(o.d(1),o=null):o?o.p(t,r):((o=Vm(t)).c(),o.m(n.parentNode,n))},i:function(t){r||(Uf(i),r=!0)},o:function(t){Wf(i),r=!1},d:function(t){i&&i.d(t),t&&Yl(e),o&&o.d(t),t&&Yl(n)}}}(t);return{c:function(){i&&i.c()},m:function(t,n){i&&i.m(t,n),e=!0},p:function(t,o){r?r.p&&(!e||8389632&o[0])&&Al(r,n,t,t[23],e?Pl(n,t[23],o,Im):Tl(t[23]),Lm):i&&i.p&&(!e||1088&o[0])&&i.p(t,e?o:[-1,-1])},i:function(t){e||(Uf(i,t),e=!0)},o:function(t){Wf(i,t),e=!1},d:function(t){i&&i.d(t)}}}function Wm(t,e){var n,r,i;return r=new bm({props:{name:e[4],label:e[27].label,id:e[27].id,value:e[27].value,disabled:e[27].disabled,hidden:e[27].hidden,class:e[8],checked:e[12](e[27])===e[0],onkeydown:e[13](e[27]),onclick:e[14](e[27]),$$slots:{default:[Um]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=ef(),nd(r.$$.fragment),this.first=n},m:function(t,e){Kl(t,n,e),rd(r,t,e),i=!0},p:function(t,n){e=t;var i={};16&n[0]&&(i.name=e[4]),1024&n[0]&&(i.label=e[27].label),1024&n[0]&&(i.id=e[27].id),1024&n[0]&&(i.value=e[27].value),1024&n[0]&&(i.disabled=e[27].disabled),1024&n[0]&&(i.hidden=e[27].hidden),256&n[0]&&(i.class=e[8]),1025&n[0]&&(i.checked=e[12](e[27])===e[0]),1024&n[0]&&(i.onkeydown=e[13](e[27])),1024&n[0]&&(i.onclick=e[14](e[27])),8389696&n[0]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i:function(t){i||(Uf(r.$$.fragment,t),i=!0)},o:function(t){Wf(r.$$.fragment,t),i=!1},d:function(t){t&&Yl(n),id(r,t)}}}function qm(t,e){var n,r,i,o,a,u=[Bm,jm],c=[];function s(t,e){return t[27].options?0:1}return r=s(e),i=c[r]=u[r](e),{key:t,first:null,c:function(){n=ef(),i.c(),o=ef(),this.first=n},m:function(t,e){Kl(t,n,e),c[r].m(t,e),Kl(t,o,e),a=!0},p:function(t,n){var a=r;(r=s(e=t))===a?c[r].p(e,n):(Hf(),Wf(c[a],1,1,(function(){c[a]=null})),Vf(),(i=c[r])?i.p(e,n):(i=c[r]=u[r](e)).c(),Uf(i,1),i.m(o.parentNode,o))},i:function(t){a||(Uf(i),a=!0)},o:function(t){Wf(i),a=!1},d:function(t){t&&Yl(n),c[r].d(t),t&&Yl(o)}}}function Gm(t){var e,n,r,i=t[11].length&&Am(t);return{c:function(){i&&i.c(),e=tf(),n=ef()},m:function(t,o){i&&i.m(t,o),Kl(t,e,o),Kl(t,n,o),r=!0},p:function(t,n){t[11].length?i?(i.p(t,n),2048&n[0]&&Uf(i,1)):((i=Am(t)).c(),Uf(i,1),i.m(e.parentNode,e)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf())},i:function(t){r||(Uf(i),Uf(false),r=!0)},o:function(t){Wf(i),Wf(false),r=!1},d:function(t){i&&i.d(t),t&&Yl(e),t&&Yl(n)}}}function Km(t,e,n){var r,i,o,a=e.$$slots,u=void 0===a?{}:a,c=e.$$scope,s=xf(),l=e.label,f=void 0===l?void 0:l,d=e.hideLabel,h=void 0===d||d,p=e.class,v=void 0===p?void 0:p,m=e.name,g=void 0===m?"radio-group-"+Bo():m,y=e.selectedIndex,b=void 0===y?-1:y,w=e.options,x=void 0===w?[]:w,$=e.onchange,C=void 0===$?void 0:$,_=e.layout,k=void 0===_?void 0:_,E=e.optionMapper,M=void 0===E?void 0:E,S=e.optionFilter,R=void 0===S?void 0:S,I=e.value,L=void 0===I?void 0:I,O=e.optionLabelClass,P=void 0===O?void 0:O,A=e.title,T=void 0===A?void 0:A,j=e.locale,B=void 0===j?void 0:j,D=e.optionClass,N=void 0===D?void 0:D,z=e.optionGroupClass,F=void 0===z?void 0:z,Z=function(t){return o.findIndex((function(e){return e.id===t.id}))},H=function(t,e){n(0,b=Z(t));var r=Object.assign({index:b},t);!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t&&t.apply(void 0,n)}(C,r,e),s("change",r)};return t.$$set=function(t){"label"in t&&n(1,f=t.label),"hideLabel"in t&&n(2,h=t.hideLabel),"class"in t&&n(3,v=t.class),"name"in t&&n(4,g=t.name),"selectedIndex"in t&&n(0,b=t.selectedIndex),"options"in t&&n(15,x=t.options),"onchange"in t&&n(16,C=t.onchange),"layout"in t&&n(5,k=t.layout),"optionMapper"in t&&n(17,M=t.optionMapper),"optionFilter"in t&&n(18,R=t.optionFilter),"value"in t&&n(19,L=t.value),"optionLabelClass"in t&&n(6,P=t.optionLabelClass),"title"in t&&n(7,T=t.title),"locale"in t&&n(20,B=t.locale),"optionClass"in t&&n(8,N=t.optionClass),"optionGroupClass"in t&&n(9,F=t.optionGroupClass),"$$scope"in t&&n(23,c=t.$$scope)},t.$$.update=function(){1343488&t.$$.dirty[0]&&n(11,r=_m(R?x.filter(R):x,B)),133120&t.$$.dirty[0]&&n(10,i=function(t,e){void 0===t&&(t=[]);var n=0;return t.map((function(t){return n++,Pc(t)?Pc(t[1])?{id:n,label:t[0],options:t[1].map((function(t){return xm(t,++n,e)}))}:xm(t,n,e):t.options?{id:t.id||n,label:t.label,options:t.options.map((function(t){return xm(t,++n,e)}))}:xm(t,n,e)}))}(r,M)),1024&t.$$.dirty[0]&&n(21,o=wm(i)),2654209&t.$$.dirty[0]&&b<0&&(n(0,b=o.findIndex((function(t){return km(t.value,L)}))),b<0&&n(0,b=function(t){return t.findIndex((function(t){return void 0===t[0]}))}(x)))},[b,f,h,v,g,k,P,T,N,F,i,r,Z,function(t){return function(e){var n;(n=e.key,/enter| /i.test(n))&&H(t,e)}},function(t){return function(e){H(t,e)}},x,C,M,R,L,B,o,u,c]}var Ym=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Km,Gm,Ml,{label:1,hideLabel:2,class:3,name:4,selectedIndex:0,options:15,onchange:16,layout:5,optionMapper:17,optionFilter:18,value:19,optionLabelClass:6,title:7,locale:20,optionClass:8,optionGroupClass:9},null,[-1,-1]),n}return qi(e,t),e}(ad),Xm=function(t){return{}},Jm=function(t){return{}};function Qm(t){var e,n;return e=new yv({props:{class:"PinturaButtonIcon",$$slots:{default:[tg]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};268435520&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function tg(t){var e;return{c:function(){e=Jl("g")},m:function(n,r){Kl(n,e,r),e.innerHTML=t[6]},p:function(t,n){64&n&&(e.innerHTML=t[6])},d:function(t){t&&Yl(e)}}}function eg(t){var e,n,r,i,o,a,u,c=(t[2]||t[18])+"",s=t[6]&&Qm(t);return{c:function(){e=Xl("span"),s&&s.c(),n=tf(),of(r=Xl("span"),"class",i=Vp(["PinturaButtonLabel",t[3],t[5]&&"implicit"])),of(e,"slot","label"),of(e,"title",o=$m(t[1],t[15])),of(e,"class",a=Vp(["PinturaButtonInner",t[4]]))},m:function(t,i){Kl(t,e,i),s&&s.m(e,null),Wl(e,n),Wl(e,r),r.innerHTML=c,u=!0},p:function(t,l){t[6]?s?(s.p(t,l),64&l&&Uf(s,1)):((s=Qm(t)).c(),Uf(s,1),s.m(e,n)):s&&(Hf(),Wf(s,1,1,(function(){s=null})),Vf()),(!u||262148&l)&&c!==(c=(t[2]||t[18])+"")&&(r.innerHTML=c),(!u||40&l&&i!==(i=Vp(["PinturaButtonLabel",t[3],t[5]&&"implicit"])))&&of(r,"class",i),(!u||32770&l&&o!==(o=$m(t[1],t[15])))&&of(e,"title",o),(!u||16&l&&a!==(a=Vp(["PinturaButtonInner",t[4]])))&&of(e,"class",a)},i:function(t){u||(Uf(s),u=!0)},o:function(t){Wf(s),u=!1},d:function(t){t&&Yl(e),s&&s.d()}}}function ng(t){var e,n,r=t[30].label+"";return{c:function(){e=Xl("span"),n=Ql(r),of(e,"slot","group")},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,e){1073741824&e&&r!==(r=t[30].label+"")&&uf(n,r)},d:function(t){t&&Yl(e)}}}function rg(t){var e,n;return e=new yv({props:{style:Oo(t[13])?t[13](t[30].value):t[13],$$slots:{default:[ig]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};1073750016&n&&(r.style=Oo(t[13])?t[13](t[30].value):t[13]),1342177280&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function ig(t){var e,n=t[30].icon+"";return{c:function(){e=Jl("g")},m:function(t,r){Kl(t,e,r),e.innerHTML=n},p:function(t,r){1073741824&r&&n!==(n=t[30].icon+"")&&(e.innerHTML=n)},d:function(t){t&&Yl(e)}}}function og(t){var e,n=t[30].sublabel+"";return{c:function(){of(e=Xl("span"),"class","PinturaDropdownOptionSublabel")},m:function(t,r){Kl(t,e,r),e.innerHTML=n},p:function(t,r){1073741824&r&&n!==(n=t[30].sublabel+"")&&(e.innerHTML=n)},d:function(t){t&&Yl(e)}}}function ag(t){var e,n,r,i,o,a,u,c,s=t[30].label+"",l=t[30].icon&&rg(t),f=t[30].sublabel&&og(t);return{c:function(){e=Xl("span"),l&&l.c(),n=tf(),r=Xl("span"),i=new sf(!1),o=tf(),f&&f.c(),i.a=o,of(r,"style",a=Oo(t[14])?t[14](t[30].value):t[14]),of(r,"class",u=Vp(["PinturaDropdownOptionLabel",t[10]])),of(e,"slot","option")},m:function(t,a){Kl(t,e,a),l&&l.m(e,null),Wl(e,n),Wl(e,r),i.m(s,r),Wl(r,o),f&&f.m(r,null),c=!0},p:function(t,o){t[30].icon?l?(l.p(t,o),1073741824&o&&Uf(l,1)):((l=rg(t)).c(),Uf(l,1),l.m(e,n)):l&&(Hf(),Wf(l,1,1,(function(){l=null})),Vf()),(!c||1073741824&o)&&s!==(s=t[30].label+"")&&i.p(s),t[30].sublabel?f?f.p(t,o):((f=og(t)).c(),f.m(r,null)):f&&(f.d(1),f=null),(!c||1073758208&o&&a!==(a=Oo(t[14])?t[14](t[30].value):t[14]))&&of(r,"style",a),(!c||1024&o&&u!==(u=Vp(["PinturaDropdownOptionLabel",t[10]])))&&of(r,"class",u)},i:function(t){c||(Uf(l),c=!0)},o:function(t){Wf(l),c=!1},d:function(t){t&&Yl(e),l&&l.d(),f&&f.d()}}}function ug(t){var e,n,r,i,o,a,u=t[26].controls,c=Ll(u,t,t[28],Jm);return r=new Ym({props:{class:"PinturaOptionsList PinturaScrollableContent",name:t[7],value:t[9],selectedIndex:t[8],optionFilter:t[11],optionMapper:t[12],optionLabelClass:Vp(["PinturaDropdownOptionLabel",t[10]]),optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:t[16],onchange:t[19],$$slots:{option:[ag,function(t){return{30:t.option}},function(t){return t.option?1073741824:0}],group:[ng,function(t){return{30:t.option}},function(t){return t.option?1073741824:0}]},$$scope:{ctx:t}}}),{c:function(){e=Xl("div"),c&&c.c(),n=tf(),nd(r.$$.fragment),of(e,"slot","details"),of(e,"class","PinturaOptionsListWrapper")},m:function(u,s){Kl(u,e,s),c&&c.m(e,null),Wl(e,n),rd(r,e,null),i=!0,o||(a=nf(e,"keydown",t[21]),o=!0)},p:function(t,e){c&&c.p&&(!i||268435456&e)&&Al(c,u,t,t[28],i?Pl(u,t[28],e,Xm):Tl(t[28]),Jm);var n={};128&e&&(n.name=t[7]),512&e&&(n.value=t[9]),256&e&&(n.selectedIndex=t[8]),2048&e&&(n.optionFilter=t[11]),4096&e&&(n.optionMapper=t[12]),1024&e&&(n.optionLabelClass=Vp(["PinturaDropdownOptionLabel",t[10]])),65536&e&&(n.options=t[16]),1342202880&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i:function(t){i||(Uf(c,t),Uf(r.$$.fragment,t),i=!0)},o:function(t){Wf(c,t),Wf(r.$$.fragment,t),i=!1},d:function(t){t&&Yl(e),c&&c.d(t),id(r),o=!1,a()}}}function cg(t){var e,n,r;function i(e){t[27](e)}var o={onshow:t[20],buttonClass:Vp(["PinturaDropdownButton",t[0],t[5]&&"PinturaDropdownIconOnly"]),$$slots:{details:[ug],label:[eg]},$$scope:{ctx:t}};return void 0!==t[17]&&(o.isActive=t[17]),e=new vm({props:o}),Ef.push((function(){return ed(e,"isActive",i)})),{c:function(){nd(e.$$.fragment)},m:function(t,n){rd(e,t,n),r=!0},p:function(t,r){var i=r[0],o={};33&i&&(o.buttonClass=Vp(["PinturaDropdownButton",t[0],t[5]&&"PinturaDropdownIconOnly"])),268828670&i&&(o.$$scope={dirty:i,ctx:t}),!n&&131072&i&&(n=!0,o.isActive=t[17],Af((function(){return n=!1}))),e.$set(o)},i:function(t){r||(Uf(e.$$.fragment,t),r=!0)},o:function(t){Wf(e.$$.fragment,t),r=!1},d:function(t){id(e,t)}}}function sg(t,e,n){var r,i,o,a=e.$$slots,u=void 0===a?{}:a,c=e.$$scope,s=e.class,l=void 0===s?void 0:s,f=e.title,d=void 0===f?void 0:f,h=e.label,p=void 0===h?void 0:h,v=e.labelClass,m=void 0===v?void 0:v,g=e.innerClass,y=void 0===g?void 0:g,b=e.hideLabel,w=void 0!==b&&b,x=e.icon,$=void 0===x?void 0:x,C=e.name,_=void 0===C?void 0:C,k=e.options,E=void 0===k?[]:k,M=e.selectedIndex,S=void 0===M?-1:M,R=e.value,I=void 0===R?void 0:R,L=e.optionLabelClass,O=void 0===L?void 0:L,P=e.optionFilter,A=void 0===P?void 0:P,T=e.optionMapper,j=void 0===T?void 0:T,B=e.optionIconStyle,D=void 0===B?void 0:B,N=e.optionLabelStyle,z=void 0===N?void 0:N,F=e.locale,Z=void 0===F?void 0:F,H=e.onchange,V=void 0===H?uo:H,U=e.onload,W=void 0===U?uo:U,q=e.ondestroy,G=void 0===q?uo:q;return yf((function(){return W({options:E})})),wf((function(){return G({options:E})})),t.$$set=function(t){"class"in t&&n(0,l=t.class),"title"in t&&n(1,d=t.title),"label"in t&&n(2,p=t.label),"labelClass"in t&&n(3,m=t.labelClass),"innerClass"in t&&n(4,y=t.innerClass),"hideLabel"in t&&n(5,w=t.hideLabel),"icon"in t&&n(6,$=t.icon),"name"in t&&n(7,_=t.name),"options"in t&&n(22,E=t.options),"selectedIndex"in t&&n(8,S=t.selectedIndex),"value"in t&&n(9,I=t.value),"optionLabelClass"in t&&n(10,O=t.optionLabelClass),"optionFilter"in t&&n(11,A=t.optionFilter),"optionMapper"in t&&n(12,j=t.optionMapper),"optionIconStyle"in t&&n(13,D=t.optionIconStyle),"optionLabelStyle"in t&&n(14,z=t.optionLabelStyle),"locale"in t&&n(15,Z=t.locale),"onchange"in t&&n(23,V=t.onchange),"onload"in t&&n(24,W=t.onload),"ondestroy"in t&&n(25,G=t.ondestroy),"$$scope"in t&&n(28,c=t.$$scope)},t.$$.update=function(){4227072&t.$$.dirty&&n(16,r=Z?_m(E,Z):E),66048&t.$$.dirty&&n(18,i=r.reduce((function(t,e){if(t)return t;var n=Array.isArray(e)?e:[e,e],r=n[0],i=n[1];return km(r,I)?i:void 0}),void 0)||function(t){var e=t.find((function(t){return void 0===t[0]}));if(e)return e[1]}(r)||I)},[l,d,p,m,y,w,$,_,S,I,O,A,j,D,z,Z,r,o,i,function(t){n(18,i=t.value),V(t),n(17,o=!1)},function(t){var e=t.e,n=t.panel;if(e&&e.key&&/up|down/i.test(e.key))return rm(n.querySelector("input:not([disabled])"));rm(n.querySelector("fieldset"))},function(t){/tab/i.test(t.key)&&t.preventDefault()},E,V,W,G,u,function(t){n(17,o=t)},c]}var lg=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,sg,cg,Ml,{class:0,title:1,label:2,labelClass:3,innerClass:4,hideLabel:5,icon:6,name:7,options:22,selectedIndex:8,value:9,optionLabelClass:10,optionFilter:11,optionMapper:12,optionIconStyle:13,optionLabelStyle:14,locale:15,onchange:23,onload:24,ondestroy:25}),n}return qi(e,t),e}(ad);function fg(t){var e;return{c:function(){of(e=Xl("div"),"slot","details")},m:function(n,r){Kl(n,e,r),t[10](e)},p:wl,d:function(n){n&&Yl(e),t[10](null)}}}function dg(t){var e,n,r;function i(e){t[11](e)}var o={buttonLabel:t[0],buttonClass:t[1],onshow:t[2],onhide:t[3],$$slots:{details:[fg]},$$scope:{ctx:t}};return void 0!==t[5]&&(o.isActive=t[5]),e=new vm({props:o}),Ef.push((function(){return ed(e,"isActive",i)})),{c:function(){nd(e.$$.fragment)},m:function(t,n){rd(e,t,n),r=!0},p:function(t,r){var i=r[0],o={};1&i&&(o.buttonLabel=t[0]),2&i&&(o.buttonClass=t[1]),4&i&&(o.onshow=t[2]),8&i&&(o.onhide=t[3]),4112&i&&(o.$$scope={dirty:i,ctx:t}),!n&&32&i&&(n=!0,o.isActive=t[5],Af((function(){return n=!1}))),e.$set(o)},i:function(t){r||(Uf(e.$$.fragment,t),r=!0)},o:function(t){Wf(e.$$.fragment,t),r=!1},d:function(t){id(e,t)}}}function hg(t,e,n){var r,i=e.buttonLabel,o=void 0===i?void 0:i,a=e.buttonClass,u=void 0===a?void 0:a,c=e.root,s=void 0===c?void 0:c,l=e.ondestroy,f=void 0===l?uo:l,d=e.onshow,h=void 0===d?uo:d,p=e.onhide,v=void 0===p?uo:p,m=!1;return wf(f),t.$$set=function(t){"buttonLabel"in t&&n(0,o=t.buttonLabel),"buttonClass"in t&&n(1,u=t.buttonClass),"root"in t&&n(6,s=t.root),"ondestroy"in t&&n(7,f=t.ondestroy),"onshow"in t&&n(2,h=t.onshow),"onhide"in t&&n(3,v=t.onhide)},t.$$.update=function(){80&t.$$.dirty&&r&&s&&r.firstChild!==s&&(r.hasChildNodes()?r.replaceChild(s,r.firstChild):r.append(s))},[o,u,h,v,r,m,s,f,function(){return n(5,m=!1)},function(){return n(5,m=!0)},function(t){Ef[t?"unshift":"push"]((function(){n(4,r=t)}))},function(t){n(5,m=t)}]}var pg=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,hg,dg,Ml,{buttonLabel:0,buttonClass:1,root:6,ondestroy:7,onshow:2,onhide:3,hide:8,show:9}),n}return qi(e,t),Hi(e,[{key:"hide",get:function(){return this.$$.ctx[8]}},{key:"show",get:function(){return this.$$.ctx[9]}}]),e}(ad),vg=function(t,e,n){return(t-e)/(n-e)},mg=function(t){return{}},gg=function(t){return{}};function yg(t){var e,n,r,i,o,a,u,c;return n=new yv({props:{$$slots:{default:[bg]},$$scope:{ctx:t}}}),o=new yv({props:{$$slots:{default:[wg]},$$scope:{ctx:t}}}),{c:function(){e=Xl("button"),nd(n.$$.fragment),r=tf(),i=Xl("button"),nd(o.$$.fragment),of(e,"type","button"),of(e,"aria-label","Increase"),of(i,"type","button"),of(i,"aria-label","Decrease")},m:function(s,l){Kl(s,e,l),rd(n,e,null),Kl(s,r,l),Kl(s,i,l),rd(o,i,null),a=!0,u||(c=[nf(e,"pointerdown",t[20](1)),nf(i,"pointerdown",t[20](-1))],u=!0)},p:function(t,e){var r={};128&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);var i={};128&e[1]&&(i.$$scope={dirty:e,ctx:t}),o.$set(i)},i:function(t){a||(Uf(n.$$.fragment,t),Uf(o.$$.fragment,t),a=!0)},o:function(t){Wf(n.$$.fragment,t),Wf(o.$$.fragment,t),a=!1},d:function(t){t&&Yl(e),id(n),t&&Yl(r),t&&Yl(i),id(o),u=!1,kl(c)}}}function bg(t){var e;return{c:function(){of(e=Jl("path"),"d","M8 12 h8 M12 8 v8")},m:function(t,n){Kl(t,e,n)},p:wl,d:function(t){t&&Yl(e)}}}function wg(t){var e;return{c:function(){of(e=Jl("path"),"d","M9 12 h6")},m:function(t,n){Kl(t,e,n)},p:wl,d:function(t){t&&Yl(e)}}}function xg(t){var e,n,r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y=t[36].default,b=Ll(y,t,t[38],null),w=t[36].knob,x=Ll(w,t,t[38],gg),$=t[9]&&yg(t);return{c:function(){e=Xl("div"),n=Xl("div"),r=Xl("input"),o=tf(),a=Xl("div"),b&&b.c(),c=tf(),s=Xl("div"),l=Xl("div"),x&&x.c(),h=tf(),$&&$.c(),of(r,"type","range"),of(r,"id",t[3]),of(r,"min",t[0]),of(r,"max",t[1]),of(r,"step",t[2]),r.value=t[14],of(r,"style",i=t[10]?"pointer-events:none":""),of(a,"class",u=Vp(["PinturaSliderTrack",t[5]])),of(a,"style",t[4]),of(l,"class",f=Vp(["PinturaSliderKnob",t[7]])),of(l,"style",t[6]),of(s,"class","PinturaSliderKnobController"),of(s,"style",t[17]),of(n,"class","PinturaSliderControl"),of(n,"style",d="--slider-position:"+Math.round(t[15])),of(e,"class",p=Vp(["PinturaSlider",t[12]])),of(e,"data-direction",t[8])},m:function(i,u){Kl(i,e,u),Wl(e,n),Wl(n,r),t[37](r),Wl(n,o),Wl(n,a),b&&b.m(a,null),Wl(n,c),Wl(n,s),Wl(s,l),x&&x.m(l,null),Wl(e,h),$&&$.m(e,null),v=!0,m||(g=[nf(r,"input",t[18]),nf(r,"nudge",t[19]),Nl(Rv.call(null,r)),nf(n,"pointerdown",(function(){El(t[11]&&t[13])&&(t[11]&&t[13]).apply(this,arguments)}))],m=!0)},p:function(o,c){t=o,(!v||8&c[0])&&of(r,"id",t[3]),(!v||1&c[0])&&of(r,"min",t[0]),(!v||2&c[0])&&of(r,"max",t[1]),(!v||4&c[0])&&of(r,"step",t[2]),(!v||16384&c[0])&&(r.value=t[14]),(!v||1024&c[0]&&i!==(i=t[10]?"pointer-events:none":""))&&of(r,"style",i),b&&b.p&&(!v||128&c[1])&&Al(b,y,t,t[38],v?Pl(y,t[38],c,null):Tl(t[38]),null),(!v||32&c[0]&&u!==(u=Vp(["PinturaSliderTrack",t[5]])))&&of(a,"class",u),(!v||16&c[0])&&of(a,"style",t[4]),x&&x.p&&(!v||128&c[1])&&Al(x,w,t,t[38],v?Pl(w,t[38],c,mg):Tl(t[38]),gg),(!v||128&c[0]&&f!==(f=Vp(["PinturaSliderKnob",t[7]])))&&of(l,"class",f),(!v||64&c[0])&&of(l,"style",t[6]),(!v||131072&c[0])&&of(s,"style",t[17]),(!v||32768&c[0]&&d!==(d="--slider-position:"+Math.round(t[15])))&&of(n,"style",d),t[9]?$?($.p(t,c),512&c[0]&&Uf($,1)):(($=yg(t)).c(),Uf($,1),$.m(e,null)):$&&(Hf(),Wf($,1,1,(function(){$=null})),Vf()),(!v||4096&c[0]&&p!==(p=Vp(["PinturaSlider",t[12]])))&&of(e,"class",p),(!v||256&c[0])&&of(e,"data-direction",t[8])},i:function(t){v||(Uf(b,t),Uf(x,t),Uf($),v=!0)},o:function(t){Wf(b,t),Wf(x,t),Wf($),v=!1},d:function(n){n&&Yl(e),t[37](null),b&&b.d(n),x&&x.d(n),$&&$.d(),m=!1,kl(g)}}}function $g(t,e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w=e.$$slots,x=void 0===w?{}:w,$=e.$$scope,C=e.min,_=void 0===C?0:C,k=e.max,E=void 0===k?100:k,M=e.step,S=void 0===M?1:M,R=e.id,I=void 0===R?void 0:R,L=e.value,O=void 0===L?0:L,P=e.valueMin,A=void 0===P?void 0:P,T=e.valueMax,j=void 0===T?void 0:T,B=e.trackStyle,D=void 0===B?void 0:B,N=e.trackClass,z=void 0===N?void 0:N,F=e.knobStyle,Z=void 0===F?void 0:F,H=e.knobClass,V=void 0===H?void 0:H,U=e.ongrab,W=void 0===U?uo:U,q=e.onchange,G=void 0===q?uo:q,K=e.onrelease,Y=void 0===K?uo:K,X=e.onexceed,J=void 0===X?uo:X,Q=e.direction,tt=void 0===Q?"x":Q,et=e.getValue,nt=void 0===et?Xo:et,rt=e.setValue,it=void 0===rt?Xo:rt,ot=e.enableSpinButtons,at=void 0===ot||ot,ut=e.enableForceUseKnob,ct=void 0!==ut&&ut,st=e.enableStopPropagation,lt=void 0===st||st,ft=e.enablePointerdownListener,dt=void 0===ft||ft,ht=e.maxInteractionDistance,pt=void 0===ht?6:ht,vt=e.class,mt=void 0===vt?void 0:vt,gt=function(t){return it(function(t,e){return e=1/e,Math.round(t*e)/e}(Id(t,_,E),S))},yt=function(t,e,r){void 0===r&&(r={});var o=r,a=o.grabbed,u=void 0!==a&&a,c=o.released,s=void 0!==c&&c,l=gt(_+t/e*i),f=A||_,d=j||E;n(21,O=Lo(l)?l:Id(l,f,d)),g!==l&&(g=l,!Lo(l)&&(l<f||l>d)&&J(O,l),O!==m&&(m=O,u&&W(O),G(O),s&&Y(O)))},bt=function(t){var e=t[l]-v;yt(p+e,h)},wt=function t(e){h=void 0,document.documentElement.removeEventListener("pointermove",bt),document.documentElement.removeEventListener("pointerup",t),G(O),Y(O)},xt=function(){n(21,O=gt(r+$t*S)),G(O)},$t=1,Ct=!1,_t=function t(e){clearTimeout(b),Ct||xt(),Y(O),document.removeEventListener("pointerup",t)};return t.$$set=function(t){"min"in t&&n(0,_=t.min),"max"in t&&n(1,E=t.max),"step"in t&&n(2,S=t.step),"id"in t&&n(3,I=t.id),"value"in t&&n(21,O=t.value),"valueMin"in t&&n(22,A=t.valueMin),"valueMax"in t&&n(23,j=t.valueMax),"trackStyle"in t&&n(4,D=t.trackStyle),"trackClass"in t&&n(5,z=t.trackClass),"knobStyle"in t&&n(6,Z=t.knobStyle),"knobClass"in t&&n(7,V=t.knobClass),"ongrab"in t&&n(24,W=t.ongrab),"onchange"in t&&n(25,G=t.onchange),"onrelease"in t&&n(26,Y=t.onrelease),"onexceed"in t&&n(27,J=t.onexceed),"direction"in t&&n(8,tt=t.direction),"getValue"in t&&n(28,nt=t.getValue),"setValue"in t&&n(29,it=t.setValue),"enableSpinButtons"in t&&n(9,at=t.enableSpinButtons),"enableForceUseKnob"in t&&n(10,ct=t.enableForceUseKnob),"enableStopPropagation"in t&&n(30,lt=t.enableStopPropagation),"enablePointerdownListener"in t&&n(11,dt=t.enablePointerdownListener),"maxInteractionDistance"in t&&n(31,pt=t.maxInteractionDistance),"class"in t&&n(12,mt=t.class),"$$scope"in t&&n(38,$=t.$$scope)},t.$$.update=function(){270532608&t.$$.dirty[0]&&n(14,r=void 0!==O?nt(O):0),3&t.$$.dirty[0]&&(i=E-_),16387&t.$$.dirty[0]&&n(33,o=vg(r,_,E)),4&t.$$.dirty[1]&&n(15,a=100*o),256&t.$$.dirty[0]&&n(34,u=tt.toUpperCase()),256&t.$$.dirty[0]&&n(35,c="x"===tt?"Width":"Height"),16&t.$$.dirty[1]&&(s="offset"+c),t.$$.dirty[1],8&t.$$.dirty[1]&&(l="page"+u),32768&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(17,f="transform: translate"+u+"("+a+"%)")},[_,E,S,I,D,z,Z,V,tt,at,ct,dt,mt,function(t){var e=!1;lt&&t.stopPropagation(),clearTimeout(y);var n=d.getBoundingClientRect();if(h=d[s],v=t[l],p=v-n[tt],ct){if(Math.abs(p-o*h)>pt)return;e=!0,t.stopPropagation()}return document.activeElement!==d&&d.focus(),yt(p,h,{grabbed:!0}),document.documentElement.addEventListener("pointermove",bt),document.documentElement.addEventListener("pointerup",wt),e},r,a,d,f,function(t){h||(n(21,O=it(parseFloat(t.target.value))),O!==m&&(m=O,G(O)))},function(t){var e=d[s];yt(r/i*e+t.detail[tt],e),clearTimeout(y),y=setTimeout((function(){Y(O)}),250)},function(t){return function(e){clearTimeout(y),$t=t,Ct=!1,b=setInterval((function(){Ct=!0,xt()}),100),document.addEventListener("pointercancel",_t),document.addEventListener("pointerup",_t)}},O,A,j,W,G,Y,J,nt,it,lt,pt,function(t){var e=d.getBoundingClientRect(),n=t[l]-e[tt],r=d[s];return Math.abs(n-o*r)},o,u,c,x,function(t){Ef[t?"unshift":"push"]((function(){n(16,d=t)}))},$]}var Cg=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,$g,xg,Ml,{min:0,max:1,step:2,id:3,value:21,valueMin:22,valueMax:23,trackStyle:4,trackClass:5,knobStyle:6,knobClass:7,ongrab:24,onchange:25,onrelease:26,onexceed:27,direction:8,getValue:28,setValue:29,enableSpinButtons:9,enableForceUseKnob:10,enableStopPropagation:30,enablePointerdownListener:11,maxInteractionDistance:31,class:12,eventDistanceToKnob:32,handlePointerDown:13},null,[-1,-1]),n}return qi(e,t),Hi(e,[{key:"eventDistanceToKnob",get:function(){return this.$$.ctx[32]}},{key:"handlePointerDown",get:function(){return this.$$.ctx[13]}}]),e}(ad);function _g(t){var e,n;return e=new yv({props:{class:"PinturaButtonIcon",$$slots:{default:[kg]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};524292&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function kg(t){var e;return{c:function(){e=Jl("g")},m:function(n,r){Kl(n,e,r),e.innerHTML=t[2]},p:function(t,n){4&n&&(e.innerHTML=t[2])},d:function(t){t&&Yl(e)}}}function Eg(t){var e,n,r,i,o,a,u,c,s=t[2]&&_g(t);return{c:function(){e=Xl("span"),s&&s.c(),n=tf(),r=Xl("span"),i=Ql(t[8]),of(r,"class",o=Vp(["PinturaButtonLabel",t[3],t[5]&&"implicit"])),of(e,"slot","label"),of(e,"title",a=$m(t[1],t[6])),of(e,"class",u=Vp(["PinturaButtonInner",t[4]]))},m:function(t,o){Kl(t,e,o),s&&s.m(e,null),Wl(e,n),Wl(e,r),Wl(r,i),c=!0},p:function(t,l){t[2]?s?(s.p(t,l),4&l&&Uf(s,1)):((s=_g(t)).c(),Uf(s,1),s.m(e,n)):s&&(Hf(),Wf(s,1,1,(function(){s=null})),Vf()),(!c||256&l)&&uf(i,t[8]),(!c||40&l&&o!==(o=Vp(["PinturaButtonLabel",t[3],t[5]&&"implicit"])))&&of(r,"class",o),(!c||66&l&&a!==(a=$m(t[1],t[6])))&&of(e,"title",a),(!c||16&l&&u!==(u=Vp(["PinturaButtonInner",t[4]])))&&of(e,"class",u)},i:function(t){c||(Uf(s),c=!0)},o:function(t){Wf(s),c=!1},d:function(t){t&&Yl(e),s&&s.d()}}}function Mg(t){for(var e,n,r,i,o,a=[t[11],{value:t[7]},{onchange:t[10]}],u={},c=0;c<a.length;c+=1)u=$l(u,a[c]);return n=new Cg({props:u}),{c:function(){e=Xl("div"),nd(n.$$.fragment),of(e,"slot","details")},m:function(a,u){Kl(a,e,u),rd(n,e,null),r=!0,i||(o=nf(e,"keydown",t[9]),i=!0)},p:function(t,e){var r=3200&e?Qf(a,[2048&e&&td(t[11]),128&e&&{value:t[7]},1024&e&&{onchange:t[10]}]):{};n.$set(r)},i:function(t){r||(Uf(n.$$.fragment,t),r=!0)},o:function(t){Wf(n.$$.fragment,t),r=!1},d:function(t){t&&Yl(e),id(n),i=!1,o()}}}function Sg(t){var e,n;return e=new vm({props:{panelClass:"PinturaSliderPanel",buttonClass:Vp(["PinturaSliderButton",t[0],t[5]&&"PinturaSliderIconOnly"]),$$slots:{details:[Mg],label:[Eg]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r=n[0],i={};33&r&&(i.buttonClass=Vp(["PinturaSliderButton",t[0],t[5]&&"PinturaSliderIconOnly"])),526846&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Rg(t,e,n){var r,i=["class","title","label","icon","labelClass","innerClass","hideLabel","locale","value","onchange"],o=Bl(e,i),a=e.class,u=void 0===a?void 0:a,c=e.title,s=void 0===c?void 0:c,l=e.label,f=void 0===l?Math.round:l,d=e.icon,h=void 0===d?void 0:d,p=e.labelClass,v=void 0===p?void 0:p,m=e.innerClass,g=void 0===m?void 0:m,y=e.hideLabel,b=void 0!==y&&y,w=e.locale,x=void 0===w?void 0:w,$=e.value,C=void 0===$?void 0:$,_=e.onchange,k=void 0===_?uo:_,E=o,M=E.min,S=E.max,R=E.getValue,I=void 0===R?Xo:R,L=function(t){return n(8,r=function(t){return Oo(f)?f(I(t),M,S):f}(t))};return t.$$set=function(t){e=$l($l({},e),jl(t)),n(11,o=Bl(e,i)),"class"in t&&n(0,u=t.class),"title"in t&&n(1,s=t.title),"label"in t&&n(12,f=t.label),"icon"in t&&n(2,h=t.icon),"labelClass"in t&&n(3,v=t.labelClass),"innerClass"in t&&n(4,g=t.innerClass),"hideLabel"in t&&n(5,b=t.hideLabel),"locale"in t&&n(6,x=t.locale),"value"in t&&n(7,C=t.value),"onchange"in t&&n(13,k=t.onchange)},t.$$.update=function(){4224&t.$$.dirty&&L(C)},[u,s,h,v,g,b,x,C,r,function(t){/tab/i.test(t.key)&&t.preventDefault()},function(t){L(t),k(t)},o,f,k]}var Ig=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Rg,Sg,Ml,{class:0,title:1,label:12,icon:2,labelClass:3,innerClass:4,hideLabel:5,locale:6,value:7,onchange:13}),n}return qi(e,t),e}(ad);function Lg(t,e,n){var r=t.slice();return r[9]=e[n][0],r[0]=e[n][1],r[10]=e[n][2],r[2]=e[n][3],r}function Og(t){var e,n,r,i=[t[10]],o=t[3][t[9]]||t[9];function a(t){for(var e={},n=0;n<i.length;n+=1)e=$l(e,i[n]);return{props:e}}return o&&(e=lf(o,a())),{c:function(){e&&nd(e.$$.fragment),n=ef()},m:function(t,i){e&&rd(e,t,i),Kl(t,n,i),r=!0},p:function(t,r){var u=4&r?Qf(i,[td(t[10])]):{};if(o!==(o=t[3][t[9]]||t[9])){if(e){Hf();var c=e;Wf(c.$$.fragment,1,0,(function(){id(c,1)})),Vf()}o?(nd((e=lf(o,a())).$$.fragment),Uf(e.$$.fragment,1),rd(e,n.parentNode,n)):e=null}else o&&e.$set(u)},i:function(t){r||(e&&Uf(e.$$.fragment,t),r=!0)},o:function(t){e&&Wf(e.$$.fragment,t),r=!1},d:function(t){t&&Yl(n),e&&id(e,t)}}}function Pg(t){var e,n;return e=new Qv({props:{name:t[9],attributes:t[4](t[10]),$$slots:{default:[Bg]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.name=t[9]),4&n&&(r.attributes=t[4](t[10])),8196&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Ag(t){var e,n,r=t[10].innerHTML+"";return{c:function(){e=new sf(!1),n=ef(),e.a=n},m:function(t,i){e.m(r,t,i),Kl(t,n,i)},p:function(t,n){4&n&&r!==(r=t[10].innerHTML+"")&&e.p(r)},i:wl,o:wl,d:function(t){t&&Yl(n),t&&e.d()}}}function Tg(t){var e,n=t[10].textContent+"";return{c:function(){e=Ql(n)},m:function(t,n){Kl(t,e,n)},p:function(t,r){4&r&&n!==(n=t[10].textContent+"")&&uf(e,n)},i:wl,o:wl,d:function(t){t&&Yl(e)}}}function jg(t){var e,n;return e=new Fg({props:{items:t[2],discardEmptyItems:!0}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.items=t[2]),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Bg(t){var e,n,r,i,o=[jg,Tg,Ag],a=[];function u(t,e){return t[2]&&t[2].length?0:t[10].textContent?1:t[10].innerHTML?2:-1}return~(e=u(t))&&(n=a[e]=o[e](t)),{c:function(){n&&n.c(),r=tf()},m:function(t,n){~e&&a[e].m(t,n),Kl(t,r,n),i=!0},p:function(t,i){var c=e;(e=u(t))===c?~e&&a[e].p(t,i):(n&&(Hf(),Wf(a[c],1,1,(function(){a[c]=null})),Vf()),~e?((n=a[e])?n.p(t,i):(n=a[e]=o[e](t)).c(),Uf(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){i||(Uf(n),i=!0)},o:function(t){Wf(n),i=!1},d:function(t){~e&&a[e].d(t),t&&Yl(r)}}}function Dg(t,e){var n,r,i,o,a,u,c=[Pg,Og],s=[];function l(t,e){return 4&e&&(r=null),null==r&&(r=!t[5](t[9])),r?0:1}return i=l(e,-1),o=s[i]=c[i](e),{key:t,first:null,c:function(){n=ef(),o.c(),a=ef(),this.first=n},m:function(t,e){Kl(t,n,e),s[i].m(t,e),Kl(t,a,e),u=!0},p:function(t,n){var r=i;(i=l(e=t,n))===r?s[i].p(e,n):(Hf(),Wf(s[r],1,1,(function(){s[r]=null})),Vf(),(o=s[i])?o.p(e,n):(o=s[i]=c[i](e)).c(),Uf(o,1),o.m(a.parentNode,a))},i:function(t){u||(Uf(o),u=!0)},o:function(t){Wf(o),u=!1},d:function(t){t&&Yl(n),s[i].d(t),t&&Yl(a)}}}function Ng(t){for(var e,n,r=[],i=new Map,o=t[2],a=function(t){return t[0]+t[1]},u=0;u<o.length;u+=1){var c=Lg(t,o,u),s=a(c);i.set(s,r[u]=Dg(s,c))}return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=ef()},m:function(t,i){for(var o=0;o<r.length;o+=1)r[o].m(t,i);Kl(t,e,i),n=!0},p:function(t,n){var u=n[0];62&u&&(o=t[2],Hf(),r=Jf(r,u,a,1,t,o,i,e.parentNode,Xf,Dg,e,Lg),Vf())},i:function(t){if(!n){for(var e=0;e<o.length;e+=1)Uf(r[e]);n=!0}},o:function(t){for(var e=0;e<r.length;e+=1)Wf(r[e]);n=!1},d:function(t){for(var n=0;n<r.length;n+=1)r[n].d(t);t&&Yl(e)}}}function zg(t,e,n){var r,i,o=e.items,a=e.discardEmptyItems,u=void 0===a||a,c=e.key,s=void 0===c?"":c,l={Button:Ev,Dropdown:lg,Panel:pg,Slider:Ig},f=function(t){return!Lo(t)||!!l[t]},d=function t(e){if(!e)return!1;var n=e[0],r=e[2],i=e[3],o=void 0===i?[]:i;return!!f(n)||(o.some(t)||r.textContent||r.innerHTML)};return t.$$set=function(t){"items"in t&&n(6,o=t.items),"discardEmptyItems"in t&&n(7,u=t.discardEmptyItems),"key"in t&&n(0,s=t.key)},t.$$.update=function(){1&t.$$.dirty&&n(1,r=s),192&t.$$.dirty&&n(2,i=(o&&u?o.filter(d):o)||[])},[s,r,i,l,function(t){void 0===t&&(t={});var e=t;e.textContent,e.innerHTML;return Fi(e,zi)},f,o,u]}var Fg=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,zg,Ng,Ml,{items:6,discardEmptyItems:7,key:0}),n}return qi(e,t),e}(ad),Zg=["aspectRatio","isRotatedSideways","flip","cropSize"],Hg=Nd.map((function(t){return t[0]})).filter((function(t){return!Zg.includes(t)})),Vg=function(t,e){return new CustomEvent("ping",{detail:{type:t,data:e},cancelable:!0,bubbles:!0})},Ug=function(t){return/textarea/i.test(t.nodeName)||function(t){return/date|email|number|search|text|url/.test(t.type)}(t)||t.isContentEditable},Wg=function(t,e){return(e?Ih(t,e):t).replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()},qg=function(t,e){void 0===e&&(e=Xo);var n=sd(void 0),r=n.subscribe,i=n.set,o=function(t,e){var n=matchMedia(t);return n.addListener(e),e(n),{get matches(){return n.matches},destroy:function(){return n.removeListener(e)}}}(t,(function(t){var n=t.matches;return i(e(n))}));return{subscribe:r,destroy:o.destroy}},Gg=function(){var t=to(Ji().mark((function t(e){return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mo,t.next=3,Eo(e);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Kg=function(t){return/video/.test(t.type)},Yg=function(t){return new Promise((function(e,n){var r=go("video");r.onseeked=function(){var t=go("canvas");Uu(r).then((function(n){var i=n.width,o=n.height;t.width=i,t.height=o;var a=t.getContext("2d",{willReadFrequently:!0}),u=function(){a.drawImage(r,0,0,t.width,t.height);var n=a.getImageData(0,0,t.width,t.height);wo(t),e(n)};Hu()?setTimeout(u,16):u()}))},r.onloadeddata=function(){r.currentTime=0},r.onerror=function(t){n(r.error)},r.src=URL.createObjectURL(t),r.load()}))},Xg=function(t,e,n){return new Promise((function(r,i){to(Ji().mark((function o(){var a,u,c;return Ji().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!Kg(t)){o.next=6;break}return o.t0=r,o.next=4,Yg(t);case 4:o.t1=o.sent,(0,o.t0)(o.t1);case 6:return o.next=8,e.read(t);case 8:if(a=o.sent,u=function(t){return zo(t,n).then((function(t){return e.apply(t,a)})).then(r).catch(i)},!jo(t)&&To()&&!Hu()&&!dc()){o.next=12;break}return o.abrupt("return",u(t));case 12:return o.prev=12,o.next=15,No((function(t,e){return createImageBitmap(t).then((function(t){return e(null,t)})).catch(e)}),[t]);case 15:c=o.sent,o.next=20;break;case 18:o.prev=18,o.t2=o.catch(12);case 20:if(c&&c.width){o.next=22;break}return o.abrupt("return",u(t));case 22:return o.next=24,vo();case 24:if(o.sent){o.next=26;break}return o.abrupt("return",r(e.apply(c,a)));case 26:if(!(np()&&a>1)){o.next=32;break}return o.t3=r,o.next=30,Gg(c);case 30:return o.t4=o.sent,o.abrupt("return",(0,o.t3)(o.t4));case 32:r(c);case 33:case"end":return o.stop()}}),o,null,[[12,18]])})))()}))},Jg=function(t,e){return new Promise(function(){var n=to(Ji().mark((function n(r){var i,o,a,u,c,s;return Ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.width<e.width&&t.height<e.height)){n.next=2;break}return n.abrupt("return",r(t));case 2:if(i=Math.min(e.width/t.width,e.height/t.height),o=i*t.width,a=i*t.height,u=go("canvas",{width:o,height:a}),c=u.getContext("2d",{willReadFrequently:!0}),!xo(t)){n.next=13;break}return n.next=10,Eo(t);case 10:n.t0=n.sent,n.next=14;break;case 13:n.t0=t;case 14:s=n.t0,c.drawImage(s,0,0,o,a),r(mo(u));case 17:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},Qg=function(t){return t=t.trim(),/^rgba/.test(t)?t.substr(5).split(",").map(parseFloat).map((function(t,e){return t/(3===e?1:255)})):/^rgb/.test(t)?t.substr(4).split(",").map(parseFloat).map((function(t){return t/255})):/^#/.test(t)?function(t){var e=t.split(""),n=e[1],r=e[2],i=e[3];t=4===t.length?"#"+n+n+r+r+i+i:t;var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return[o[1],o[2],o[3]].map((function(t){return parseInt(t,16)/255}))}(t):/[0-9]{1,3}\s?,\s?[0-9]{1,3}\s?,\s?[0-9]{1,3}/.test(t)?t.split(",").map((function(t){return parseInt(t,10)})).map((function(t){return t/255})):void 0},ty=null,ey=function(){if(null===ty){var t=go("canvas");ty=!!Wh(t),wo(t),t=void 0}return ty},ny=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],ry={precision:1e-4},iy={precision:.01*ry.precision},oy=function(){var t=[],e=[],n=[],r=function(){e.forEach((function(t){return t(n)}))},i=function(e){e.unsub=e.subscribe((function(i){return function(e,i){var o=t.indexOf(e);o<0||(n[o]=i,r())}(e,i)})),r()};return{get length(){return t.length},clear:function(){t.forEach((function(t){return t.unsub()})),t.length=0,n.length=0},unshift:function(e){t.unshift(e),i(e)},get:function(e){return t[e]},push:function(e){t.push(e),i(e)},remove:function(e){e.unsub();var r=t.indexOf(e);t.splice(r,1),n.splice(r,1)},forEach:function(e){return t.forEach(e)},filter:function(e){return t.filter(e)},subscribe:function(t){return e.push(t),t(n),function(){e.splice(e.indexOf(t),1)}}}},ay=function(t){return t[0]<.25&&t[1]<.25&&t[2]<.25},uy=function(t){return void 0===t&&(t={}),new Promise((function(e){var n=t.accept,r=go("input",{style:"position:absolute;visibility:hidden;width:0;height:0;",type:"file",accept:void 0===n?"image/*":n});r.addEventListener("change",(function t(){var n=r.files[0];r.parentNode&&r.remove(),r.removeEventListener("change",t),e(n)})),dc()&&document.body.append(r),r.click()}))},cy=function(t){try{return t()}catch(t){}},sy=function(t){return Math.round(100*t)},ly=function(t){return pa(t.clientX,t.clientY)},fy=function(t,e,n){var r=ly(t);return _a(_a(r,e),n)};function dy(t,e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w,x,$,C=e.root,_=e.locale,k=e.stores,E=e.allowPan,M=void 0===E||E,S=e.allowZoom,R=void 0===S||S,I=e.enablePan,L=void 0===I||I,O=e.enableZoom,P=void 0===O||O,A=e.enableZoomControls,T=void 0===A?P:A,j=e.enableZoomInput,B=void 0===j||j,D=e.enablePanInput,N=void 0===D||D,z=e.enablePanLimit,F=void 0===z||z,Z=e.panLimitGutterScalar,H=void 0===Z?0:Z,V=e.zoomOptions,U=void 0===V?[.25,.5,1,1.25,1.5,2,3,4,6,8,16]:V,W=e.zoomAdjustStep,q=void 0===W?.25:W,G=e.zoomAdjustFactor,K=void 0===G?.1:G,Y=e.zoomAdjustWheelFactor,X=void 0===Y?1:Y,J=e.elasticity,Q=void 0===J?5:J,tt=e.imageSelectionRectCentered,et=void 0===tt?void 0:tt,nt=e.imageSelectionRectScalar,rt=void 0===nt?void 0:nt,it=e.zoomLevel,ot=void 0===it?null:it,at=e.zoomControls,ut=e.zoomMultiTouching,ct=void 0!==ut&&ut,st=k,lt=st.isAnimated,ft=st.isInteracting,dt=st.rootRect,ht=st.stageRect,pt=st.stageScalar,vt=st.imageSelectionPan,mt=st.imageSelectionZoom,gt=st.imageSelectionStageFitScalar,yt=st.imageSelectionRect,bt=st.imageSelectionStoredState,wt=st.imagePreviewUpscale;Il(t,lt,(function(t){return n(68,x=t)})),Il(t,ft,(function(t){return n(67,b=t)})),Il(t,dt,(function(t){return n(65,g=t)})),Il(t,ht,(function(t){return n(64,m=t)})),Il(t,pt,(function(t){return n(45,w=t)})),Il(t,vt,(function(t){return n(63,h=t)})),Il(t,mt,(function(t){return n(42,d=t)})),Il(t,gt,(function(t){return n(43,p=t)})),Il(t,yt,(function(t){return n(66,y=t)})),Il(t,bt,(function(t){return n(69,$=t)})),Il(t,wt,(function(t){return n(44,v=t)}));var xt=!1,$t=void 0,Ct=void 0,_t=void 0,kt=void 0,Et=function(t){var e=C.querySelector(".PinturaMain > .PinturaUtilMain")||C.querySelector('div[tabindex="0"] .PinturaUtilMain');return!!e&&(!!e.contains(t.target)&&!Ug(t.target))},Mt=function(t){void 0===t&&(t={});var e=t,n=e.pan,r=void 0===n?h:n,i=e.zoom;Dl(bt,$={translation:r,zoom:void 0===i?d:i},$)},St=function(){return h&&0===h.x&&0===h.y},Rt=function(){Dl(mt,d=void 0,d),St()||Dl(vt,h=ha(),h),Lt.set(void 0,{hard:!0})},It=function(){Rt(),Mt()},Lt=gp(void 0,{precision:.01});Lt.subscribe((function(t){if(void 0===t)return Dl(mt,d=void 0,d),void(St()||Dl(vt,h=ha(),h));var e=d;t<=1?St()||Dl(vt,h=ha(),h):t<=e&&Dl(vt,h=Ea(h,.8),h),Dl(mt,d=t,d)}));var Ot,Pt,At,Tt,jt,Bt,Dt,Nt,zt=function(t){Lt.update((function(e){var n=t(e||p);return Mt({zoom:n}),n}))},Ft=function(t){t?Lt.set(t,{hard:!1===x}):(t=void 0,Lt.set(void 0,{hard:!0})),Dl(mt,d=t,d),Mt({zoom:t})},Zt=function(t,e){var n=rt*e,r=Object.assign({},et),i=1-Id(H,0,1);cu(r,n<i?n:i);var o=Object.assign({},et);cu(o,n),uu(o,t);var a=Object.assign({},o);return o.x>r.x&&(a.x=r.x),o.y>r.y&&(a.y=r.y),o.x+o.width<r.x+r.width&&(a.x=r.x+r.width-o.width),o.y+o.height<r.y+r.height&&(a.y=r.y+r.height-o.height),_a(au(a),au(r))},Ht=function(t){var e=t.translation,n=t.zoom,r=void 0===n?1:n,i=t.elastify,o=void 0===i||i;if($t){var a=e,u=pa($t.x+a.x,$t.y+a.y);if(!F)return u;var c=Zt(u,r);return o?Ov(c,u,Q):c}},Vt=function(){Pt=void 0,Dl(ft,b=!0,b),n(33,xt=N),Ot=!1,_t=!1,$t=Object.assign({},h),Ct=v?d||p:o?d||1:d||p},Ut=function(t){var e=t.detail,i=e.scalar,o=e.translation,a=e.isMultiTouching;if($t&&(a||N)){a&&Ea(o,.5),(N||a)&&(Ot=!0),ct||n(12,ct=a);var s=r?Id(Ct*i,u,c):1,l=Ht({translation:o,zoom:s,elastify:!0}),f=ba(l);kt=ba(h),_t=f<kt,r&&mt.set(s),vt.set(l),Pt=ct&&{translation:t.detail.translation,scalar:i}}},Wt=function(t){Dl(ft,b=!1,b),n(33,xt=!1),n(12,ct=!1),_t&&kt<50&&($t=void 0,Ct=void 0,vt.set(ha()))},qt=function(t){Dl(ft,b=!1,b),n(33,xt=!1),n(12,ct=!1),Promise.resolve().then((function(){if(Ot&&$t){var e=Pt||t.detail,n=r?Id(Ct*e.scalar,u,c):1,i=Ht({elastify:!1,translation:e.translation,zoom:n});vt.set(i)}$t=void 0,Ct=void 0,N&&t.detail.isDoubleTap&&It(),Mt()}))},Gt=Date.now(),Kt=0,Yt=!1,Xt=!1,Jt=function(t){if(Et(t)&&(t.preventDefault(),t.stopPropagation(),!Xt)){clearTimeout(At);var e=Av(t),n=Date.now(),r=n-Gt;Gt=n;var i=Math.abs(e/r)>.2;Kt=i?Kt+1:0;var o=1+-1*e*X/(i?50:100),a=fy(t,g,m);Qt(a,o,{isZoomingFast:i})}},Qt=function(t,e,n){var r=n.isZoomingFast,i=v?d||p:o?d||1:d||p,a=i*e,s=ha(),l=h,f=v?p:o?1:p,m=Math.abs(a-f),g=a<i,b=i>f&&g||i<f&&a>i,w=Kt>=5;if(r||(Yt=!1),Kt>0&&!Yt&&(Yt=b),w&&Yt)return It(),Xt=!0,void setTimeout((function(){Xt=!1}),100);if(!w){!r&&b&&m<=.05&&(At=setTimeout((function(){It()}),250)),Dl(mt,d=Id(a,u,c),d);var x=Qa(y);cu(x,i),uu(x,l);var $=au(x),C=Qa(x);cu(C,d-i+1,t);var _=au(C),k=ka(_a(_,$),i);!function(t,e,n){t.x=e,t.y=n}(s,l.x+k.x,l.y+k.y),Dl(vt,h=g&&r?Ea(ma(h),.85):Zt(s,i),h),Mt()}},te=function(t){return(t?"add":"remove")+"EventListener"},ee=function(t){t.preventDefault(),jt=Object.assign({},h),Dt=Qa(y),Bt=fy(t,g,m),Tt=v?d||p:o?d||1:d||p},ne=function(t){t.preventDefault(),Dl(mt,d=Id(t.scale*Tt,u,c),d);var e=Qa(Dt);cu(e,Tt),uu(e,jt);var n=au(e),r=Qa(e);cu(r,d-Tt+1,Bt);var i=au(r),o=ka(_a(i,n),Tt),a={x:jt.x+o.x,y:jt.y+o.y};Dl(vt,h=Zt(a,d),h)},re=function(t){t.preventDefault()},ie=function(t){C[te(t)]("wheel",Jt),dc()||(C[te(t)]("gesturestart",ee),C[te(t)]("gesturechange",ne),C[te(t)]("gestureend",re))},oe=function(t){var e=te(t);C[e]("interactionstart",Vt),C[e]("interactionupdate",Ut),C[e]("interactionrelease",Wt),C[e]("interactionend",qt)};return yf((function(){Nt=Sv(C,{drag:!0,pinch:!0,inertia:!0,inertiaDurationMultiplier:10,shouldStartInteraction:Et})})),wf((function(){ie(!1),oe(!1),Nt.destroy(),Nt=void 0})),t.$$set=function(t){"root"in t&&n(13,C=t.root),"locale"in t&&n(14,_=t.locale),"stores"in t&&n(15,k=t.stores),"allowPan"in t&&n(16,M=t.allowPan),"allowZoom"in t&&n(17,R=t.allowZoom),"enablePan"in t&&n(18,L=t.enablePan),"enableZoom"in t&&n(19,P=t.enableZoom),"enableZoomControls"in t&&n(20,T=t.enableZoomControls),"enableZoomInput"in t&&n(21,B=t.enableZoomInput),"enablePanInput"in t&&n(22,N=t.enablePanInput),"enablePanLimit"in t&&n(23,F=t.enablePanLimit),"panLimitGutterScalar"in t&&n(24,H=t.panLimitGutterScalar),"zoomOptions"in t&&n(25,U=t.zoomOptions),"zoomAdjustStep"in t&&n(26,q=t.zoomAdjustStep),"zoomAdjustFactor"in t&&n(27,K=t.zoomAdjustFactor),"zoomAdjustWheelFactor"in t&&n(28,X=t.zoomAdjustWheelFactor),"elasticity"in t&&n(29,Q=t.elasticity),"imageSelectionRectCentered"in t&&n(30,et=t.imageSelectionRectCentered),"imageSelectionRectScalar"in t&&n(31,rt=t.imageSelectionRectScalar),"zoomLevel"in t&&n(32,ot=t.zoomLevel),"zoomControls"in t&&n(11,at=t.zoomControls),"zoomMultiTouching"in t&&n(12,ct=t.zoomMultiTouching)},t.$$.update=function(){var e,m;2752512&t.$$.dirty[0]&&n(35,r=R&&P&&B),327680&t.$$.dirty[0]&&n(34,i=M&&L),196608&t.$$.dirty[0]&&(M||R?(Dl(mt,d=P?$.zoom:void 0,d),Dl(vt,h=L?ma($.translation):St()?h:ha(),h),Lt.set(d)):Rt()),16384&t.$$.dirty[1]&&(o=w>=1),33570816&t.$$.dirty[0]|28672&t.$$.dirty[1]&&n(39,a=[(v||w<1)&&[p,sy(p)+"%",{sublabel:_.labelZoomFit}]].concat(U.map((function(t){return[t,sy(t)+"%"]}))).filter(Boolean).map((function(t){return 1===t[0]&&(t[2]={sublabel:_.labelZoomActual}),t})).sort((function(t,e){var n=t[0]||p,r=e[0]||p;return n<r?-1:r<n?1:0}))),4352&t.$$.dirty[1]&&n(37,u=Math.min(a.reduce((function(t,e){var n=e[0];return n<t?n:t}),Number.MAX_SAFE_INTEGER),p)),256&t.$$.dirty[1]&&n(36,c=a.reduce((function(t,e){var n=e[0];return n>t?n:t}),Number.MIN_SAFE_INTEGER)),2&t.$$.dirty[1]&&null!==ot&&Ft(ot),30720&t.$$.dirty[1]&&n(41,l=d||(v||w<1?p:1)),1280&t.$$.dirty[1]&&n(38,(e=a.map((function(t){return t[0]})),m=l,s=e.findIndex((function(t){return t===m})))),1024&t.$$.dirty[1]&&n(40,f=sy(l)+"%"),202522624&t.$$.dirty[0]|3040&t.$$.dirty[1]&&n(11,at=(R||R)&&T?[["Button","zoom-out",{hideLabel:!0,label:_.labelZoomOut,icon:_.iconZoomOut,disabled:d===u,onclick:function(){return zt((function(t){return Math.max(u,t-q)}))},onhold:function(){return zt((function(t){return Math.max(u,t*(1-K))}))}}],["Dropdown","zoom-level",{label:f,labelClass:"PinturaFixedWidthCharacters",options:a,selectedIndex:s,onchange:function(t){return Ft(t.value)}}],["Button","zoom-in",{hideLabel:!0,label:_.labelZoomIn,icon:_.iconZoomIn,disabled:d===c,onclick:function(){return zt((function(t){return Math.min(c,t+q)}))},onhold:function(){return zt((function(t){return Math.min(c,t*(1+K))}))}}]]:[]),8192&t.$$.dirty[0]|16&t.$$.dirty[1]&&C&&ie(r),8192&t.$$.dirty[0]|8&t.$$.dirty[1]&&C&&oe(i),4202496&t.$$.dirty[0]|12&t.$$.dirty[1]&&C&&C.style.setProperty("--cursor",i&&N?xt?"grabbing":"grab":"")},[lt,ft,dt,ht,pt,vt,mt,gt,yt,bt,wt,at,ct,C,_,k,M,R,L,P,T,B,N,F,H,U,q,K,X,Q,et,rt,ot,xt,i,r,c,u,s,a,f,l,d,p,v,w]}var hy=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,dy,null,Ml,{root:13,locale:14,stores:15,allowPan:16,allowZoom:17,enablePan:18,enableZoom:19,enableZoomControls:20,enableZoomInput:21,enablePanInput:22,enablePanLimit:23,panLimitGutterScalar:24,zoomOptions:25,zoomAdjustStep:26,zoomAdjustFactor:27,zoomAdjustWheelFactor:28,elasticity:29,imageSelectionRectCentered:30,imageSelectionRectScalar:31,zoomLevel:32,zoomControls:11,zoomMultiTouching:12},null,[-1,-1,-1,-1]),n}return qi(e,t),e}(ad),py=function(){var t=to(Ji().mark((function t(e){var n,r;return Ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vy(e);case 2:return n=t.sent,r=new DataView(n),t.abrupt("return",my(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),vy=function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsArrayBuffer(t)}))},my=function(t,e){var n=(void 0===e?{}:e).limit,r=void 0===n?1024:n,i=0;if(i+=4,1718909296!==t.getUint32(i))return 0;if(i+=4,1836069938!==t.getUint32(i))return 0;for(var o=!1,a=-1,u=i;u<r;u++){if(o||1953653099!==t.getUint32(u)||(o=!0,u+=4),o)if(64==t.getUint8(u)){a=u;break}}if(a<0)return 0;var c=t.getUint32(a-28),s=t.getUint32(a-20),l=t.getUint32(a-32),f=t.getUint32(a-16);return 65536===c&&4294901760===s?90:4294901760===l&&4294901760===f?180:4294901760===c&&65536===s?270:0},gy=Kf.window;function yy(t){var e,n,r,i=t[41]&&by(t),o=t[38]&&Sy(t);return{c:function(){i&&i.c(),e=tf(),o&&o.c(),n=ef()},m:function(t,a){i&&i.m(t,a),Kl(t,e,a),o&&o.m(t,a),Kl(t,n,a),r=!0},p:function(t,r){t[41]?i?(i.p(t,r),1024&r[1]&&Uf(i,1)):((i=by(t)).c(),Uf(i,1),i.m(e.parentNode,e)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf()),t[38]?o?(o.p(t,r),128&r[1]&&Uf(o,1)):((o=Sy(t)).c(),Uf(o,1),o.m(n.parentNode,n)):o&&(Hf(),Wf(o,1,1,(function(){o=null})),Vf())},i:function(t){r||(Uf(i),Uf(o),r=!0)},o:function(t){Wf(i),Wf(o),r=!1},d:function(t){i&&i.d(t),t&&Yl(e),o&&o.d(t),t&&Yl(n)}}}function by(t){var e,n,r,i,o,a,u=[xy,wy],c=[];function s(t,e){return t[39]?0:t[34]?1:-1}return~(r=s(t))&&(i=c[r]=u[r](t)),{c:function(){e=Xl("div"),n=Xl("p"),i&&i.c(),of(n,"style",t[68]),of(e,"class","PinturaStatus"),of(e,"style",o="opacity: "+t[53])},m:function(t,i){Kl(t,e,i),Wl(e,n),~r&&c[r].m(n,null),a=!0},p:function(t,l){var f=r;(r=s(t))===f?~r&&c[r].p(t,l):(i&&(Hf(),Wf(c[f],1,1,(function(){c[f]=null})),Vf()),~r?((i=c[r])?i.p(t,l):(i=c[r]=u[r](t)).c(),Uf(i,1),i.m(n,null)):i=null),(!a||64&l[2])&&of(n,"style",t[68]),(!a||4194304&l[1]&&o!==(o="opacity: "+t[53]))&&of(e,"style",o)},i:function(t){a||(Uf(i),a=!0)},o:function(t){Wf(i),a=!1},d:function(t){t&&Yl(e),~r&&c[r].d()}}}function wy(t){var e,n,r,i;e=new Fv({props:{text:t[34].text||"",onmeasure:t[200]}});var o=t[34].aside&&$y(t);return{c:function(){nd(e.$$.fragment),n=tf(),o&&o.c(),r=ef()},m:function(t,a){rd(e,t,a),Kl(t,n,a),o&&o.m(t,a),Kl(t,r,a),i=!0},p:function(t,n){var i={};8&n[1]&&(i.text=t[34].text||""),e.$set(i),t[34].aside?o?(o.p(t,n),8&n[1]&&Uf(o,1)):((o=$y(t)).c(),Uf(o,1),o.m(r.parentNode,r)):o&&(Hf(),Wf(o,1,1,(function(){o=null})),Vf())},i:function(t){i||(Uf(e.$$.fragment,t),Uf(o),i=!0)},o:function(t){Wf(e.$$.fragment,t),Wf(o),i=!1},d:function(t){id(e,t),t&&Yl(n),o&&o.d(t),t&&Yl(r)}}}function xy(t){var e,n,r,i;return e=new Fv({props:{text:t[39],onmeasure:t[200]}}),r=new qv({props:{class:"PinturaStatusIcon",offset:t[78],opacity:t[79],$$slots:{default:[My]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment),n=tf(),nd(r.$$.fragment)},m:function(t,o){rd(e,t,o),Kl(t,n,o),rd(r,t,o),i=!0},p:function(t,n){var i={};256&n[1]&&(i.text=t[39]),e.$set(i);var o={};65536&n[2]&&(o.offset=t[78]),131072&n[2]&&(o.opacity=t[79]),8&n[0]|128&n[17]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i:function(t){i||(Uf(e.$$.fragment,t),Uf(r.$$.fragment,t),i=!0)},o:function(t){Wf(e.$$.fragment,t),Wf(r.$$.fragment,t),i=!1},d:function(t){id(e,t),t&&Yl(n),id(r,t)}}}function $y(t){var e,n;return e=new qv({props:{class:"PinturaStatusButton",offset:t[78],opacity:t[79],$$slots:{default:[ky]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};65536&n[2]&&(r.offset=t[78]),131072&n[2]&&(r.opacity=t[79]),8&n[1]|128&n[17]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Cy(t){var e,n;return e=new Vv({props:{progress:t[34].progressIndicator.progress}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};8&n[1]&&(r.progress=t[34].progressIndicator.progress),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function _y(t){for(var e,n,r=[t[34].closeButton,{hideLabel:!0}],i={},o=0;o<r.length;o+=1)i=$l(i,r[o]);return e=new Ev({props:i}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var i=8&n[1]?Qf(r,[td(t[34].closeButton),r[1]]):{};e.$set(i)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function ky(t){var e,n,r,i=t[34].progressIndicator.visible&&Cy(t),o=t[34].closeButton&&t[34].text&&_y(t);return{c:function(){i&&i.c(),e=tf(),o&&o.c(),n=ef()},m:function(t,a){i&&i.m(t,a),Kl(t,e,a),o&&o.m(t,a),Kl(t,n,a),r=!0},p:function(t,r){t[34].progressIndicator.visible?i?(i.p(t,r),8&r[1]&&Uf(i,1)):((i=Cy(t)).c(),Uf(i,1),i.m(e.parentNode,e)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf()),t[34].closeButton&&t[34].text?o?(o.p(t,r),8&r[1]&&Uf(o,1)):((o=_y(t)).c(),Uf(o,1),o.m(n.parentNode,n)):o&&(Hf(),Wf(o,1,1,(function(){o=null})),Vf())},i:function(t){r||(Uf(i),Uf(o),r=!0)},o:function(t){Wf(i),Wf(o),r=!1},d:function(t){i&&i.d(t),t&&Yl(e),o&&o.d(t),t&&Yl(n)}}}function Ey(t){var e,n=t[3].iconSupportError+"";return{c:function(){e=Jl("g")},m:function(t,r){Kl(t,e,r),e.innerHTML=n},p:function(t,r){8&r[0]&&n!==(n=t[3].iconSupportError+"")&&(e.innerHTML=n)},d:function(t){t&&Yl(e)}}}function My(t){var e,n;return e=new yv({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};8&n[0]|128&n[17]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Sy(t){var e,n,r,i,o,a,u,c,s,l,f,d,h,p,v=t[10]&&Ry(t),m=t[45]&&t[44]&&Iy(t),g=[Ty,Ay],y=[];function b(t,e){return t[45]?0:1}function w(e){t[388](e)}function x(e){t[389](e)}function $(e){t[390](e)}r=b(t),i=y[r]=g[r](t),a=new Hp({props:{isAnimated:t[52],isTransparent:t[19],pixelRatio:t[56],textPixelRatio:t[6],backgroundColor:t[55],maskRect:t[57],maskOpacity:t[69]?t[69].maskOpacity:1,maskMarkupOpacity:t[7],maskFrameOpacity:t[5],clipAnnotationsToImage:t[81],images:t[54],interfaceImages:t[82],loadImageData:t[27],enableGrid:t[11],gridSize:t[83],gridColors:[t[84],t[85]],gridOpacity:t[86],willRequest:t[77]||t[87],willRender:t[385],didRender:t[386]}});var C={root:t[2],locale:t[3],stores:t[186],allowPan:t[89],enablePan:t[16],enablePanLimit:t[20],panLimitGutterScalar:t[21],enablePanInput:t[90],allowZoom:t[91],enableZoom:t[17],enableZoomInput:void 0!==t[18]?t[18]:t[92],enableZoomControls:t[93],zoomOptions:t[12]||t[22],zoomAdjustStep:t[13]||t[23],zoomAdjustFactor:t[14]||t[24],zoomAdjustWheelFactor:t[15]||t[25],imageSelectionRectCentered:t[94],imageSelectionRectScalar:t[95],elasticity:Ny*t[8]};return void 0!==t[0]&&(C.zoomLevel=t[0]),void 0!==t[32]&&(C.zoomControls=t[32]),void 0!==t[33]&&(C.zoomMultiTouching=t[33]),l=new hy({props:C}),Ef.push((function(){return ed(l,"zoomLevel",w)})),Ef.push((function(){return ed(l,"zoomControls",x)})),Ef.push((function(){return ed(l,"zoomMultiTouching",$)})),{c:function(){v&&v.c(),e=tf(),m&&m.c(),n=tf(),i.c(),o=tf(),nd(a.$$.fragment),u=tf(),c=Xl("div"),s=tf(),nd(l.$$.fragment),of(c,"class","PinturaRootPortal")},m:function(i,f){v&&v.m(i,f),Kl(i,e,f),m&&m.m(i,f),Kl(i,n,f),y[r].m(i,f),Kl(i,o,f),rd(a,i,f),Kl(i,u,f),Kl(i,c,f),t[387](c),Kl(i,s,f),rd(l,i,f),p=!0},p:function(t,u){t[10]?v?(v.p(t,u),1024&u[0]&&Uf(v,1)):((v=Ry(t)).c(),Uf(v,1),v.m(e.parentNode,e)):v&&(Hf(),Wf(v,1,1,(function(){v=null})),Vf()),t[45]&&t[44]?m?(m.p(t,u),24576&u[1]&&Uf(m,1)):((m=Iy(t)).c(),Uf(m,1),m.m(n.parentNode,n)):m&&(Hf(),Wf(m,1,1,(function(){m=null})),Vf());var c=r;(r=b(t))===c?y[r].p(t,u):(Hf(),Wf(y[c],1,1,(function(){y[c]=null})),Vf(),(i=y[r])?i.p(t,u):(i=y[r]=g[r](t)).c(),Uf(i,1),i.m(o.parentNode,o));var s={};2097152&u[1]&&(s.isAnimated=t[52]),524288&u[0]&&(s.isTransparent=t[19]),33554432&u[1]&&(s.pixelRatio=t[56]),64&u[0]&&(s.textPixelRatio=t[6]),16777216&u[1]&&(s.backgroundColor=t[55]),67108864&u[1]&&(s.maskRect=t[57]),128&u[2]&&(s.maskOpacity=t[69]?t[69].maskOpacity:1),128&u[0]&&(s.maskMarkupOpacity=t[7]),32&u[0]&&(s.maskFrameOpacity=t[5]),524288&u[2]&&(s.clipAnnotationsToImage=t[81]),8388608&u[1]&&(s.images=t[54]),1048576&u[2]&&(s.interfaceImages=t[82]),134217728&u[0]&&(s.loadImageData=t[27]),2048&u[0]&&(s.enableGrid=t[11]),2097152&u[2]&&(s.gridSize=t[83]),12582912&u[2]&&(s.gridColors=[t[84],t[85]]),16777216&u[2]&&(s.gridOpacity=t[86]),33587200&u[2]&&(s.willRequest=t[77]||t[87]),512&u[0]|1507344&u[1]|67108864&u[2]&&(s.willRender=t[385]),1879048192&u[1]|3&u[2]&&(s.didRender=t[386]),a.$set(s);var p={};4&u[0]&&(p.root=t[2]),8&u[0]&&(p.locale=t[3]),134217728&u[2]&&(p.allowPan=t[89]),65536&u[0]&&(p.enablePan=t[16]),1048576&u[0]&&(p.enablePanLimit=t[20]),2097152&u[0]&&(p.panLimitGutterScalar=t[21]),268435456&u[2]&&(p.enablePanInput=t[90]),536870912&u[2]&&(p.allowZoom=t[91]),131072&u[0]&&(p.enableZoom=t[17]),262144&u[0]|1073741824&u[2]&&(p.enableZoomInput=void 0!==t[18]?t[18]:t[92]),1&u[3]&&(p.enableZoomControls=t[93]),4198400&u[0]&&(p.zoomOptions=t[12]||t[22]),8396800&u[0]&&(p.zoomAdjustStep=t[13]||t[23]),16793600&u[0]&&(p.zoomAdjustFactor=t[14]||t[24]),33587200&u[0]&&(p.zoomAdjustWheelFactor=t[15]||t[25]),2&u[3]&&(p.imageSelectionRectCentered=t[94]),4&u[3]&&(p.imageSelectionRectScalar=t[95]),256&u[0]&&(p.elasticity=Ny*t[8]),!f&&1&u[0]&&(f=!0,p.zoomLevel=t[0],Af((function(){return f=!1}))),!d&&2&u[1]&&(d=!0,p.zoomControls=t[32],Af((function(){return d=!1}))),!h&&4&u[1]&&(h=!0,p.zoomMultiTouching=t[33],Af((function(){return h=!1}))),l.$set(p)},i:function(t){p||(Uf(v),Uf(m),Uf(i),Uf(a.$$.fragment,t),Uf(l.$$.fragment,t),p=!0)},o:function(t){Wf(v),Wf(m),Wf(i),Wf(a.$$.fragment,t),Wf(l.$$.fragment,t),p=!1},d:function(i){v&&v.d(i),i&&Yl(e),m&&m.d(i),i&&Yl(n),y[r].d(i),i&&Yl(o),id(a,i),i&&Yl(u),i&&Yl(c),t[387](null),i&&Yl(s),id(l,i)}}}function Ry(t){var e,n,r,i,o;return n=new Fg({props:{items:t[65]}}),{c:function(){e=Xl("div"),nd(n.$$.fragment),of(e,"class","PinturaNav PinturaNavTools")},m:function(a,u){Kl(a,e,u),rd(n,e,null),r=!0,i||(o=[nf(e,"measure",t[372]),Nl(Pp.call(null,e))],i=!0)},p:function(t,e){var r={};8&e[2]&&(r.items=t[65]),n.$set(r)},i:function(t){r||(Uf(n.$$.fragment,t),r=!0)},o:function(t){Wf(n.$$.fragment,t),r=!1},d:function(t){t&&Yl(e),id(n),i=!1,kl(o)}}}function Iy(t){var e,n,r;return n=new Bv({props:{elasticity:t[8]*Fy,scrollDirection:t[71]?"y":"x",$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c:function(){e=Xl("div"),nd(n.$$.fragment),of(e,"class","PinturaNav PinturaNavMain")},m:function(t,i){Kl(t,e,i),rd(n,e,null),r=!0},p:function(t,e){var r={};256&e[0]&&(r.elasticity=t[8]*Fy),512&e[2]&&(r.scrollDirection=t[71]?"y":"x"),4096&e[1]|12288&e[2]|128&e[17]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){r||(Uf(n.$$.fragment,t),r=!0)},o:function(t){Wf(n.$$.fragment,t),r=!1},d:function(t){t&&Yl(e),id(n)}}}function Ly(t){var e,n=t[533].icon+"";return{c:function(){e=Jl("g")},m:function(t,r){Kl(t,e,r),e.innerHTML=n},p:function(t,r){64&r[17]&&n!==(n=t[533].icon+"")&&(e.innerHTML=n)},d:function(t){t&&Yl(e)}}}function Oy(t){var e,n,r,i,o,a=t[533].label+"";return e=new yv({props:{$$slots:{default:[Ly]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment),n=tf(),r=Xl("span"),i=Ql(a)},m:function(t,a){rd(e,t,a),Kl(t,n,a),Kl(t,r,a),Wl(r,i),o=!0},p:function(t,n){var r={};192&n[17]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r),(!o||64&n[17])&&a!==(a=t[533].label+"")&&uf(i,a)},i:function(t){o||(Uf(e.$$.fragment,t),o=!0)},o:function(t){Wf(e.$$.fragment,t),o=!1},d:function(t){id(e,t),t&&Yl(n),t&&Yl(r)}}}function Py(t){for(var e,n,r=[t[75],{tabs:t[74]}],i={$$slots:{default:[Oy,function(t){return{533:t.tab}},function(t){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t.tab?64:0]}]},$$scope:{ctx:t}},o=0;o<r.length;o+=1)i=$l(i,r[o]);return(e=new Jp({props:i})).$on("select",t[373]),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var i=12288&n[2]?Qf(r,[8192&n[2]&&td(t[75]),4096&n[2]&&{tabs:t[74]}]):{};192&n[17]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Ay(t){var e,n,r;function i(e){t[381](e)}var o={class:"PinturaMain",content:Object.assign({},t[46].find(t[380]),{props:t[26][t[43]]}),locale:t[3],stores:t[186]};return void 0!==t[1][t[43]]&&(o.component=t[1][t[43]]),e=new vv({props:o}),Ef.push((function(){return ed(e,"component",i)})),e.$on("measure",t[212]),e.$on("show",t[382]),e.$on("hide",t[383]),e.$on("fade",t[384]),{c:function(){nd(e.$$.fragment)},m:function(t,n){rd(e,t,n),r=!0},p:function(t,r){var i={};67108864&r[0]|36864&r[1]&&(i.content=Object.assign({},t[46].find(t[380]),{props:t[26][t[43]]})),8&r[0]&&(i.locale=t[3]),!n&&2&r[0]|4096&r[1]&&(n=!0,i.component=t[1][t[43]],Af((function(){return n=!1}))),e.$set(i)},i:function(t){r||(Uf(e.$$.fragment,t),r=!0)},o:function(t){Wf(e.$$.fragment,t),r=!1},d:function(t){id(e,t)}}}function Ty(t){for(var e,n,r=[{class:"PinturaMain"},{visible:t[58]},t[75],{panels:t[73]}],i={$$slots:{default:[jy,function(t){return{531:t.panel,532:t.panelIsActive}},function(t){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(t.panel?16:0)|(t.panelIsActive?32:0)]}]},$$scope:{ctx:t}},o=0;o<r.length;o+=1)i=$l(i,r[o]);return(e=new lv({props:i})).$on("measure",t[379]),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var i=134217728&n[1]|10240&n[2]?Qf(r,[r[0],134217728&n[1]&&{visible:t[58]},8192&n[2]&&td(t[75]),2048&n[2]&&{panels:t[73]}]):{};67108874&n[0]|134250560&n[1]|176&n[17]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function jy(t){var e,n,r;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[374].apply(e,[t[531]].concat(r))}function o(e){t[375](e,t[531])}var a={content:Object.assign({},t[46].find(i),{props:t[26][t[531]]}),locale:t[3],isActive:t[532],stores:t[186]};return void 0!==t[1][t[531]]&&(a.component=t[1][t[531]]),e=new vv({props:a}),Ef.push((function(){return ed(e,"component",o)})),e.$on("measure",t[212]),e.$on("show",(function(){return t[376](t[531])})),e.$on("hide",(function(){return t[377](t[531])})),e.$on("fade",(function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[378].apply(e,[t[531]].concat(r))})),{c:function(){nd(e.$$.fragment)},m:function(t,n){rd(e,t,n),r=!0},p:function(r,o){t=r;var a={};67108864&o[0]|32768&o[1]|16&o[17]&&(a.content=Object.assign({},t[46].find(i),{props:t[26][t[531]]})),8&o[0]&&(a.locale=t[3]),32&o[17]&&(a.isActive=t[532]),!n&&2&o[0]|16&o[17]&&(n=!0,a.component=t[1][t[531]],Af((function(){return n=!1}))),e.$set(a)},i:function(t){r||(Uf(e.$$.fragment,t),r=!0)},o:function(t){Wf(e.$$.fragment,t),r=!1},d:function(t){id(e,t)}}}function By(t){var e,n;return{c:function(){of(e=Xl("span"),"class","PinturaEditorOverlay"),of(e,"style",n="opacity:"+t[96])},m:function(t,n){Kl(t,e,n)},p:function(t,r){8&r[3]&&n!==(n="opacity:"+t[96])&&of(e,"style",n)},d:function(t){t&&Yl(e)}}}function Dy(t){var e,n,r,i,o;Pf(t[371]);var a=t[40]&&yy(t),u=t[96]>0&&By(t);return{c:function(){e=Xl("div"),a&&a.c(),n=tf(),u&&u.c(),of(e,"id",t[4]),of(e,"class",t[72]),of(e,"data-env",t[70])},m:function(c,s){Kl(c,e,s),a&&a.m(e,null),Wl(e,n),u&&u.m(e,null),t[391](e),r=!0,i||(o=[nf(gy,"keydown",t[203]),nf(gy,"keyup",t[204]),nf(gy,"blur",t[205]),nf(gy,"paste",t[209]),nf(gy,"resize",t[371]),nf(e,"ping",(function(){El(t[64])&&t[64].apply(this,arguments)})),nf(e,"contextmenu",t[206]),nf(e,"touchstart",t[201],{passive:!1}),nf(e,"touchmove",(function(){El(t[67])&&t[67].apply(this,arguments)})),nf(e,"pointermove",(function(){El(t[66])&&t[66].apply(this,arguments)})),nf(e,"transitionend",t[191]),nf(e,"dropfiles",t[207]),nf(e,"measure",t[392]),nf(e,"click",(function(){El(t[42]?t[208]:uo)&&(t[42]?t[208]:uo).apply(this,arguments)})),Nl(Pp.call(null,e,{observeViewRect:!0,isMeasureRoot:!0})),Nl(Ap.call(null,e)),Nl(Bp.call(null,e))],i=!0)},p:function(i,o){(t=i)[40]?a?(a.p(t,o),512&o[1]&&Uf(a,1)):((a=yy(t)).c(),Uf(a,1),a.m(e,n)):a&&(Hf(),Wf(a,1,1,(function(){a=null})),Vf()),t[96]>0?u?u.p(t,o):((u=By(t)).c(),u.m(e,null)):u&&(u.d(1),u=null),(!r||16&o[0])&&of(e,"id",t[4]),(!r||1024&o[2])&&of(e,"class",t[72]),(!r||256&o[2])&&of(e,"data-env",t[70])},i:function(t){r||(Uf(a),r=!0)},o:function(t){Wf(a),r=!1},d:function(n){n&&Yl(e),a&&a.d(),u&&u.d(),t[391](null),i=!1,kl(o)}}}var Ny=1,zy="stage-overlay",Fy=10;function Zy(t,e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w,x,$,C,_,k,E,M,S,R,I,L,O,P,A,T,j,B,D,N,z,F,Z,H,V,U,W,q,G,K,Y,X,J,Q,tt,et,nt,rt,it,ot,at,ut,ct,st,lt,ft,dt,ht,pt,vt,mt,gt,yt,bt,wt,xt,$t,Ct,_t,kt,Et,Mt,St,Rt,It,Lt,Ot,Pt,At,Tt,jt,Bt,Dt,Nt,zt,Ft,Zt,Ht,Vt,Ut,Wt,qt,Gt,Kt,Yt,Xt,Jt,Qt,te,ee,ne,re,ie,oe,ae,ue,ce,se,le,fe,de,he,pe,ve,me,ge,ye,be,we,xe,$e,Ce,_e,ke,Ee,Me,Se,Re,Ie,Le,Oe,Pe,Ae,Te,je,Be,De,Ne,ze,Fe,Ze,He,Ve,Ue,We,qe,Ge,Ke,Ye,Xe,Je,Qe,tn,en,nn,rn,on,an,un,cn,sn,ln,fn,dn,hn,pn,vn,mn,gn,yn,bn,wn,xn,$n,Cn,_n,kn,En,Mn,Sn,Rn,In,Ln,On=wl,Pn=wl;Il(t,wp,(function(t){return n(366,en=t)})),t.$$.on_destroy.push((function(){return On()})),t.$$.on_destroy.push((function(){return Pn()}));var An=Hc(),Tn=xf(),jn=e.class,Bn=void 0===jn?void 0:jn,Dn=e.layout,Nn=void 0===Dn?void 0:Dn,zn=e.stores,Fn=e.locale,Zn=void 0===Fn?void 0:Fn,Hn=e.id,Vn=void 0===Hn?void 0:Hn,Un=e.util,Wn=void 0===Un?void 0:Un,qn=e.utils,Gn=void 0===qn?void 0:qn,Kn=e.animations,Yn=void 0===Kn?"auto":Kn,Xn=e.disabled,Jn=void 0!==Xn&&Xn,Qn=e.status,tr=void 0===Qn?void 0:Qn,er=e.previewUpscale,nr=void 0!==er&&er,rr=e.previewPad,ir=void 0!==rr&&rr,or=e.previewMaskOpacity,ar=void 0===or?.95:or,ur=e.previewImageDataMaxSize,cr=void 0===ur?void 0:ur,sr=e.previewImageTextPixelRatio,lr=void 0===sr?void 0:sr,fr=e.markupMaskOpacity,dr=void 0===fr?1:fr,hr=e.zoomMaskOpacity,pr=void 0===hr?.85:hr,vr=e.elasticityMultiplier,mr=void 0===vr?10:vr,gr=e.willRevert,yr=void 0===gr?function(){return Promise.resolve(!0)}:gr,br=e.willProcessImage,wr=void 0===br?function(){return Promise.resolve(!0)}:br,xr=e.willRenderCanvas,$r=void 0===xr?Xo:xr,Cr=e.willRenderToolbar,_r=void 0===Cr?Xo:Cr,kr=e.willSetHistoryInitialState,Er=void 0===kr?Xo:kr,Mr=e.enableButtonExport,Sr=void 0===Mr||Mr,Rr=e.enableButtonRevert,Ir=void 0===Rr||Rr,Lr=e.enableNavigateHistory,Or=void 0===Lr||Lr,Pr=e.enableToolbar,Ar=void 0===Pr||Pr,Tr=e.enableUtils,jr=void 0===Tr||Tr,Br=e.enableButtonClose,Dr=void 0!==Br&&Br,Nr=e.enableDropImage,zr=void 0!==Nr&&Nr,Fr=e.enablePasteImage,Zr=void 0!==Fr&&Fr,Hr=e.enableBrowseImage,Vr=void 0!==Hr&&Hr,Ur=e.enableTransparencyGrid,Wr=void 0!==Ur&&Ur,qr=e.layoutDirectionPreference,Gr=void 0===qr?"auto":qr,Kr=e.layoutHorizontalUtilsPreference,Yr=void 0===Kr?"left":Kr,Xr=e.layoutVerticalUtilsPreference,Jr=void 0===Xr?"bottom":Xr,Qr=e.layoutVerticalToolbarPreference,ti=void 0===Qr?"top":Qr,ei=e.layoutVerticalControlGroupsPreference,ni=void 0===ei?"bottom":ei,ri=e.layoutVerticalControlTabsPreference,ii=void 0===ri?"bottom":ri,oi=e.markupEditorZoomLevel,ai=void 0===oi?null:oi,ui=e.markupEditorZoomLevels,ci=void 0===ui?void 0:ui,si=e.markupEditorZoomAdjustStep,li=void 0===si?void 0:si,fi=e.markupEditorZoomAdjustFactor,di=void 0===fi?void 0:fi,hi=e.markupEditorZoomAdjustWheelFactor,pi=void 0===hi?void 0:hi,vi=e.markupEditorInteractionMode,mi=void 0!==vi&&vi,gi=e.muteAudio,yi=void 0===gi||gi,bi=e.willSetMediaInitialTimeOffset,wi=void 0===bi?function(t,e){return t*(n=e[0],(r=n[0])+.5*(n[1]-r));var n,r}:bi,xi=e.enablePan,$i=void 0===xi||xi,Ci=e.enableZoom,_i=void 0===Ci||Ci,ki=e.enableZoomControls,Ei=void 0===ki||ki,Mi=e.enableZoomInput,Si=void 0===Mi?void 0:Mi,Ri=e.enablePanInput,Ii=void 0===Ri?void 0:Ri,Li=e.enableCanvasAlpha,Oi=void 0!==Li&&Li,Pi=e.enablePanLimit,Ai=void 0===Pi?void 0:Pi,Ti=e.panLimitGutterScalar,ji=void 0===Ti?void 0:Ti,Bi=e.zoomPresetOptions,Di=void 0===Bi?[.25,.5,1,1.25,1.5,2,3,4,6,8,16]:Bi,Ni=e.zoomAdjustStep,zi=void 0===Ni?.25:Ni,Fi=e.zoomAdjustFactor,Zi=void 0===Fi?.1:Fi,Hi=e.zoomAdjustWheelFactor,Vi=void 0===Hi?1:Hi,Ui=e.zoomLevel,Wi=void 0===Ui?null:Ui,qi=e.imagePreviewSrc,Gi=void 0===qi?void 0:qi,Ki=e.imageOrienter,Yi=void 0===Ki?{read:function(){return 1},apply:function(t){return t}}:Ki,Xi=e.pluginComponents,Ji=void 0===Xi?void 0:Xi,Qi=e.pluginOptions,to=void 0===Qi?{}:Qi,eo=An.sub,no={},ro=e.root,io=sd(yi);Il(t,io,(function(t){return n(352,Me=t)}));var oo=sd({});Il(t,oo,(function(t){return n(51,ne=t)})),$f("redrawTrigger",oo);var ao=sd(mr);Il(t,ao,(function(t){return n(433,dn=t)})),$f("elasticityMultiplier",ao);var co=[],so=gp();Il(t,so,(function(t){return n(96,Ln=t)}));var lo,fo,ho,po=ep()||1024,vo=Fa(po,po),go=Kd(),yo=e.imageSourceToImageData,bo=void 0===yo?function(t){return Lo(t)?function(t){return Promise.resolve(fn&&fn(t,{resourceType:"image"})).then((function(e){if(!1!==e){var n=e||{},r=n.headers,i=n.credentials;return fetch(t,{headers:r,credentials:i}).then((function(t){if(200!==t.status)throw t.status+" ("+t.statusText+")";return t.blob()})).then((function(t){return Xg(t,Yi,go)})).then((function(t){return Jg(t,o)}))}}))}(t):Au(t)?new Promise((function(e){return e(mo(t))})):ac(t)||Tu(t)?Xg(t,Yi,go).then((function(t){return Jg(t,o)})):void 0}:yo,xo=(ho=Hg.reduce((function(t,e){return t[e]=function(t,e,n){var r=[];return{set:e,update:n,publish:function(t){r.forEach((function(e){return e(t)}))},subscribe:function(e){return r.push(e),t(e),function(){r=r.filter((function(t){return t!==e}))}}}}((function(t){if(!fo)return t();fo.stores[e].subscribe(t)()}),(function(t){fo&&fo.stores[e].set(t)}),(function(t){fo&&fo.stores[e].update(t)})),t}),{}),{update:function(t){if(fo=t,lo&&(lo.forEach((function(t){return t()})),lo=void 0),!t)return ho.file.publish(void 0),void ho.loadState.publish(void 0);lo=Hg.map((function(e){return t.stores[e].subscribe((function(t){ho[e].publish(t)}))}))},stores:ho,destroy:function(){lo&&lo.forEach((function(t){return t()}))}}),$o=xo.stores,Co=$o.file,Eo=$o.size,Mo=$o.duration,So=$o.trim,Ro=$o.loadState,Io=$o.processState,Oo=$o.cropAspectRatio,Po=$o.cropLimitToImage,Ao=$o.crop,To=$o.cropMinSize,jo=$o.cropMaxSize,Do=$o.cropRange,No=$o.cropOrigin,zo=$o.cropRectAspectRatio,Fo=$o.rotation,Zo=$o.rotationRange,Ho=$o.targetSize,Vo=$o.flipX,Uo=$o.flipY,Wo=$o.backgroundColor,qo=$o.backgroundImage,Go=$o.colorMatrix,Ko=$o.convolutionMatrix,Yo=$o.gamma,Jo=$o.vignette,Qo=$o.noise,ta=$o.decoration,ea=$o.annotation,na=$o.redaction,ra=$o.frame,ia=$o.state;Il(t,Co,(function(t){return n(349,$e=t)})),Il(t,Eo,(function(t){return n(321,Bt=t)})),Il(t,Mo,(function(t){return n(418,Se=t)})),Il(t,So,(function(t){return n(432,ln=t)})),Il(t,Ro,(function(t){return n(341,de=t)})),Il(t,Io,(function(t){return n(340,fe=t)})),Il(t,Oo,(function(t){return n(429,rn=t)})),Il(t,Po,(function(t){return n(81,mn=t)})),Il(t,Ao,(function(t){return n(361,Ze=t)})),Il(t,Fo,(function(t){return n(324,zt=t)})),Il(t,Vo,(function(t){return n(323,Nt=t)})),Il(t,Uo,(function(t){return n(322,Dt=t)})),Il(t,Wo,(function(t){return n(331,Xt=t)})),Il(t,ta,(function(t){return n(48,jt=t)})),Il(t,ea,(function(t){return n(49,Ft=t)})),Il(t,na,(function(t){return n(329,Kt=t)})),Il(t,ra,(function(t){return n(47,Tt=t)})),Il(t,ia,(function(t){return n(417,ke=t)}));var oa,aa=function(t,e,n){return void 0===n&&(n=0),new Promise((function(r,i){if(Kg(t)){(Uc()?py(t):Promise.resolve()).then((function(e){var n=document.createElement("video");n.onerror=function(){},n.playsInline=!0,n.preload="auto",n.onloadeddata=function(){n.onloadeddata=void 0,n.dataset.rotation=e,Xd(n).then((function(){var t=wi(n.duration,ln||[[0,1]]);t>0?(n.onseeked=function(){n.onseeked=void 0,r(n)},n.currentTime=t):(n.currentTime=t,r(n))}))},n.src=URL.createObjectURL(t),n.load()}))}else{var o,a=!1;e.cancel=function(){return a=!0};var u=Date.now();bo(t).then((function(t){var e=Date.now()-u;clearTimeout(o),o=setTimeout((function(){a||r(t)}),Math.max(0,n-e))})).catch(i)}}))},ua=zn,ca=ua.images,sa=ua.shapePreprocessor,la=ua.imageScrambler,da=ua.imageRedactionRendering,va=ua.willRequest,ma=ua.willRequestResource;Il(t,ca,(function(t){return n(370,sn=t)})),Il(t,sa,(function(t){return n(369,cn=t)})),Il(t,la,(function(t){return n(332,Jt=t)})),Il(t,da,(function(t){return n(330,Yt=t)})),Il(t,va,(function(t){return n(77,fn=t)})),Il(t,ma,(function(t){return n(87,$n=t)}));var ga=ld(qo,(function(t,e){if(!t)return e(void 0);oa&&(oa.cancel(),oa=void 0),aa(t,oa={cancel:uo}).then(e).catch((function(t){}))})),ya=ia.subscribe((function(t){return An.pub("update",t)})),ba=sd();$f("ui",sd({}));var wa=sd(!0);Il(t,wa,(function(t){return n(89,_n=t)}));var xa=sd(!0);Il(t,xa,(function(t){return n(91,En=t)}));var Ca=sd(!0);Il(t,Ca,(function(t){return n(368,un=t)}));var _a=sd(!0);Il(t,_a,(function(t){return n(430,on=t)}));var ka=sd(!0);Il(t,ka,(function(t){return n(92,Mn=t)}));var Ea=sd();Il(t,Ea,(function(t){return n(93,Sn=t)}));var Ma=sd();Il(t,Ma,(function(t){return n(431,an=t)}));var Sa=ld([Ma,_a],(function(){return void 0!==an?an:on}));Il(t,Sa,(function(t){return n(90,kn=t)}));var Ra=sd([0,0,0]);Il(t,Ra,(function(t){return n(55,Oe=t)}));var Ia=sd([1,1,1]);Il(t,Ia,(function(t){return n(414,qt=t)}));var La=gp([1,1,1]);Il(t,La,(function(t){return n(413,Wt=t)}));var Oa=sd(),Pa=sd();Il(t,Pa,(function(t){return n(50,te=t)}));var Aa=sd();Il(t,Aa,(function(t){return n(326,Ht=t)}));var Ta=sd(tu());Il(t,Ta,(function(t){return n(76,Ee=t)}));var ja=sd(0);Il(t,ja,(function(t){return n(367,nn=t)}));var Ba=sd(tu());Il(t,Ba,(function(t){return n(80,vn=t)}));var Da=sd();Il(t,Da,(function(t){return n(411,At=t)}));var Na=qg("(pointer: fine)",(function(t){return t?"pointer-fine":"pointer-coarse"}));Il(t,Na,(function(t){return n(347,we=t)}));var za=qg("(hover: hover)",(function(t){return t?"pointer-hover":"pointer-no-hover"}));Il(t,za,(function(t){return n(346,be=t)}));var Za=sd(!1),Ha=sd(!1);Il(t,Ha,(function(t){return n(327,Ut=t)}));var Va=cd(void 0,(function(t){var e=gp(0),n=[Ha.subscribe((function(t){e.set(t?1:0)})),e.subscribe(t)];return function(){return n.forEach((function(t){return t()}))}}));Il(t,Va,(function(t){return n(412,Vt=t)}));var Ua=sd();Il(t,Ua,(function(t){return n(416,me=t)}));var Wa,qa=sd();Il(t,qa,(function(t){return n(52,ie=t)})),$f("isAnimated",qa);var Ga=sd(nr);Il(t,Ga,(function(t){return n(350,Ce=t)}));var Ka=sd(!1);Il(t,Ka,(function(t){return n(423,We=t)})),$f("imageIsStatic",Ka);var Ya=sd();Il(t,Ya,(function(t){return n(424,qe=t)}));var Xa=sd();Il(t,Xa,(function(t){return n(421,Ve=t)}));var Ja=cd(void 0,(function(t){var e=sd(void 0),n=[Ao.subscribe((function(){if(Ze){if(We)return e.set(Qa(Ze));var t=Lv(Ze,Ve,5*mr);e.set(t)}})),e.subscribe(t)];return function(){return n.forEach((function(t){return t()}))}})),nu=sd();Il(t,nu,(function(t){return n(420,Fe=t)}));var iu=sd();Il(t,iu,(function(t){return n(422,Ue=t)}));var au=sd(void 0);Il(t,au,(function(t){return n(427,Je=t)}));var su=sd(ha());Il(t,su,(function(t){return n(428,Qe=t)}));var lu=function(t,e){if(!e||!t)return{top:0,right:0,bottom:0,left:0};var n=Gs(e,t,a),r=qs(n,t);return{top:Math.abs(r.top),right:Math.abs(r.right),bottom:Math.abs(r.bottom),left:Math.abs(r.left)}},pu=sd({}),vu=ld([Da,Ta,Ba,pu],(function(t,e){var n=t[0],i=t[1],o=t[2];t[3];if(!n)return e(void 0);var a=0;1!==x.length||r||"bottom"===ti||(a=o.y+o.height),e(ou(n.x+i.x,n.y+i.y+a,n.width,n.height))})),yu={left:0,right:0,top:0,bottom:0},bu=sd(!1),$u=ld([bu,ra,vu,Ha],(function(t,e){var n=t[0],r=t[1],i=t[2];t[3];if(!i)return e({left:0,right:0,top:0,bottom:0});if(n){var o=Math.min(i.width,i.height),a=lu({width:o,height:o},r);fa(yu.top,4)===fa(a.top,4)&&fa(yu.bottom,4)===fa(a.bottom,4)&&fa(yu.right,4)===fa(a.right,4)&&fa(yu.left,4)===fa(a.left,4)||(yu=a,e(a))}}));Il(t,$u,(function(t){return n(359,De=t)}));var _u=ld([bu,$u],(function(t,e){var n=t[0],r=t[1];if(!n)return e(!1);e(Object.values(r).some((function(t){return t>0})))}));Il(t,_u,(function(t){return n(360,Ne=t)}));var Eu=ld([bu,Da,_u,$u],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];if(r)return n&&i?void e(ou(r.x+o.left,r.y+o.top,r.width-o.left-o.right,r.height-o.top-o.bottom)):e(Object.assign({},r))})),Mu=ld([vu,_u,$u],(function(t,e){var n=t[0],r=t[1],i=t[2];return n?r?void e(ou(n.x+i.left,n.y+i.top,n.width-i.left-i.right,n.height-i.top-i.bottom)):e(n):e(void 0)}));Il(t,Mu,(function(t){return n(325,Zt=t)}));var Su=ld([Ka,Eo,Fo],(function(t,e){var n=t[0],r=t[1],i=t[2];if(!n||!r)return e(void 0);var o=eu(r);e(mu(o,i))})),Ru=ld([Su],(function(t,e){var n=t[0];if(!n)return e(void 0);var r=ru(n);e(ku(r))}));Il(t,Ru,(function(t){return n(362,He=t)}));var Iu=ld([Mu,Ao,Ru,Ga],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];if(n&&r&&!!(!qe&&!Ve)){var a=i||r,u=a.width,c=a.height,s=Math.min(n.width/u,n.height/c);e(o?s:Math.min(1,s))}}));Il(t,Iu,(function(t){return n(363,Ke=t)}));var Lu=ld([Ka,Eo,Fo,Mu,Da,Iu],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5];if(!(n&&o&&a&&r))return e(void 0);var c=eu(r),s=ku(cu(c,u)),l=gu(o,s);s.x=l.x,s.y=l.y,e(mu(s,i))}));$f("imageStaticVisualCorners",Lu);var Ou=sd(void 0);Il(t,Ou,(function(t){return n(365,tn=t)}));var Pu=ld([Ao,Mu],(function(t){var e=t[0],n=t[1];if(n&&e)return Math.min(n.width/e.width,n.height/e.height)})),ju=ld([Ao,nu],(function(t){var e=t[0],n=t[1];return e&&n?Math.min(e.width/n.width,e.height/n.height):1}));Il(t,ju,(function(t){return n(95,In=t)}));var Bu=ld([Ou,ju],(function(t){var e=t[0],n=t[1];return e&&n?n*e:1}));Il(t,Bu,(function(t){return n(426,Ye=t)}));var Du=sd(ha());Il(t,Du,(function(t){return n(364,Xe=t)}));var Nu=sd({scalar:Ye,translation:Xe}),zu=function(){Nu.set({scalar:void 0,translation:ha()})},Fu=cd(void 0,(function(t){var e=gp(void 0,{precision:1e-4}),n=1===tm()?function(t){return Cu(t,Math.round)}:Xo,r=function(){if(Fe){var t=Ut||!me;if(We){var r=Qa(Fe);return uu(r,Qe),uu(r,Zt),e.set(r,{hard:t})}var i=Lv(Fe,Je,Ny*mr);i.width<0&&(i.width=0,i.x=Fe.x),i.height<0&&(i.height=0,i.y=Fe.y),uu(i,Zt),uu(i,Xe),cu(i,Ye),!t&&n(i),e.set(i,{hard:t})}},i=[Mu.subscribe(r),nu.subscribe(r),Bu.subscribe(r),Du.subscribe(r),ra.subscribe(r),e.subscribe(t)];return function(){return i.forEach((function(t){return t()}))}}));Il(t,Fu,(function(t){return n(57,Be=t)}));var Zu=sd(1);Il(t,Zu,(function(t){return n(419,ze=t)}));var Vu=function(){if(Ze&&Zt){var t=fu(Qa(Ze),Ke||1),e=gu(Zt,fu(Qa(He),Ke));uu(t,e);var n=At.width/t.width,r=At.height/t.height,i=Math.min(1,n,r);Zu.set(i),cu(t,i),function(t,e){var n=xu(t),r=n[0],i=n[1],o=n[2],a=n[3];r<e.y&&(t.y=Math.max(e.y,t.y)),i>e.width&&(t.x=e.width-t.width),o>e.height&&(t.y=e.height-t.height),a<e.x&&(t.x=Math.max(e.x,t.x))}(t,Object.assign({},At,{x:0,y:0})),nu.set(t)}},Uu=ld([Mu,Iu,Ao,Eo],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n&&(i||o)&&e(Ku(n,r||1,i||o))}));Il(t,Uu,(function(t){return n(94,Rn=t)}));var Wu,qu,Gu,Ku=function(t,e,n){return n.width<=t.width&&n.height<=t.height?gu(t,fu(Qa(n),e)):wu(t,hu(n))},Yu=function(t){if(!(r&&Wu&&du(Wu,t)&&qu===Ke)){if(We)return Vu();Wu=t,qu=Ke;var e=Ku(t,Ke,Ze||Bt);nu.set(e)}},Xu=!1,Ju=Iu.subscribe((function(t){!Xu&&void 0!==t&&Ze&&(Yu(Zt),Xu=!0)})),Qu=Mu.subscribe((function(t){t&&void 0!==Ke&&Ze&&Yu(t)})),tc=Ka.subscribe((function(t){!t&&Zt&&Yu(Zt)})),ec=iu.subscribe((function(t){if(!t)return Gu=void 0,void Dl(Ya,qe=void 0,qe);Gu=Ge;var e=Qa(Ze);Ya.set(e)})),nc=nu.subscribe((function(t){if(t&&Ue){var e,n,r=(e=Qa(t),n=Ue,e.x-=n.x,e.y-=n.y,e.width-=n.width,e.height-=n.height,e);!function(t,e){t.x/=e,t.y/=e,t.width/=e,t.height/=e}(r,Gu);var i=function(t,e){return t.x+=e.x,t.y+=e.y,t.width+=e.width,t.height+=e.height,t}(Qa(qe),r);Ao.set(i)}})),rc=Ao.subscribe((function(t){if(t&&Fe)if(We)Ue||Vu();else if(!(Ut||Ue||Ve)){var e=hu(Fe),n=hu(t);if(fa(e,6)!==fa(n,6)){var r=He||Ze,i=r.width,o=r.height,a=Math.min(Zt.width/i,Zt.height/o),u=Fa(t.width*a,t.height*a),c=.5*(Fe.width-u.width),s=.5*(Fe.height-u.height),l=ou(Fe.x+c,Fe.y+s,u.width,u.height);nu.set(l)}}})),ic=ld([Iu,Ao,nu,Ka],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];if(n&&r&&i){if(o)return e(ze);var a=i.width/r.width,u=i.height/r.height;e(Math.max(a,u)/n)}})),oc=ld([Iu,ic],(function(t,e){var n=t[0],r=t[1];r&&e(n*r)}));Il(t,oc,(function(t){return n(425,Ge=t)}));var uc={left:0,right:0,top:0,bottom:0},cc=ld([ra,nu],(function(t,e){var n=t[0],r=t[1];if(!r)return e(uc);var i=lu(r,n);fa(uc.top,4)===fa(i.top,4)&&fa(uc.bottom,4)===fa(i.bottom,4)&&fa(uc.right,4)===fa(i.right,4)&&fa(uc.left,4)===fa(i.left,4)||(uc=i,e(i))})),sc=ld([cc],(function(t,e){var n=t[0];e(Object.values(n).some((function(t){return t>0})))})),lc=gp(.075,{stiffness:.03,damping:.4,precision:.001}),fc=ld([La,Ra,lc,Fu,Bu,ra,sc,cc,_u],(function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],c=t[5],s=t[6],l=t[7],f=t[8];if(!a||r)return e([]);var d=a.x,h=a.y,p=a.width,v=a.height;d+=.5,h+=.5,p-=.5,v-=.5;var m=[];if(c){if(s){var g=l.left,y=l.right,b=l.top,w=l.bottom;g*=u,y*=u,b*=u,w*=u;var x=ay(i)?[1,1,1,.125]:[0,0,0,.075];m.push({x:d-g-.5,y:h-b-.5,width:p+g+y+1,height:v+b+w+1,strokeWidth:1,strokeColor:x,opacity:f?1:.5})}var $=ay(n);c&&c.frameColor&&ay(c.frameColor)||$||(m.push({x:d-1,y:h-1,width:p+2,height:v+2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:o}),m.push({x:d+1,y:h+1,width:p-2,height:v-2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:o}))}e([].concat(m,[{x:d,y:h,width:p,height:v,strokeWidth:1,strokeColor:n,opacity:o}]))})),hc=sd([]);Il(t,hc,(function(t){return n(353,Re=t)}));var pc=ld([fc,hc],(function(t,e){var n=t[0],r=t[1];e([].concat(n,r))}));Il(t,pc,(function(t){return n(88,Cn=t)}));var vc=gp(0,{precision:.001});Il(t,vc,(function(t){return n(355,Le=t)}));var mc=gp();Il(t,mc,(function(t){return n(358,Te=t)}));var gc=gp();Il(t,gc,(function(t){return n(357,Ae=t)}));var yc=gp();Il(t,yc,(function(t){return n(356,Pe=t)}));var bc=gp();Il(t,bc,(function(t){return n(354,Ie=t)}));var wc=sd(!1);Il(t,wc,(function(t){return n(339,le=t)}));var xc,$c=sd();Il(t,$c,(function(t){return n(342,he=t)}));var Cc=ld([wc,$c],(function(t,e){var r=t[0],i=t[1];if(r&&i){if(xc&&(xc.cancel(),n(256,xc=void 0)),Js(i))return e(ko(i));var o=Gc.length?0:ie?250:0;n(256,xc={cancel:uo}),aa(i,xc,o).then(e).catch((function(t){Dl(Ro,de.error=t,de)})).finally((function(){n(256,xc=void 0)}))}else e(void 0)}));On(),On=Sl(Cc,(function(t){return n(328,Gt=t)}));var _c=function(t){Se&&Gt&&(t&&Gt.paused?Gt.play().catch((function(){})):t||Gt.paused||Gt.pause())},kc=e.imagePreviewCurrent,Ec=void 0===kc?void 0:kc,Mc=sd({});Il(t,Mc,(function(t){return n(344,ge=t)}));var Sc=sd([]);Il(t,Sc,(function(t){return n(82,gn=t)}));var Rc=ld([Mu,Aa,Eo,Ja,nu,oc,Fo,Vo,Uo,Bu,Du,Za],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],c=t[6],s=t[7],l=t[8],f=t[9],d=t[10],h=t[11];if(n&&a){var p=Eh(n,r,i,o,a,f,d,u,c,s,l);!h&&y(p),e(p)}}));Il(t,Rc,(function(t){return n(345,ye=t)}));var Ic,Oc,Pc=ld([Go,Ko,Yo,Jo,Qo],(function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=n&&Object.keys(n).map((function(t){return n[t]})).filter(Boolean);e({gamma:i||void 0,vignette:o||void 0,noise:a||void 0,convolutionMatrix:r||void 0,colorMatrix:u&&u.length&&yl(u)})})),Tc=function(){if(!dc())return!1;var t=(navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/i)||[]).map((function(t){return parseInt(t,10)||0})),e=t[1],n=t[2];return e>13||13===e&&n>=4}(),jc=sd({});Il(t,jc,(function(t){return n(333,ee=t)}));var Bc=tm(),Dc=cd(Bc,(function(t){var e=function(){return t(tm())},n=matchMedia("(resolution: "+Bc+"dppx)");return n.addListener(e),function(){return n.removeListener(e)}}));Il(t,Dc,(function(t){return n(56,je=t)}));var Nc=function(t,e){var n=Hc(),r=n.sub,i=n.pub,o=[],a=sd(0),u=[],c=function(){return u.forEach((function(t){return t({index:Rl(a),length:o.length})}))},s={get index(){return Rl(a)},set index(t){t=Number.isInteger(t)?t:0,t=Id(t,0,o.length-1),a.set(t),e(o[s.index]),c()},get state(){return o[o.length-1]},length:function(){return o.length},undo:function(){var t=s.index--;return i("undo",t),t},redo:function(){var t=s.index++;return i("redo",s.index),t},revert:function(){o.length=1,s.index=0,i("revert")},write:function(n){n&&e(Object.assign({},t(),n));var r=t(),u=o[o.length-1];JSON.stringify(r)!==JSON.stringify(u)&&(o.length=s.index+1,o.push(r),a.set(o.length-1),c(),i("writehistory"))},set:function(t){void 0===t&&(t={}),o.length=0,s.index=0;var e=Array.isArray(t)?t:[t];o.push.apply(o,e),s.index=o.length-1},get:function(){return[].concat(o)},subscribe:function(t){return u.push(t),t({index:s.index,length:o.length}),function(){return u.splice(u.indexOf(t),1)}},on:r};return s}((function(){return ke}),(function(t){Dl(ia,ke=t,ke),Ta.set(Ee)}));Pn(),Pn=Sl(Nc,(function(t){return n(351,_e=t)}));var zc=function(){var t=Object.assign({x:0,y:0},Bt),e=Cu(wu(t,ke.cropAspectRatio),Math.round),n=Er(Object.assign({},ke,{rotation:0,crop:e}),ke),r=[n];JSON.stringify(n)!==JSON.stringify(ke)&&r.push(Object.assign({},ke)),Nc.set(r)},Fc=Ro.subscribe((function(t){t&&t.complete&&zc()})),Zc=function(){return yr().then((function(t){return t&&Nc.revert()}))},Vc=sd(!1);Il(t,Vc,(function(t){return n(334,re=t)}));var Wc=function(){Dl(Vc,re=!0,re),wr().then((function(t){var e;t?e=xs.subscribe((function(t){1===t&&(e&&e(),Tn("processImage"))})):Dl(Vc,re=!1,re)}))},qc=Io.subscribe((function(t){if(t){Dl(Vc,re=!0,re);var e=t.complete,n=t.abort;(e||n)&&Dl(Vc,re=!1,re)}else Dl(Vc,re=!1,re)})),Gc=oy();Il(t,Gc,(function(t){return n(54,pe=t)}));var Kc=ld([Gc],(function(t,e){var n=t[0];if(!n.length)return e();var r=n[0];e({origin:r.origin,translation:r.translation,rotation:r.rotation,scale:r.scale})})),Yc=sd();Il(t,Yc,(function(t){return n(348,xe=t)}));var Xc,Jc=[],Qc=sd(),ts=sd(),es=ld([Ou,ts,Iu,Pu],(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e||(n||r<1?i:1)})),ns=Object.assign({},zn,{imageFile:Co,imageSize:Eo,mediaDuration:Mo,mediaTrim:So,imageBackgroundColor:Wo,imageBackgroundImage:qo,imageCropAspectRatio:Oo,imageCropMinSize:To,imageCropMaxSize:jo,imageCropLimitToImage:Po,imageCropRect:Ao,imageCropRectOrigin:No,imageCropRectSnapshot:Ya,imageCropRectAspectRatio:zo,imageCropRange:Do,imageRotation:Fo,imageRotationRange:Zo,imageFlipX:Vo,imageFlipY:Uo,imageOutputSize:Ho,imageColorMatrix:Go,imageConvolutionMatrix:Ko,imageGamma:Yo,imageVignette:Jo,imageNoise:Qo,imageDecoration:ta,imageAnnotation:ea,imageRedaction:na,imageFrame:ra,imagePreview:Cc,imagePreviewSource:$c,imageTransforms:Rc,imagePreviewModifiers:Mc,history:Nc,animation:Ua,pixelRatio:Dc,elasticityMultiplier:mr,scrollElasticity:Fy,rangeInputElasticity:5,redrawTrigger:oo,pointerAccuracy:Na,pointerHoverable:za,env:jc,rootRect:Aa,stageRect:Mu,stageRectBase:vu,stageRecenter:pu,stageScalar:Iu,stagePadding:$u,stagePadded:_u,presentationScalar:oc,imagePreviewUpscale:ts,utilRect:Da,utilRectPadded:Eu,allowPan:wa,allowZoom:xa,allowZoomControls:Ca,enableZoomInput:ka,enablePanInput:_a,enablePanInputStatus:Sa,imageSelectionMultiTouching:Qc,rootBackgroundColor:Ra,rootForegroundColor:Ia,rootLineColor:La,rootColorSecondary:Oa,imageOutlineOpacity:lc,utilTools:Yc,imageSelectionPan:Du,imageSelectionZoom:Ou,imageSelectionZoomCurrent:es,imageSelectionStageFitScalar:Pu,imageSelectionStoredState:Nu,muteAudioStore:io,imageOverlayMarkup:hc,interfaceImages:Sc,isInteracting:Ha,isTransformingImage:Za,isInteractingFraction:Va,imageCropRectIntent:Xa,imageCropRectPresentation:Ja,imageSelectionRect:nu,imageSelectionRectIntent:au,imageSelectionRectPresentation:Fu,imageSelectionRectSnapshot:iu,imageScalar:ic,imageTransformsInterpolated:Kc,imageEffects:Pc});delete ns.image;var rs="util-"+Bo(),is=[],os=function(t){return $.find((function(e){var n=e[0];return t===n}))},as=[],us=dc(),cs=function(t,e,n){var r=J.getPropertyValue(t);r=n?n(r):/^[0-9]+$/.test(r)?parseFloat(r):void 0,e.set(r,{hard:!ie})},ss=function(t,e,n){void 0===n&&(n=!1);var r,i,o=(r=t,i=J.getPropertyValue(r),Qg(i));o&&0!==o[3]&&(n||(o.length=3),e.set(o,{hard:!ie}))},ls=sd();Il(t,ls,(function(t){return n(83,yn=t)}));var fs=sd();Il(t,fs,(function(t){return n(84,bn=t)}));var ds=sd();Il(t,ds,(function(t){return n(85,wn=t)}));var hs=gp(0,{damping:.9});Il(t,hs,(function(t){return n(86,xn=t)}));var ps=function(){ss("color",Ia),ss(Oi?"--color-background":"background-color",Ra),ss("outline-color",La),ss("--color-secondary",Oa),ss("--grid-color-even",fs,!0),ss("--grid-color-odd",ds,!0),cs("--grid-size",ls),cs("--editor-inset-top",ja,(function(t){return parseInt(t,10)}))},vs=ld([Rc,Pc,Wo,ga],(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e&&Object.assign({},e,n,{backgroundColor:r,backgroundImage:i})}));Il(t,vs,(function(t){return n(343,ve=t)}));var ms,gs,ys=function(){var t=Gc.length?void 0:{resize:1.05},e=function(t,e,n){void 0===n&&(n={});var r,i=n,o=i.resize,a=void 0===o?1:o,u=i.opacity,c={opacity:[gp(void 0===u?0:u,Object.assign({},ry,{stiffness:.1})),Xo],resize:[gp(a,Object.assign({},ry,{stiffness:.1})),Xo],translation:[gp(void 0,ry),Xo],rotation:[gp(void 0,iy),Xo],origin:[gp(void 0,ry),Xo],scale:[gp(void 0,iy),Xo],gamma:[gp(void 0,iy),function(t){return t||1}],vignette:[gp(void 0,iy),function(t){return t||0}],colorMatrix:[gp([].concat(ny),ry),function(t){return t||[].concat(ny)}],convolutionMatrix:[sd(void 0),function(t){return t&&t.clarity||void 0}],backgroundColor:[gp(void 0,ry),function(t,e,n){if(Array.isArray(t)){if(Array.isArray(e)){var r=[].concat(t);0===e[3]?(r[3]=0,n(r)):0===r[3]&&((t=[].concat(e))[3]=0)}return t}}],backgroundImage:[sd(void 0),Xo]},s=Object.entries(c).map((function(t){return[t[0],t[1][0]]})),l=s.map((function(t){return t[1]})),f=Object.entries(c).reduce((function(t,e){var n=e[0],i=e[1],o=i[0],a=i[1];return t[n]=function(t,e){return o.set(a(t,r[n],(function(t){o.set(t,{hard:!0})})),e)},t}),{}),d=ld(l,(function(n){return(r=n.reduce((function(t,e,n){return t[s[n][0]]=e,t}),{})).data=t,r.size=e,r.scale*=n[1],r}));return d.get=function(){return r},d.set=function(t,e){var n={hard:!e};Object.entries(t).forEach((function(t){var e=t[0],r=t[1];f[e]&&f[e](r,n)}))},d}(Gt,Bt,t);Gc.unshift(e),ws(ve)},ws=function(t){Gc.forEach((function(e,n){var r=0===n?1:0;e.set(Object.assign({},t,{opacity:r,resize:1}),me)}))},xs=vp(void 0,{duration:500});Il(t,xs,(function(t){return n(53,ce=t)}));var _s,ks=sd(!1);Il(t,ks,(function(t){return n(338,se=t)}));var Es=gp(void 0,{stiffness:.1,damping:.7,precision:.25});Il(t,Es,(function(t){return n(78,hn=t)}));var Ss=gp(0,{stiffness:.1,precision:.05});Il(t,Ss,(function(t){return n(79,pn=t)}));var Is=gp(0,{stiffness:.02,damping:.5,precision:.25});Il(t,Is,(function(t){return n(336,ae=t)}));var Ls=gp(void 0,{stiffness:.02,damping:.5,precision:.25});Il(t,Ls,(function(t){return n(337,ue=t)}));var Os,Ps=gp(void 0,{stiffness:.02,damping:.5,precision:.25});Il(t,Ps,(function(t){return n(335,oe=t)}));var As=function(){Tn("abortLoadImage")},Ts=function(){Tn("abortProcessImage"),Dl(Vc,re=!1,re)},js=function(t){return t.preventDefault()},Bs=Tc?function(t){var e=t.touches?t.touches[0]:t;e.pageX>20&&e.pageX<window.innerWidth-20||js(t)}:uo,Ds=sd([]);Il(t,Ds,(function(t){return n(415,Qt=t)})),$f("keysPressed",Ds);var Ns,zs=function(t){!t||Ac(t)&&!function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)}(t)||!Ac(t)&&!/^http/.test(t)||Tn("loadImage",t)},Fs=function(t){t&&zs(t)},Zs=void 0,Hs=[],Vs=sd();$f("rootPortal",Vs),$f("rootRect",Aa);var Us,Ks=function(){return{foregroundColor:[].concat(qt),lineColor:[].concat(Wt),utilVisibility:Object.assign({},E),isInteracting:Ut,isInteractingFraction:Vt,rootRect:Qa(Ht),stageRect:Qa(Zt),annotationShapesDirty:cl,decorationShapesDirty:ll,frameShapesDirty:fl,blendShapesDirty:dl}},Ys=function(t,e,n){return Ws(t,Fa(e.width/n,e.height/n))},Xs=function(t,e,n){var r;return t._translate=pa((r=e).x,r.y),t._scale=n,t},Qs=function(t){var e=[];return t.forEach((function(t){return e.push(tl(t))})),e.filter(Boolean)},tl=function(t){return Ms(t)?(t.points=[pa(t.x1,t.y1),pa(t.x2,t.y2)],t):(!function(t){return $s(t)&&!t.text.length}(t)||t.backgroundColor&&0!==t.backgroundColor[3]||(Cs(t)&&(t.width=5,t.height=t.lineHeight),t.strokeWidth=1,t.strokeColor=[1,1,1,.5],t.backgroundColor=[0,0,0,.1]),t)},el=[],nl=[],rl=[],il=[],ol=[],al={},ul=function(t,e,n,r,i,o){var u=t.annotationShapesDirty,c=t.decorationShapesDirty,s=t.frameShapesDirty,l=t.blendShapesDirty,f=t.selectionRect,d=t.scale,h=Us!==d,p=h||!du(al,f);p&&(Us=d,al=f),(u||n!==Ft)&&(el=n.filter(Rs).map(bs).sort((function(t,e){return t.alwaysOnTop?1:e.alwaysOnTop?-1:0})).map((function(t){return Ws(t,Bt)}))),(h||sl||u||n!==Ft)&&(nl=Qs(el.map((function(t){return a(t,{flipX:Nt,flipY:Dt,rotation:zt,scale:d,context:eu(Bt)})})).flat())),l&&(rl=e.filter(Rs).map((function(t){return Ws(t,Bt)}))),(c||r!==jt||p)&&(il=Qs(r.filter(Rs).map(bs).sort((function(t,e){return t.alwaysOnTop?1:e.alwaysOnTop?-1:0})).map((function(t){return Ys(t,f,d)})).map((function(t){return a(t,{context:f})})).flat().map((function(t){return Xs(t,f,d)})))),(s||o!==Tt||p)&&(ol=o?Qs([o].map(bs).map((function(t){return Ys(t,f,d)})).map(a).flat().map((function(t){return Xs(t,f,d)}))):[]);var v=Qs(i.filter(Rs));return{blendShapesDirty:l,blendShapes:rl,annotationShapesDirty:u,annotationShapes:nl,decorationShapesDirty:c,decorationShapes:il,frameShapesDirty:s,frameShapes:ol,interfaceShapes:v}},cl=!0,sl=!0,ll=!0,fl=!0,dl=!0;wf((function(){_c(!1),ya(),Qu(),Ju(),tc(),ec(),nc(),rc(),Fc(),qc(),Na.destroy(),za.destroy(),xo.destroy(),Gc.clear(),el.length=0,nl.length=0,rl.length=0,il.length=0,ol.length=0;try{n(214,Ec=void 0),n(257,ms=void 0)}catch(t){}}));var hl,pl;return t.$$set=function(t){"class"in t&&n(215,Bn=t.class),"layout"in t&&n(216,Nn=t.layout),"stores"in t&&n(217,zn=t.stores),"locale"in t&&n(3,Zn=t.locale),"id"in t&&n(4,Vn=t.id),"util"in t&&n(218,Wn=t.util),"utils"in t&&n(219,Gn=t.utils),"animations"in t&&n(220,Yn=t.animations),"disabled"in t&&n(221,Jn=t.disabled),"status"in t&&n(213,tr=t.status),"previewUpscale"in t&&n(222,nr=t.previewUpscale),"previewPad"in t&&n(223,ir=t.previewPad),"previewMaskOpacity"in t&&n(5,ar=t.previewMaskOpacity),"previewImageDataMaxSize"in t&&n(224,cr=t.previewImageDataMaxSize),"previewImageTextPixelRatio"in t&&n(6,lr=t.previewImageTextPixelRatio),"markupMaskOpacity"in t&&n(7,dr=t.markupMaskOpacity),"zoomMaskOpacity"in t&&n(225,pr=t.zoomMaskOpacity),"elasticityMultiplier"in t&&n(8,mr=t.elasticityMultiplier),"willRevert"in t&&n(226,yr=t.willRevert),"willProcessImage"in t&&n(227,wr=t.willProcessImage),"willRenderCanvas"in t&&n(9,$r=t.willRenderCanvas),"willRenderToolbar"in t&&n(228,_r=t.willRenderToolbar),"willSetHistoryInitialState"in t&&n(229,Er=t.willSetHistoryInitialState),"enableButtonExport"in t&&n(230,Sr=t.enableButtonExport),"enableButtonRevert"in t&&n(231,Ir=t.enableButtonRevert),"enableNavigateHistory"in t&&n(232,Or=t.enableNavigateHistory),"enableToolbar"in t&&n(10,Ar=t.enableToolbar),"enableUtils"in t&&n(233,jr=t.enableUtils),"enableButtonClose"in t&&n(234,Dr=t.enableButtonClose),"enableDropImage"in t&&n(235,zr=t.enableDropImage),"enablePasteImage"in t&&n(236,Zr=t.enablePasteImage),"enableBrowseImage"in t&&n(237,Vr=t.enableBrowseImage),"enableTransparencyGrid"in t&&n(11,Wr=t.enableTransparencyGrid),"layoutDirectionPreference"in t&&n(238,Gr=t.layoutDirectionPreference),"layoutHorizontalUtilsPreference"in t&&n(239,Yr=t.layoutHorizontalUtilsPreference),"layoutVerticalUtilsPreference"in t&&n(240,Jr=t.layoutVerticalUtilsPreference),"layoutVerticalToolbarPreference"in t&&n(241,ti=t.layoutVerticalToolbarPreference),"layoutVerticalControlGroupsPreference"in t&&n(242,ni=t.layoutVerticalControlGroupsPreference),"layoutVerticalControlTabsPreference"in t&&n(243,ii=t.layoutVerticalControlTabsPreference),"markupEditorZoomLevel"in t&&n(244,ai=t.markupEditorZoomLevel),"markupEditorZoomLevels"in t&&n(12,ci=t.markupEditorZoomLevels),"markupEditorZoomAdjustStep"in t&&n(13,li=t.markupEditorZoomAdjustStep),"markupEditorZoomAdjustFactor"in t&&n(14,di=t.markupEditorZoomAdjustFactor),"markupEditorZoomAdjustWheelFactor"in t&&n(15,pi=t.markupEditorZoomAdjustWheelFactor),"markupEditorInteractionMode"in t&&n(245,mi=t.markupEditorInteractionMode),"muteAudio"in t&&n(246,yi=t.muteAudio),"willSetMediaInitialTimeOffset"in t&&n(247,wi=t.willSetMediaInitialTimeOffset),"enablePan"in t&&n(16,$i=t.enablePan),"enableZoom"in t&&n(17,_i=t.enableZoom),"enableZoomControls"in t&&n(248,Ei=t.enableZoomControls),"enableZoomInput"in t&&n(18,Si=t.enableZoomInput),"enablePanInput"in t&&n(249,Ii=t.enablePanInput),"enableCanvasAlpha"in t&&n(19,Oi=t.enableCanvasAlpha),"enablePanLimit"in t&&n(20,Ai=t.enablePanLimit),"panLimitGutterScalar"in t&&n(21,ji=t.panLimitGutterScalar),"zoomPresetOptions"in t&&n(22,Di=t.zoomPresetOptions),"zoomAdjustStep"in t&&n(23,zi=t.zoomAdjustStep),"zoomAdjustFactor"in t&&n(24,Zi=t.zoomAdjustFactor),"zoomAdjustWheelFactor"in t&&n(25,Vi=t.zoomAdjustWheelFactor),"zoomLevel"in t&&n(0,Wi=t.zoomLevel),"imagePreviewSrc"in t&&n(250,Gi=t.imagePreviewSrc),"imageOrienter"in t&&n(251,Yi=t.imageOrienter),"pluginComponents"in t&&n(252,Ji=t.pluginComponents),"pluginOptions"in t&&n(26,to=t.pluginOptions),"root"in t&&n(2,ro=t.root),"imageSourceToImageData"in t&&n(27,bo=t.imageSourceToImageData),"imagePreviewCurrent"in t&&n(214,Ec=t.imagePreviewCurrent)},t.$$.update=function(){if(1&t.$$.dirty[0]|134217728&t.$$.dirty[7]&&n(0,Wi=null===Wi?ai:Wi),536870912&t.$$.dirty[7]&&io.set(yi),256&t.$$.dirty[0]&&Dl(ao,dn=mr,dn),1073741824&t.$$.dirty[6]&&n(317,r="overlay"===Nn),65536&t.$$.dirty[7]|128&t.$$.dirty[10]&&n(44,i=jr&&!r),67108866&t.$$.dirty[0]&&to&&Object.entries(to).forEach((function(t){var e=t[0],r=t[1];Object.entries(r).forEach((function(t){var r=t[0],i=t[1];no[e]&&n(1,no[e][r]=i,no)}))})),2&t.$$.dirty[0]|16&t.$$.dirty[8]){var e=!1;Ji.forEach((function(t){var r=t[0];no[r]||(n(1,no[r]={},no),e=!0)})),e&&n(254,co=[].concat(Ji))}var y,Ot,At,Tt,jt;if(16&t.$$.dirty[7]&&so.set(Jn?1:0),128&t.$$.dirty[7]&&(o=cr?function(t,e){return Fa(Math.min(t.width,e.width),Math.min(t.height,e.height))}(cr,vo):vo),536870912&t.$$.dirty[11]&&xo.update(sn[0]),268435456&t.$$.dirty[11]&&(a=cn?function(t,e){return cn(t,Object.assign({flipX:void 0,flipY:void 0,rotation:void 0},e,{isPreview:!0}))}:Xo),1&t.$$.dirty[8]|134217728&t.$$.dirty[11]&&Ea.set(un&&Ei),268435456&t.$$.dirty[7]|2&t.$$.dirty[8]&&Ma.set("pan"===mi||Ii),524288&t.$$.dirty[1]&&te&&Aa.set(ou(te.x,te.y,te.width,te.height)),65664&t.$$.dirty[10]|1&t.$$.dirty[11]&&Ht&&r&&de&&de.complete&&(y=rn,Ot=hu(Ht),y&&y===Ot||(Oo.set(hu(Ht)),zc())),8&t.$$.dirty[0]|4&t.$$.dirty[7]|64&t.$$.dirty[8]&&n(307,x=Zn&&co.length?Gn||co.map((function(t){return t[0]})):[]),268435456&t.$$.dirty[9]&&n(45,I=x.length>1),16384&t.$$.dirty[1]&&(I||Ta.set(tu())),1024&t.$$.dirty[0]|67108864&t.$$.dirty[11]&&(Ar||Ba.set(ou(0,nn,0,0))),131584&t.$$.dirty[10]&&n(320,c=!Ut&&u),33554432&t.$$.dirty[11]&&n(318,s=!en),524288&t.$$.dirty[1]&&n(264,St=te&&te.width>0&&te.height>0),67108864&t.$$.dirty[0]|64&t.$$.dirty[8]|268435456&t.$$.dirty[9]|256&t.$$.dirty[11]&&n(308,$=function(t,e,n,r){var i=e.filter((function(e){var n=e[0];return t.includes(n)})).filter((function(t){var e=t[0];return(0,t[1].isSupported)(Object.assign({},r,n[e]))})).map((function(t){return[t[0],t[1].Component]}));return Td(i,is,(function(t,e){return t[0]===e[0]&&t[1]===e[1]}))?is:(is=i,i)}(x,co,to,{src:$e})),536870912&t.$$.dirty[9]&&n(263,C=$.length),8&t.$$.dirty[0]|98304&t.$$.dirty[8]&&n(40,Rt=St&&Zn&&!!C),512&t.$$.dirty[1]&&setTimeout((function(){return n(255,Wa=Rt)}),1),8&t.$$.dirty[7]|128&t.$$.dirty[8]|1280&t.$$.dirty[10]&&Dl(Ua,me="always"===Yn?c:"never"!==Yn&&(c&&Wa&&s),me),8&t.$$.dirty[7]|768&t.$$.dirty[10]&&Dl(qa,ie="always"===Yn?u:"never"!==Yn&&(u&&s),ie),32&t.$$.dirty[7]|128&t.$$.dirty[10]&&Ga.set(nr||r),64&t.$$.dirty[7]&&bu.set(ir),4&t.$$.dirty[0]|20971520&t.$$.dirty[11]&&ro&&(ro.dispatchEvent(Vg("markupzoom",tn)),ro.dispatchEvent(Vg("zoom",Lc(tn)?tn:Ke))),4&t.$$.dirty[0]|8388608&t.$$.dirty[11]&&ro&&(ro.dispatchEvent(Vg("markuppan",Xe)),ro.dispatchEvent(Vg("pan",Xe))),1048576&t.$$.dirty[11]&&Ze&&zu(),2097152&t.$$.dirty[11]&&He&&Vu(),2&t.$$.dirty[7]|32768&t.$$.dirty[8]&&n(43,k=C&&Wn&&"string"==typeof Wn&&os(Wn)?Wn:C>0?$[0][0]:void 0),2101248&t.$$.dirty[1]&&k&&lc.set(.075,{hard:!ie}),256&t.$$.dirty[7]&&n(315,l=pr),786432&t.$$.dirty[11]&&n(316,f=Ne?-Math.max.apply(Math,Object.values(De)):0),69206016&t.$$.dirty[1]|32864&t.$$.dirty[10]&&Be){var Dt=Be.x-Zt.x,Nt=Zt.x+Zt.width-(Be.x+Be.width),zt=Be.y-Zt.y,Ft=Zt.y+Zt.height-(Be.y+Be.height),Vt=Math.min(Dt,zt,Nt,Ft);vc.set(Vt>f?0:Math.min(l,Math.abs(Vt/64)),{hard:!ie})}if(33554432&t.$$.dirty[1]&&n(314,d=.55/je),2097152&t.$$.dirty[1]|32784&t.$$.dirty[10]&&Zt&&mc.set({x:0,y:Zt.y,width:Zt.x<64?0:Zt.x,height:Zt.height+d},{hard:!ie}),2097152&t.$$.dirty[1]|98320&t.$$.dirty[10]&&Zt&&gc.set({x:0,y:0,width:Ht.width,height:Zt.y+d},{hard:!ie}),2097152&t.$$.dirty[1]|98320&t.$$.dirty[10]&&Zt){var Wt=Zt.x+Zt.width,qt=Ht.width-(Zt.x+Zt.width);qt<64&&(Wt+=qt,qt=0),yc.set({x:Wt,y:Zt.y,width:qt,height:Zt.height+d},{hard:!ie})}if(2097152&t.$$.dirty[1]|98304&t.$$.dirty[10]&&Zt&&bc.set({x:0,y:Zt.y+Zt.height,width:Ht.width,height:Ht.height-(Zt.y+Zt.height)},{hard:!ie}),16777216&t.$$.dirty[1]|147456&t.$$.dirty[11]&&n(310,h=Te&&Object.assign({id:zy,backgroundColor:Oe,opacity:Le},Te)),16777216&t.$$.dirty[1]|81920&t.$$.dirty[11]&&n(313,p=Ae&&Object.assign({id:zy,backgroundColor:Oe,opacity:Le},Ae)),16777216&t.$$.dirty[1]|49152&t.$$.dirty[11]&&n(312,v=Pe&&Object.assign({id:zy,backgroundColor:Oe,opacity:Le},Pe)),16777216&t.$$.dirty[1]|24576&t.$$.dirty[11]&&n(311,m=Ie&&Object.assign({id:zy,backgroundColor:Oe,opacity:Le},Ie)),15&t.$$.dirty[10]&&n(309,g=[p,v,m,h].filter(Boolean)),1073741824&t.$$.dirty[9]|4096&t.$$.dirty[11]&&g&&Re){var Qt=Re.filter((function(t){return t.id!==zy}));hc.set([].concat(Qt,g))}if(4&t.$$.dirty[8]|256&t.$$.dirty[11]&&$c.set(Gi||($e||void 0)),262144&t.$$.dirty[10]|2048&t.$$.dirty[11]&&Gt&&(At=Me,Se&&Gt&&(Gt.muted=At)),4&t.$$.dirty[0]|268435456&t.$$.dirty[6]|262144&t.$$.dirty[10]&&(n(214,Ec=Gt),Gt&&ro.dispatchEvent(Vg("loadpreview",Ec))),2&t.$$.dirty[11]&&he&&(Du.set(ha()),Ou.set(void 0),zu(),Sc.set([])),1024&t.$$.dirty[11]&&n(268,b=_e.index>0),1024&t.$$.dirty[11]&&n(267,w=_e.index<_e.length-1),4&t.$$.dirty[1]&&Qc.set(Xc),512&t.$$.dirty[11]&&ts.set(Ce),8&t.$$.dirty[0]|32768&t.$$.dirty[8]|268435456&t.$$.dirty[9]&&n(46,_=C&&x.map((function(t){var e=os(t);if(e)return{id:t,view:e[1],tabIcon:Zn[t+"Icon"],tabLabel:Zn[t+"Label"]}})).filter(Boolean)||[]),4096&t.$$.dirty[1]&&ba.set(k),32832&t.$$.dirty[1]&&n(37,E=_.reduce((function(t,e){return t[e.id]=E&&E[e.id]||0,t}),{})),4096&t.$$.dirty[1]&&n(75,M={name:rs,selected:k}),32768&t.$$.dirty[1]&&n(74,S=_.map((function(t){return{id:t.id,icon:t.tabIcon,label:t.tabLabel}}))),32768&t.$$.dirty[1]&&n(73,R=_.map((function(t){return t.id}))),536870912&t.$$.dirty[6]&&n(72,L=Vp(["PinturaRoot","PinturaRootComponent",Bn])),65536&t.$$.dirty[10]&&n(303,O=Ht&&(Ht.width>1e3?"wide":Ht.width<600?"narrow":void 0)),65536&t.$$.dirty[10]&&n(290,P=Ht&&(Ht.width<=320||Ht.height<=460)),65536&t.$$.dirty[10]&&n(302,A=Ht&&(Ht.height>1e3?"tall":Ht.height<600?"short":void 0)),4&t.$$.dirty[0]&&n(270,T=ro&&ro.parentNode&&ro.parentNode.classList.contains("PinturaModal")),1073741824&t.$$.dirty[0]|4194304&t.$$.dirty[8]|65536&t.$$.dirty[10]&&n(295,j=T&&Ht&&Ic>Ht.width),1&t.$$.dirty[1]|4194304&t.$$.dirty[8]|65536&t.$$.dirty[10]&&n(294,B=T&&Ht&&Oc>Ht.height),98304&t.$$.dirty[9]&&n(296,D=j&&B),524288&t.$$.dirty[0]&&n(293,N=Oi),16777216&t.$$.dirty[9]&&n(265,z="narrow"===O),2097152&t.$$.dirty[7]|65536&t.$$.dirty[10]&&n(304,(Tt=Ht,jt=Gr,F=Ht?"auto"===jt?Tt.width>Tt.height?"landscape":"portrait":"horizontal"===jt?Tt.width<500?"portrait":"landscape":"vertical"===jt?Tt.height<400?"landscape":"portrait":void 0:"landscape")),33554432&t.$$.dirty[9]&&n(71,Z="landscape"===F),131072&t.$$.dirty[8]|8388608&t.$$.dirty[9]&&n(292,H=z||"short"===A),1073741824&t.$$.dirty[0]|65536&t.$$.dirty[10]&&n(291,V=us&&Ht&&Ic===Ht.width&&!Tc),2&t.$$.dirty[1]|128&t.$$.dirty[11]&&n(266,U=[].concat(xe||[],Jc).filter(Boolean)),4194304&t.$$.dirty[7]&&n(301,W="has-navigation-preference-"+Yr),8388608&t.$$.dirty[7]&&n(300,q="has-navigation-preference-"+Jr),16777216&t.$$.dirty[7]&&n(297,G="has-toolbar-preference-"+ti),33554432&t.$$.dirty[7]&&n(299,K="has-controlgroups-preference-"+ni),67108864&t.$$.dirty[7]&&n(298,Y="has-controltabs-preference-"+ii),65536&t.$$.dirty[10]&&n(306,X=void 0!==Ht&&Ht.width>0&&Ht.height>0),4&t.$$.dirty[0]|134217728&t.$$.dirty[9]&&n(305,J=X&&ro&&getComputedStyle(ro)),67108864&t.$$.dirty[9]&&J&&ps(),1024&t.$$.dirty[0]|2121728&t.$$.dirty[1]|1073741824&t.$$.dirty[6]|16&t.$$.dirty[7]|4194304&t.$$.dirty[8]|67106816&t.$$.dirty[9]|8388608&t.$$.dirty[10]|96&t.$$.dirty[11]&&jc.set(Object.assign({},ee,{layoutMode:Nn,orientation:F,horizontalSpace:O,verticalSpace:A,navigationHorizontalPreference:W,navigationVerticalPreference:q,controlGroupsVerticalPreference:K,controlTabsVerticalpreference:Y,toolbarVerticalPreference:G,isModal:T,isDisabled:Jn,isCentered:D,isCenteredHorizontally:j,isCenteredVertically:B,isAnimated:ie,isTransparent:N,pointerAccuracy:we,pointerHoverable:be,isCompact:H,hasSwipeNavigation:V,hasLimitedSpace:P,hasToolbar:Ar,hasNavigation:I&&i,isIOS:us,browserVersion:np()?"chrome-"+(navigator.userAgent.match(/Chrome\/([0-9]+)/)||[])[1]:void 0})),8388608&t.$$.dirty[10]&&n(70,Q=Object.entries(ee).map((function(t){var e=t[0],n=t[1];return/^is|has/.test(e)?n?Wg(e):void 0:n})).filter(Boolean).join(" ")),4096&t.$$.dirty[1]&&k&&Yc.set([]),24&t.$$.dirty[11]&&n(69,tt=ye&&Object.entries(ge).filter((function(t){return null!=t[1]})).reduce((function(t,e){var n=e[1];return t=Object.assign({},t,n)}),{})),1&t.$$.dirty[11]&&n(287,it=de&&"any-to-file"===de.task),256&t.$$.dirty[9]&&it&&Gc&&Gc.clear(),4&t.$$.dirty[11]&&n(289,et=!!ve&&!!ve.translation),512&t.$$.dirty[8]|1024&t.$$.dirty[9]|262144&t.$$.dirty[10]&&et&&Gt&&Gt!==ms&&(n(257,ms=Gt),ys()),1024&t.$$.dirty[9]|4&t.$$.dirty[11]&&et&&ws(ve),8388608&t.$$.dirty[1]&&pe&&pe.length>1){var ke=[];Gc.forEach((function(t,e){0!==e&&t.get().opacity<=0&&ke.push(t)})),ke.forEach((function(t){return Gc.remove(t)}))}if(8&t.$$.dirty[0]|512&t.$$.dirty[9]&&n(39,rt=Zn&&nt.length&&Zn.labelSupportError(nt)),1&t.$$.dirty[11]&&n(279,ot=de&&!!de.error),1&t.$$.dirty[11]&&n(42,at=!de||!de.complete&&void 0===de.task),1&t.$$.dirty[11]&&n(280,ut=de&&(de.taskLengthComputable?de.taskProgress:1/0)),256&t.$$.dirty[9]&&it&&Dl(wc,le=!1,le),2097152&t.$$.dirty[1]|1024&t.$$.dirty[8]|1&t.$$.dirty[11]&&de&&de.complete){var Ee=ie?250:0;clearTimeout(gs),n(258,gs=setTimeout((function(){Dl(wc,le=!0,le)}),Ee))}(2048&t.$$.dirty[1]|1&t.$$.dirty[9]|536870912&t.$$.dirty[10]|1&t.$$.dirty[11]&&n(284,ct=de&&!ot&&!at&&!le),256&t.$$.dirty[8]|262144&t.$$.dirty[10]|2&t.$$.dirty[11]&&n(283,st=!(!he||Gt&&!xc)),2097152&t.$$.dirty[1]|536870912&t.$$.dirty[10])&&(le?setTimeout((function(){return hs.set(1)}),ie?500:0):hs.set(0));if(1090519040&t.$$.dirty[10]&&n(278,lt=!!(re||fe&&void 0!==fe.progress&&!fe.complete)),1073741824&t.$$.dirty[8]&&lt&&_c(!1),2048&t.$$.dirty[1]|1&t.$$.dirty[11]&&n(281,ft=de&&!(de.error||at)),8&t.$$.dirty[0]|1&t.$$.dirty[11]&&n(282,dt=Zn&&(de?!de.complete||de.error?Ih(Zn.statusLabelLoadImage(de),de.error&&de.error.metadata,"{","}"):Zn.statusLabelLoadImage({progress:1/0,task:"blob-to-bitmap"}):Zn.statusLabelLoadImage(de))),8&t.$$.dirty[0]|1073741824&t.$$.dirty[10]&&n(277,ht=fe&&Zn&&Zn.statusLabelProcessImage(fe)),1073741824&t.$$.dirty[10]&&n(275,pt=fe&&(fe.taskLengthComputable?fe.taskProgress:1/0)),1073741824&t.$$.dirty[10]&&n(276,vt=fe&&!fe.error),1073741824&t.$$.dirty[10]&&n(274,mt=!(!fe||!fe.error)),8&t.$$.dirty[0]|2048&t.$$.dirty[1]|134217728&t.$$.dirty[6]|2080374784&t.$$.dirty[8]|63&t.$$.dirty[9])if(tr){var ze,Fe,Ve,Ue,We;if(Lo(tr)&&(ze=tr),Lc(tr))Fe=tr;else if(Array.isArray(tr)){var qe=tr;ze=qe[0],Fe=qe[1],We=qe[2],!1===Fe&&(Ue=!0),Lc(Fe)&&(Ve=!0)}n(34,_s=(ze||Fe)&&{text:ze,aside:Ue||Ve,progressIndicator:{visible:Ve,progress:Fe},closeButton:Ue&&{label:Zn.statusLabelButtonClose,icon:Zn.statusIconButtonClose,onclick:We||function(){return n(213,tr=void 0)}}})}else n(34,_s=Zn&&at||ot||ct||st?{text:dt,aside:ot||ft,progressIndicator:{visible:ft,progress:ut},closeButton:ot&&{label:Zn.statusLabelButtonClose,icon:Zn.statusIconButtonClose,onclick:As}}:Zn&&lt&&ht?{text:ht,aside:mt||vt,progressIndicator:{visible:vt,progress:pt},closeButton:mt&&{label:Zn.statusLabelButtonClose,icon:Zn.statusIconButtonClose,onclick:Ts}}:void 0);if(134217728&t.$$.dirty[6]&&n(286,gt=void 0!==tr),2097152&t.$$.dirty[1]|4194304&t.$$.dirty[8]|1073741824&t.$$.dirty[10]&&T&&fe&&fe.complete&&(ks.set(!0),setTimeout((function(){return ks.set(!1)}),ie?100:0)),4&t.$$.dirty[0]|4096&t.$$.dirty[1]|536870912&t.$$.dirty[10]&&le&&ro&&ro.dispatchEvent(Vg("selectutil",k)),2304&t.$$.dirty[1]|1073741824&t.$$.dirty[8]|177&t.$$.dirty[9]|268435456&t.$$.dirty[10]&&n(285,yt=se||rt||at||ot||ct||st||lt||gt),64&t.$$.dirty[9]&&Dl(xs,ce=yt?1:0,ce),2097152&t.$$.dirty[1]|64&t.$$.dirty[9]&&xs.set(yt?1:0,{duration:ie?500:1}),4194304&t.$$.dirty[1]&&n(41,bt=ce>0),8&t.$$.dirty[1]&&n(273,wt=!(!_s||!_s.aside)),2098184&t.$$.dirty[1]|33556480&t.$$.dirty[8]|134217728&t.$$.dirty[10]&&bt&&_s){clearTimeout(Os);var Ge={hard:!1===ie};if(wt){var Ye=!!_s.error||!ie;Ss.set(1,Ge),Es.set(ue,{hard:Ye}),n(259,Os=setTimeout((function(){Is.set(16,Ge)}),1))}else Ss.set(0,Ge),n(259,Os=setTimeout((function(){Is.set(0,Ge)}),1))}if(1024&t.$$.dirty[1]&&(bt||(Ps.set(void 0,{hard:!0}),Es.set(void 0,{hard:!0}),Is.set(0,{hard:!0}))),67108864&t.$$.dirty[10]&&n(272,xt=.5*ae),16777216&t.$$.dirty[8]|33554432&t.$$.dirty[10]&&n(68,$t="transform: translateX("+(oe-xt)+"px)"),256&t.$$.dirty[1]|262144&t.$$.dirty[10]&&n(38,Pt=Gt&&!rt),128&t.$$.dirty[1]|12582912&t.$$.dirty[8]&&n(269,_t=Ct&&(Pt||T)?js:uo),2097152&t.$$.dirty[8]&&n(67,kt=_t),2097152&t.$$.dirty[8]&&n(66,Et=_t),8&t.$$.dirty[0]|1048576&t.$$.dirty[1]|190464&t.$$.dirty[7]|1966080&t.$$.dirty[8]|8388608&t.$$.dirty[10]&&n(65,Mt=Zn&&ne&&cy((function(){return _r([["div","alpha",{class:"PinturaNavGroup"},[["div","alpha-set",{class:"PinturaNavSet"},[Dr&&["Button","close",{label:Zn.labelClose,icon:Zn.iconButtonClose,onclick:function(){return Tn("close")},hideLabel:!0}],Ir&&["Button","revert",{label:Zn.labelButtonRevert,icon:Zn.iconButtonRevert,disabled:!b,onclick:Zc,hideLabel:!0}]]]]],["div","beta",{class:"PinturaNavGroup PinturaNavGroupFloat"},[Or&&["div","history",{class:"PinturaNavSet"},[["Button","undo",{label:Zn.labelButtonUndo,icon:Zn.iconButtonUndo,disabled:!b,onclick:Nc.undo,hideLabel:!0}],["Button","redo",{label:Zn.labelButtonRedo,icon:Zn.iconButtonRedo,disabled:!w,onclick:Nc.redo,hideLabel:!0}]]],U.length&&["div","plugin-tools",{class:"PinturaNavSet"},U.filter(Boolean).map((function(t){var e=t[0],n=t[1],r=t[2];return[e,n,Object.assign({},r)]}))]]],["div","gamma",{class:"PinturaNavGroup"},[Sr&&["Button","export",{label:Zn.labelButtonExport,icon:z&&Zn.iconButtonExport,class:"PinturaButtonExport",onclick:Wc,hideLabel:z}]]]],Object.assign({},ee),(function(){return oo.set({})}))}))),524288&t.$$.dirty[10]&&n(262,It=Kt&&!!Kt.length),16384&t.$$.dirty[8]|526336&t.$$.dirty[10]&&n(261,Lt=It&&bl(Bt,Kt)),24576&t.$$.dirty[8]|6553600&t.$$.dirty[10]&&It&&function(t,e,r,i){if(e){var o={dataSizeScalar:r};i&&i[3]>0&&(o.backgroundColor=[].concat(i)),e(t,o).then((function(t){Zs&&wo(Zs),n(260,Zs=t)}))}}(Gt,Jt,Lt,Xt),4096&t.$$.dirty[8]|1574912&t.$$.dirty[10]&&Kt&&Zs&&Bt){var Je=Bt,Qe=Je.width,on=Je.height,an=Hu()?"pixelated":"auto"===Yt?"auto":"pixelated";n(35,Hs=Kt.map((function(t){var e=ou(t.x,t.y,t.width,t.height),n=mu(Qa(e),t.rotation).map((function(t){return pa(t.x/Qe,t.y/on)}));return Object.assign({},t,{id:"redaction",flipX:!1,flipY:!1,cornerRadius:0,strokeWidth:0,strokeColor:void 0,backgroundColor:[0,0,0,0],backgroundImage:Zs,backgroundImageRendering:an,backgroundCorners:n})})))}32&t.$$.dirty[1]&&Ns&&Vs.set(Ns),4&t.$$.dirty[0]|128&t.$$.dirty[1]&&Pt&&ro.dispatchEvent(Vg("ready")),262144&t.$$.dirty[1]&&n(59,cl=!0),30720&t.$$.dirty[10]&&n(60,sl=!0),131072&t.$$.dirty[1]&&n(61,ll=!0),65536&t.$$.dirty[1]&&n(62,fl=!0),16&t.$$.dirty[1]&&n(63,dl=!0)},n(319,u=!Np()),y=1===tm()?function(t){t&&($a(t.origin,Math.round),$a(t.translation,Math.round))}:Xo,n(288,nt=[!ey()&&"WebGL"].filter(Boolean)),n(271,Ct=dc()||_o()&&Uc()),n(64,(hl=An.pub,void 0===pl&&(pl=!0),Ot=function(t){"ping"===t.type&&(pl&&t.stopPropagation(),hl(t.detail.type,t.detail.data))})),[Wi,no,ro,Zn,Vn,ar,lr,dr,mr,$r,Ar,Wr,ci,li,di,pi,$i,_i,Si,Oi,Ai,ji,Di,zi,Zi,Vi,to,bo,Cc,Nc,Ic,Oc,Jc,Xc,_s,Hs,Ns,E,Pt,rt,Rt,bt,at,k,i,I,_,Tt,jt,Ft,te,ne,ie,ce,pe,Oe,je,Be,as,cl,sl,ll,fl,dl,Ot,Mt,Et,kt,$t,tt,Q,Z,L,R,S,M,Ee,fn,hn,pn,vn,mn,gn,yn,bn,wn,xn,$n,Cn,_n,kn,En,Mn,Sn,Rn,In,Ln,io,oo,ao,so,Co,Eo,Mo,So,Ro,Io,Oo,Po,Ao,Fo,Vo,Uo,Wo,ta,ea,na,ra,ia,ca,sa,la,da,va,ma,wa,xa,Ca,_a,ka,Ea,Ma,Sa,Ra,Ia,La,Pa,Aa,Ta,ja,Ba,Da,Na,za,Ha,Va,Ua,qa,Ga,Ka,Ya,Xa,nu,iu,au,su,$u,_u,Mu,Ru,Iu,Ou,ju,Bu,Du,Fu,Zu,Uu,oc,hc,pc,vc,mc,gc,yc,bc,wc,$c,Mc,Sc,Rc,jc,Dc,Vc,Gc,Yc,ns,ls,fs,ds,hs,function(t){var e=t.target,n=t.propertyName;e===ro&&/background|outline/.test(n)&&J&&ps()},vs,xs,ks,Es,Ss,Is,Ls,Ps,function(t){var e=!(!_s||!_s.closeButton)||!ie;Ls.set(t.detail.width,{hard:e}),Ps.set(Math.round(.5*-t.detail.width),{hard:e})},Bs,Ds,function(t){var e=t.keyCode,n=t.metaKey,r=t.ctrlKey,i=t.shiftKey;if(9===e&&Jn)t.preventDefault();else if(t.target&&32===e&&ro.contains(t.target)&&!Ug(t.target)&&t.preventDefault(),90!==e||!n&&!r){if(89===e&&r)Nc.redo();else if(229!==e&&!n&&!r){var o=new Set([].concat(Qt,[e]));Ds.set(Array.from(o))}}else i&&n?Nc.redo():Nc.undo()},function(t){var e=t.key,n=t.keyCode;if("Meta"===e)return Ds.set([]);Ds.set(Qt.filter((function(t){return t!==n})))},function(){Ds.set([])},function(t){Ug(t.target)||t.preventDefault()},function(t){zr&&zs(t.detail.resources[0])},function(){Vr&&uy().then(Fs)},function(t){if(Zr){var e=Id((window.innerWidth-Math.abs(Ht.x))/Ht.width,0,1),n=Id((window.innerHeight-Math.abs(Ht.y))/Ht.height,0,1);e<.75&&n<.75||zs((t.clipboardData||window.clipboardData).files[0])}},Ks,ul,function(t){At&&du(t.detail,At)||Dl(Da,At=t.detail,At)},tr,Ec,Bn,Nn,zn,Wn,Gn,Yn,Jn,nr,ir,cr,pr,yr,wr,_r,Er,Sr,Ir,Or,jr,Dr,zr,Zr,Vr,Gr,Yr,Jr,ti,ni,ii,ai,mi,yi,wi,Ei,Ii,Gi,Yi,Ji,eo,co,Wa,xc,ms,gs,Os,Zs,Lt,It,C,St,z,U,w,b,_t,T,Ct,xt,wt,mt,pt,vt,ht,lt,ot,ut,ft,dt,st,ct,yt,gt,it,nt,et,P,V,H,N,B,j,D,G,Y,K,q,W,A,O,F,J,X,x,$,g,h,m,v,p,d,l,f,r,s,u,c,Bt,Dt,Nt,zt,Zt,Ht,Ut,Gt,Kt,Yt,Xt,Jt,ee,re,oe,ae,ue,se,le,fe,de,he,ve,ge,ye,be,we,xe,$e,Ce,_e,Me,Re,Ie,Le,Pe,Ae,Te,De,Ne,Ze,He,Ke,Xe,tn,en,nn,un,cn,sn,function(){n(30,Ic=gy.innerWidth),n(31,Oc=gy.innerHeight)},function(t){return Dl(Ba,vn=t.detail,vn)},function(t){var e=t.detail;return n(43,k=e)},function(t,e){return e.id===t},function(e,r){t.$$.not_equal(no[r],e)&&(no[r]=e,n(1,no),n(26,to),n(252,Ji))},function(t){return n(58,as=as.concat(t))},function(t){return n(58,as=as.filter((function(e){return e!==t})))},function(t,e){var r=e.detail;return n(37,E[t]=r,E)},function(t){return Dl(Ta,Ee=t.detail,Ee)},function(t){return t.id===k},function(e){t.$$.not_equal(no[k],e)&&(no[k]=e,n(1,no),n(26,to),n(252,Ji))},function(){return n(58,as=as.concat(k))},function(){return n(58,as=as.filter((function(t){return t!==k})))},function(t){var e=t.detail;return n(37,E[k]=e,E)},function(t){var e=Object.assign({},t,Ks()),n=$r({annotationShapes:Ft,decorationShapes:jt,interfaceShapes:Cn,frameShapes:Tt},e),r=n.annotationShapes,i=n.decorationShapes,o=n.interfaceShapes,a=n.frameShapes;return ul(e,Hs,r,i,o,a)},function(){n(59,cl=!1),n(60,sl=!1),n(61,ll=!1),n(62,fl=!1),n(63,dl=!1)},function(t){Ef[t?"unshift":"push"]((function(){n(36,Ns=t)}))},function(t){n(0,Wi=t),n(244,ai)},function(t){n(32,Jc=t)},function(t){n(33,Xc=t)},function(t){Ef[t?"unshift":"push"]((function(){n(2,ro=t)}))},function(t){return Dl(Pa,te=t.detail,te)}]}var Hy,Vy=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Zy,Dy,Ml,{class:215,layout:216,stores:217,locale:3,id:4,util:218,utils:219,animations:220,disabled:221,status:213,previewUpscale:222,previewPad:223,previewMaskOpacity:5,previewImageDataMaxSize:224,previewImageTextPixelRatio:6,markupMaskOpacity:7,zoomMaskOpacity:225,elasticityMultiplier:8,willRevert:226,willProcessImage:227,willRenderCanvas:9,willRenderToolbar:228,willSetHistoryInitialState:229,enableButtonExport:230,enableButtonRevert:231,enableNavigateHistory:232,enableToolbar:10,enableUtils:233,enableButtonClose:234,enableDropImage:235,enablePasteImage:236,enableBrowseImage:237,enableTransparencyGrid:11,layoutDirectionPreference:238,layoutHorizontalUtilsPreference:239,layoutVerticalUtilsPreference:240,layoutVerticalToolbarPreference:241,layoutVerticalControlGroupsPreference:242,layoutVerticalControlTabsPreference:243,markupEditorZoomLevel:244,markupEditorZoomLevels:12,markupEditorZoomAdjustStep:13,markupEditorZoomAdjustFactor:14,markupEditorZoomAdjustWheelFactor:15,markupEditorInteractionMode:245,muteAudio:246,willSetMediaInitialTimeOffset:247,enablePan:16,enableZoom:17,enableZoomControls:248,enableZoomInput:18,enablePanInput:249,enableCanvasAlpha:19,enablePanLimit:20,panLimitGutterScalar:21,zoomPresetOptions:22,zoomAdjustStep:23,zoomAdjustFactor:24,zoomAdjustWheelFactor:25,zoomLevel:0,imagePreviewSrc:250,imageOrienter:251,pluginComponents:252,pluginOptions:26,sub:253,pluginInterface:1,root:2,imageSourceToImageData:27,imagePreview:28,imagePreviewCurrent:214,history:29},null,[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),n}return qi(e,t),Hi(e,[{key:"class",get:function(){return this.$$.ctx[215]},set:function(t){this.$$set({class:t}),Df()}},{key:"layout",get:function(){return this.$$.ctx[216]},set:function(t){this.$$set({layout:t}),Df()}},{key:"stores",get:function(){return this.$$.ctx[217]},set:function(t){this.$$set({stores:t}),Df()}},{key:"locale",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({locale:t}),Df()}},{key:"id",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({id:t}),Df()}},{key:"util",get:function(){return this.$$.ctx[218]},set:function(t){this.$$set({util:t}),Df()}},{key:"utils",get:function(){return this.$$.ctx[219]},set:function(t){this.$$set({utils:t}),Df()}},{key:"animations",get:function(){return this.$$.ctx[220]},set:function(t){this.$$set({animations:t}),Df()}},{key:"disabled",get:function(){return this.$$.ctx[221]},set:function(t){this.$$set({disabled:t}),Df()}},{key:"status",get:function(){return this.$$.ctx[213]},set:function(t){this.$$set({status:t}),Df()}},{key:"previewUpscale",get:function(){return this.$$.ctx[222]},set:function(t){this.$$set({previewUpscale:t}),Df()}},{key:"previewPad",get:function(){return this.$$.ctx[223]},set:function(t){this.$$set({previewPad:t}),Df()}},{key:"previewMaskOpacity",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({previewMaskOpacity:t}),Df()}},{key:"previewImageDataMaxSize",get:function(){return this.$$.ctx[224]},set:function(t){this.$$set({previewImageDataMaxSize:t}),Df()}},{key:"previewImageTextPixelRatio",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({previewImageTextPixelRatio:t}),Df()}},{key:"markupMaskOpacity",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({markupMaskOpacity:t}),Df()}},{key:"zoomMaskOpacity",get:function(){return this.$$.ctx[225]},set:function(t){this.$$set({zoomMaskOpacity:t}),Df()}},{key:"elasticityMultiplier",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({elasticityMultiplier:t}),Df()}},{key:"willRevert",get:function(){return this.$$.ctx[226]},set:function(t){this.$$set({willRevert:t}),Df()}},{key:"willProcessImage",get:function(){return this.$$.ctx[227]},set:function(t){this.$$set({willProcessImage:t}),Df()}},{key:"willRenderCanvas",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({willRenderCanvas:t}),Df()}},{key:"willRenderToolbar",get:function(){return this.$$.ctx[228]},set:function(t){this.$$set({willRenderToolbar:t}),Df()}},{key:"willSetHistoryInitialState",get:function(){return this.$$.ctx[229]},set:function(t){this.$$set({willSetHistoryInitialState:t}),Df()}},{key:"enableButtonExport",get:function(){return this.$$.ctx[230]},set:function(t){this.$$set({enableButtonExport:t}),Df()}},{key:"enableButtonRevert",get:function(){return this.$$.ctx[231]},set:function(t){this.$$set({enableButtonRevert:t}),Df()}},{key:"enableNavigateHistory",get:function(){return this.$$.ctx[232]},set:function(t){this.$$set({enableNavigateHistory:t}),Df()}},{key:"enableToolbar",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({enableToolbar:t}),Df()}},{key:"enableUtils",get:function(){return this.$$.ctx[233]},set:function(t){this.$$set({enableUtils:t}),Df()}},{key:"enableButtonClose",get:function(){return this.$$.ctx[234]},set:function(t){this.$$set({enableButtonClose:t}),Df()}},{key:"enableDropImage",get:function(){return this.$$.ctx[235]},set:function(t){this.$$set({enableDropImage:t}),Df()}},{key:"enablePasteImage",get:function(){return this.$$.ctx[236]},set:function(t){this.$$set({enablePasteImage:t}),Df()}},{key:"enableBrowseImage",get:function(){return this.$$.ctx[237]},set:function(t){this.$$set({enableBrowseImage:t}),Df()}},{key:"enableTransparencyGrid",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({enableTransparencyGrid:t}),Df()}},{key:"layoutDirectionPreference",get:function(){return this.$$.ctx[238]},set:function(t){this.$$set({layoutDirectionPreference:t}),Df()}},{key:"layoutHorizontalUtilsPreference",get:function(){return this.$$.ctx[239]},set:function(t){this.$$set({layoutHorizontalUtilsPreference:t}),Df()}},{key:"layoutVerticalUtilsPreference",get:function(){return this.$$.ctx[240]},set:function(t){this.$$set({layoutVerticalUtilsPreference:t}),Df()}},{key:"layoutVerticalToolbarPreference",get:function(){return this.$$.ctx[241]},set:function(t){this.$$set({layoutVerticalToolbarPreference:t}),Df()}},{key:"layoutVerticalControlGroupsPreference",get:function(){return this.$$.ctx[242]},set:function(t){this.$$set({layoutVerticalControlGroupsPreference:t}),Df()}},{key:"layoutVerticalControlTabsPreference",get:function(){return this.$$.ctx[243]},set:function(t){this.$$set({layoutVerticalControlTabsPreference:t}),Df()}},{key:"markupEditorZoomLevel",get:function(){return this.$$.ctx[244]},set:function(t){this.$$set({markupEditorZoomLevel:t}),Df()}},{key:"markupEditorZoomLevels",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({markupEditorZoomLevels:t}),Df()}},{key:"markupEditorZoomAdjustStep",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({markupEditorZoomAdjustStep:t}),Df()}},{key:"markupEditorZoomAdjustFactor",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({markupEditorZoomAdjustFactor:t}),Df()}},{key:"markupEditorZoomAdjustWheelFactor",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({markupEditorZoomAdjustWheelFactor:t}),Df()}},{key:"markupEditorInteractionMode",get:function(){return this.$$.ctx[245]},set:function(t){this.$$set({markupEditorInteractionMode:t}),Df()}},{key:"muteAudio",get:function(){return this.$$.ctx[246]},set:function(t){this.$$set({muteAudio:t}),Df()}},{key:"willSetMediaInitialTimeOffset",get:function(){return this.$$.ctx[247]},set:function(t){this.$$set({willSetMediaInitialTimeOffset:t}),Df()}},{key:"enablePan",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({enablePan:t}),Df()}},{key:"enableZoom",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({enableZoom:t}),Df()}},{key:"enableZoomControls",get:function(){return this.$$.ctx[248]},set:function(t){this.$$set({enableZoomControls:t}),Df()}},{key:"enableZoomInput",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({enableZoomInput:t}),Df()}},{key:"enablePanInput",get:function(){return this.$$.ctx[249]},set:function(t){this.$$set({enablePanInput:t}),Df()}},{key:"enableCanvasAlpha",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({enableCanvasAlpha:t}),Df()}},{key:"enablePanLimit",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({enablePanLimit:t}),Df()}},{key:"panLimitGutterScalar",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({panLimitGutterScalar:t}),Df()}},{key:"zoomPresetOptions",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({zoomPresetOptions:t}),Df()}},{key:"zoomAdjustStep",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({zoomAdjustStep:t}),Df()}},{key:"zoomAdjustFactor",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({zoomAdjustFactor:t}),Df()}},{key:"zoomAdjustWheelFactor",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({zoomAdjustWheelFactor:t}),Df()}},{key:"zoomLevel",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({zoomLevel:t}),Df()}},{key:"imagePreviewSrc",get:function(){return this.$$.ctx[250]},set:function(t){this.$$set({imagePreviewSrc:t}),Df()}},{key:"imageOrienter",get:function(){return this.$$.ctx[251]},set:function(t){this.$$set({imageOrienter:t}),Df()}},{key:"pluginComponents",get:function(){return this.$$.ctx[252]},set:function(t){this.$$set({pluginComponents:t}),Df()}},{key:"pluginOptions",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({pluginOptions:t}),Df()}},{key:"sub",get:function(){return this.$$.ctx[253]}},{key:"pluginInterface",get:function(){return this.$$.ctx[1]}},{key:"root",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({root:t}),Df()}},{key:"imageSourceToImageData",get:function(){return this.$$.ctx[27]},set:function(t){this.$$set({imageSourceToImageData:t}),Df()}},{key:"imagePreview",get:function(){return this.$$.ctx[28]}},{key:"imagePreviewCurrent",get:function(){return this.$$.ctx[214]},set:function(t){this.$$set({imagePreviewCurrent:t}),Df()}},{key:"history",get:function(){return this.$$.ctx[29]}}]),e}(ad),Uy=["klass","stores","isVisible","isActive","isActiveFraction","locale"],Wy=["history","klass","stores","navButtons","pluginComponents","pluginInterface","pluginOptions","sub","imagePreviewSrc","imagePreview","imagePreviewCurrent"],qy=["locale"],Gy=new Set([]),Ky={},Yy=new Map,Xy=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.filter((function(t){return!!t.util})).forEach((function(t){var e=t.util,n=e[0],r=e[1],i=e[2],o=void 0===i?function(){return!0}:i;Yy.has(n)||(Yy.set(n,{Component:r,isSupported:o}),fv(r).filter((function(t){return!Uy.includes(t)})).forEach((function(t){Gy.add(t),Ky[t]?Ky[t].push(n):Ky[t]=[n]})))}))},Jy=[].concat(Fd,["init","update","undo","redo","revert","writehistory","destroy","show","hide","close","ready","zoom","pan","loadpreview","selectshape","updateshape","addshape","removeshape","selectstyle","markuptap","markupzoom","markuppan","selectutil","selectcontrol"]),Qy=function(t,e,n){void 0===n&&(n={});var r=n.prefix,i=void 0===r?"pintura:":r;return Jy.map((function(n){return t.on(n,(function(t){return Au(e)?function(t,e,n){return t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}))}(e,""+i+n,t):e(n,t)}))}))};[["brightness",function(t){return t.finetuneLabelBrightness}],["contrast",function(t){return t.finetuneLabelContrast}],["saturation",function(t){return t.finetuneLabelSaturation}],["exposure",function(t){return t.finetuneLabelExposure}],["temperature",function(t){return t.finetuneLabelTemperature}],["gamma",function(t){return t.finetuneLabelGamma}],!Np()&&["clarity",function(t){return t.finetuneLabelClarity}],["vignette",function(t){return t.finetuneLabelVignette}]].filter(Boolean);var tb=function(t,e,n){var r=Math.max(t,e,n),i=r-Math.min(t,e,n),o=i&&(r==t?(e-n)/i:r==e?2+(n-t)/i:4+(t-e)/i);return[60*(o<0?o+6:o)/360,r&&i/r,r]},eb=function(t,e,n){var r,i,o,a=Math.floor(6*t),u=6*t-a,c=n*(1-e),s=n*(1-u*e),l=n*(1-(1-u)*e);switch(a%6){case 0:r=n,i=l,o=c;break;case 1:r=s,i=n,o=c;break;case 2:r=c,i=n,o=l;break;case 3:r=c,i=s,o=n;break;case 4:r=l,i=c,o=n;break;case 5:r=n,i=c,o=s}return[r,i,o]};function nb(t){var e,n,r;return{c:function(){e=Xl("div"),n=Xl("span"),of(e,"class","PinturaColorPreview"),of(e,"title",t[0]),of(e,"style",r="--color:"+t[1])},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,n){var i=n[0];1&i&&of(e,"title",t[0]),2&i&&r!==(r="--color:"+t[1])&&of(e,"style",r)},i:wl,o:wl,d:function(t){t&&Yl(e)}}}function rb(t,e,n){var r,i=e.color,o=void 0===i?void 0:i,a=e.title,u=void 0===a?void 0:a;return t.$$set=function(t){"color"in t&&n(2,o=t.color),"title"in t&&n(0,u=t.title)},t.$$.update=function(){4&t.$$.dirty&&n(1,r=o?Tc(o):"transparent")},[u,r,o]}var ib=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,rb,nb,Ml,{color:2,title:0}),n}return qi(e,t),e}(ad);function ob(t){var e,n;return{c:function(){e=Xl("span"),n=Ql(t[0])},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,e){1&e[0]&&uf(n,t[0])},d:function(t){t&&Yl(e)}}}function ab(t){var e,n,r,i;n=new ib({props:{color:t[4],title:$m(t[8],t[10])}});var o=!t[9]&&ob(t);return{c:function(){e=Xl("span"),nd(n.$$.fragment),r=tf(),o&&o.c(),of(e,"slot","label"),of(e,"class","PinturaButtonLabel")},m:function(t,a){Kl(t,e,a),rd(n,e,null),Wl(e,r),o&&o.m(e,null),i=!0},p:function(t,r){var i={};16&r[0]&&(i.color=t[4]),1280&r[0]&&(i.title=$m(t[8],t[10])),n.$set(i),t[9]?o&&(o.d(1),o=null):o?o.p(t,r):((o=ob(t)).c(),o.m(e,null))},i:function(t){i||(Uf(n.$$.fragment,t),i=!0)},o:function(t){Wf(n.$$.fragment,t),i=!1},d:function(t){t&&Yl(e),id(n),o&&o.d()}}}function ub(t){var e,n,r,i,o,a,u,c,s,l,f,d,h;s=new Cg({props:{class:"PinturaHuePicker",knobStyle:"background-color:"+t[19],onchange:t[24],value:t[14],min:0,max:1,step:.01}});var p=t[11]&&cb(t);return{c:function(){e=Xl("div"),n=Xl("div"),r=Xl("div"),i=Xl("div"),c=tf(),nd(s.$$.fragment),l=tf(),p&&p.c(),of(i,"role","button"),of(i,"aria-label","Saturation slider"),of(i,"class","PinturaPickerKnob"),of(i,"tabindex","0"),of(i,"style",o="background-color:"+t[18]+";"),of(r,"class","PinturaPickerKnobController"),of(r,"style",a="transform:translate("+t[22]+"%,"+t[21]+"%)"),of(n,"class","PinturaSaturationPicker"),of(n,"style",u="background-color: "+t[19]),of(e,"class","PinturaPicker")},m:function(o,a){Kl(o,e,a),Wl(e,n),Wl(n,r),Wl(r,i),t[32](n),Wl(e,c),rd(s,e,null),Wl(e,l),p&&p.m(e,null),f=!0,d||(h=[nf(i,"nudge",t[27]),Nl(Rv.call(null,i,{preventDefault:!0})),nf(n,"pointerdown",t[26])],d=!0)},p:function(t,c){(!f||262144&c[0]&&o!==(o="background-color:"+t[18]+";"))&&of(i,"style",o),(!f||6291456&c[0]&&a!==(a="transform:translate("+t[22]+"%,"+t[21]+"%)"))&&of(r,"style",a),(!f||524288&c[0]&&u!==(u="background-color: "+t[19]))&&of(n,"style",u);var l={};524288&c[0]&&(l.knobStyle="background-color:"+t[19]),16384&c[0]&&(l.value=t[14]),s.$set(l),t[11]?p?(p.p(t,c),2048&c[0]&&Uf(p,1)):((p=cb(t)).c(),Uf(p,1),p.m(e,null)):p&&(Hf(),Wf(p,1,1,(function(){p=null})),Vf())},i:function(t){f||(Uf(s.$$.fragment,t),Uf(p),f=!0)},o:function(t){Wf(s.$$.fragment,t),Wf(p),f=!1},d:function(n){n&&Yl(e),t[32](null),id(s),p&&p.d(),d=!1,kl(h)}}}function cb(t){var e,n;return e=new Cg({props:{class:"PinturaOpacityPicker",knobStyle:"background-color:"+t[16],trackStyle:"background-image:linear-gradient(to right,"+t[17]+","+t[18]+")",onchange:t[25],value:t[15],min:0,max:1,step:.01}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};65536&n[0]&&(r.knobStyle="background-color:"+t[16]),393216&n[0]&&(r.trackStyle="background-image:linear-gradient(to right,"+t[17]+","+t[18]+")"),32768&n[0]&&(r.value=t[15]),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function sb(t){var e,n;return e=new Ym({props:{label:$m(t[10].labelColorPalette,t[10]),class:Vp(["PinturaColorPresets",t[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"]),hideLabel:!1,name:t[1],value:t[4],optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:t[2].map(t[33]),selectedIndex:t[3],optionMapper:t[7],optionLabelClass:t[6],onchange:t[34],$$slots:{option:[db,function(t){return{45:t.option}},function(t){return[0,t.option?16384:0]}],group:[lb,function(t){return{45:t.option}},function(t){return[0,t.option?16384:0]}]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};1024&n[0]&&(r.label=$m(t[10].labelColorPalette,t[10])),512&n[0]&&(r.class=Vp(["PinturaColorPresets",t[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"])),2&n[0]&&(r.name=t[1]),16&n[0]&&(r.value=t[4]),1028&n[0]&&(r.options=t[2].map(t[33])),8&n[0]&&(r.selectedIndex=t[3]),128&n[0]&&(r.optionMapper=t[7]),64&n[0]&&(r.optionLabelClass=t[6]),512&n[0]|49152&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function lb(t){var e,n,r=t[45].label+"";return{c:function(){e=Xl("span"),n=Ql(r),of(e,"slot","group")},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,e){16384&e[1]&&r!==(r=t[45].label+"")&&uf(n,r)},d:function(t){t&&Yl(e)}}}function fb(t){var e,n,r=t[45].label+"";return{c:function(){e=Xl("span"),n=Ql(r),of(e,"class","PinturaButtonLabel")},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,e){16384&e[1]&&r!==(r=t[45].label+"")&&uf(n,r)},d:function(t){t&&Yl(e)}}}function db(t){var e,n,r,i;n=new ib({props:{title:t[45].label,color:t[45].value}});var o=!t[9]&&fb(t);return{c:function(){e=Xl("span"),nd(n.$$.fragment),r=tf(),o&&o.c(),of(e,"slot","option")},m:function(t,a){Kl(t,e,a),rd(n,e,null),Wl(e,r),o&&o.m(e,null),i=!0},p:function(t,r){var i={};16384&r[1]&&(i.title=t[45].label),16384&r[1]&&(i.color=t[45].value),n.$set(i),t[9]?o&&(o.d(1),o=null):o?o.p(t,r):((o=fb(t)).c(),o.m(e,null))},i:function(t){i||(Uf(n.$$.fragment,t),i=!0)},o:function(t){Wf(n.$$.fragment,t),i=!1},d:function(t){t&&Yl(e),id(n),o&&o.d()}}}function hb(t){var e,n,r,i=t[13]&&ub(t),o=t[12]&&sb(t);return{c:function(){e=Xl("div"),i&&i.c(),n=tf(),o&&o.c(),of(e,"slot","details"),of(e,"class","PinturaColorPickerPanel")},m:function(t,a){Kl(t,e,a),i&&i.m(e,null),Wl(e,n),o&&o.m(e,null),r=!0},p:function(t,r){t[13]?i?(i.p(t,r),8192&r[0]&&Uf(i,1)):((i=ub(t)).c(),Uf(i,1),i.m(e,n)):i&&(Hf(),Wf(i,1,1,(function(){i=null})),Vf()),t[12]?o?(o.p(t,r),4096&r[0]&&Uf(o,1)):((o=sb(t)).c(),Uf(o,1),o.m(e,null)):o&&(Hf(),Wf(o,1,1,(function(){o=null})),Vf())},i:function(t){r||(Uf(i),Uf(o),r=!0)},o:function(t){Wf(i),Wf(o),r=!1},d:function(t){t&&Yl(e),i&&i.d(),o&&o.d()}}}function pb(t){var e,n;return e=new vm({props:{buttonClass:Vp(["PinturaColorPickerButton",t[5]]),$$slots:{details:[hb],label:[ab]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};32&n[0]&&(r.buttonClass=Vp(["PinturaColorPickerButton",t[5]])),8388575&n[0]|32768&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function vb(t,e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b=e.label,w=void 0===b?void 0:b,x=e.name,$=void 0===x?void 0:x,C=e.options,_=void 0===C?[]:C,k=e.selectedIndex,E=void 0===k?-1:k,M=e.value,S=void 0===M?void 0:M,R=e.buttonClass,I=void 0===R?void 0:R,L=e.optionLabelClass,O=void 0===L?void 0:L,P=e.optionMapper,A=void 0===P?void 0:P,T=e.onchange,j=void 0===T?void 0:T,B=e.title,D=void 0===B?void 0:B,N=e.hidePresetLabel,z=void 0===N||N,F=e.locale,Z=void 0===F?void 0:F,H=e.enableOpacity,V=void 0===H||H,U=e.enablePresets,W=void 0===U||U,q=e.enablePicker,G=void 0===q||q,K=function(t,e){if(s=[t[0],t[1],t[2]],e){var r=tb.apply(void 0,s);n(14,o=r[0]),n(29,a=r[1]),n(30,u=r[2]),n(15,c=Lc(t[3])?t[3]:1)}n(16,l=Tc(t)),n(17,f=Tc([].concat(s,[0]))),n(18,d=Tc([].concat(s,[1]))),n(19,h=Tc(eb(o,1,1)))},Y=function(){var t=eb(o,a,u),e=[].concat(t,[c]);K(e),j(e)},X=function(t){var e=3===t.length?[].concat(t,[1]):t;K(e,!0),j(e)},J=function(t,e){var r,i=Id(t.x/e.width,0,1),o=Id(t.y/e.height,0,1);r=1-o,n(29,a=i),n(30,u=r),0===c&&n(15,c=1),Y()},Q=function(t){var e=_a(va(t),y);J(Ca(ma(g),e),m)},tt=function t(e){m=void 0,document.documentElement.removeEventListener("pointermove",Q),document.documentElement.removeEventListener("pointerup",t)};return t.$$set=function(t){"label"in t&&n(0,w=t.label),"name"in t&&n(1,$=t.name),"options"in t&&n(2,_=t.options),"selectedIndex"in t&&n(3,E=t.selectedIndex),"value"in t&&n(4,S=t.value),"buttonClass"in t&&n(5,I=t.buttonClass),"optionLabelClass"in t&&n(6,O=t.optionLabelClass),"optionMapper"in t&&n(7,A=t.optionMapper),"onchange"in t&&n(28,j=t.onchange),"title"in t&&n(8,D=t.title),"hidePresetLabel"in t&&n(9,z=t.hidePresetLabel),"locale"in t&&n(10,Z=t.locale),"enableOpacity"in t&&n(11,V=t.enableOpacity),"enablePresets"in t&&n(12,W=t.enablePresets),"enablePicker"in t&&n(13,G=t.enablePicker)},t.$$.update=function(){16&t.$$.dirty[0]|1&t.$$.dirty[1]&&(!S||p&&Td(S,p)||(n(31,p=[].concat(S)),K(S,!0))),536870912&t.$$.dirty[0]&&n(22,r=100*a),1073741824&t.$$.dirty[0]&&n(21,i=100-100*u)},[w,$,_,E,S,I,O,A,D,z,Z,V,W,G,o,c,l,f,d,h,v,i,r,X,function(t){n(14,o=t),0===c&&n(15,c=1),Y()},function(t){n(15,c=t),Y()},function(t){t.stopPropagation(),m=Fa(v.offsetWidth,v.offsetHeight),g=function(t){return pa(t.offsetX,t.offsetY)}(t),y=va(t),J(g,m),document.documentElement.addEventListener("pointermove",Q),document.documentElement.addEventListener("pointerup",tt)},function(t){m=Fa(v.offsetWidth,v.offsetHeight);var e=r/100*m.width,n=i/100*m.height;J({x:e+t.detail.x,y:n+t.detail.y},m)},j,a,u,p,function(t){Ef[t?"unshift":"push"]((function(){n(20,v=t)}))},function(t){var e=t[0],n=t[1];return[e,Oo(n)?n(Z):n]},function(t){return X(t.value)}]}var mb=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,vb,pb,Ml,{label:0,name:1,options:2,selectedIndex:3,value:4,buttonClass:5,optionLabelClass:6,optionMapper:7,onchange:28,title:8,hidePresetLabel:9,locale:10,enableOpacity:11,enablePresets:12,enablePicker:13},null,[-1,-1]),n}return qi(e,t),e}(ad),gb=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},yb=null,bb=function(){if(null===yb)if(ho())try{yb=!1===document.fonts.check("16px TestNonExistingFont")}catch(t){yb=!1}else yb=!1;return yb},wb=function(t,e){return function(n){return n[e?""+e+gb(t):t]}},xb=function(t){return[t,""+t]},$b=function(t,e){return function(n){return[t[n],wb(n,e)]}},Cb=[1,.2549,.2118],_b="0.5%",kb=[1,1,1,0],Eb={eraser:function(){return{eraseRadius:0}},path:function(){return{points:[]}},line:function(){return{x1:0,y1:0,x2:0,y2:0,disableErase:!1}},rectangle:function(){return{x:0,y:0,width:0,height:0}},ellipse:function(){return{x:0,y:0,rx:0,ry:0}},text:function(){return{x:0,y:0,text:"Text"}}},Mb=function(t,e,n){if(void 0===e&&(e={}),Eb[t]){var r=n||{},i=r.position,o=void 0===i?"relative":i,a=r.inputMode,u=void 0===a?"drag":a;return[Object.assign({},Eb[t](),e),{position:o,inputMode:u}]}},Sb=function(t){return Object.assign({sharpie:Mb("path",{strokeWidth:_b,strokeColor:[].concat(Cb),disableErase:!1,disableResize:!0,disableMove:!0}),eraser:Mb("eraser"),path:Mb("path",{pathClose:void 0,strokeWidth:_b,strokeColor:[].concat(Cb),backgroundColor:[0,0,0,0]},{inputMode:"step"}),line:Mb("line",{strokeColor:[].concat(Cb),strokeWidth:_b}),arrow:Mb("line",{lineStart:"none",lineEnd:"arrow-solid",strokeColor:[].concat(Cb),strokeWidth:_b}),rectangle:Mb("rectangle",{strokeColor:[].concat(kb),backgroundColor:[].concat(Cb)}),ellipse:Mb("ellipse",{strokeColor:[].concat(kb),backgroundColor:[].concat(Cb)}),text:Mb("text",{color:[].concat(Cb),fontSize:"2%"})},t)},Rb=function(t,e,n){return[t,e||wb(t,"shapeLabelTool"),Object.assign({icon:wb(t,"shapeIconTool")},n)]},Ib=function(t){return void 0===t&&(t=["move","view","sharpie","eraser","path","line","arrow","rectangle","ellipse","text","preset"]),t.map((function(t){return Lo(t)?Rb(t):Array.isArray(t)?So(t[1])?Rb(t[0],void 0,t[1]):Rb(t[0],t[1],t[2]):void 0})).filter(Boolean)},Lb=function(t,e){var n=e||{},r=n.defaultKey,i=n.defaultValue,o=n.defaultOptions,a=[];return r&&(a[0]=[i,function(t){return t[r]},Object.assign({},o)]),[].concat(a,t)},Ob=function(t){return t.split(",").map((function(t){return t.trim()})).some((function(t){return document.fonts.check("16px "+t)}))},Pb=function(t,e){return void 0===e&&(e={}),[mb,Object.assign({title:function(t){return t.labelColor},options:Lb(t)},e)]},Ab=function(t){return void 0===t&&(t={}),[Ig,Object.assign({},t)]},Tb="PinturaFontTest",jb=function(t,e){return void 0===e&&(e={defaultKey:"labelDefault"}),[lg,{title:function(t){return t.shapeTitleFontFamily},onload:function(t){var e=t.options,n=void 0===e?[]:e;bb()&&n.map((function(t){return t[0]})).filter(Boolean).filter((function(t){return!Ob(t)})).forEach((function(t){var e=Tb+"-"+t.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase();document.getElementById(e)||document.body.append(go("span",{textContent:" ",id:e,class:Tb,style:"font-family:"+t+";font-size:0;color:transparent;"}))}))},ondestroy:function(){bb()&&document.querySelectorAll(".PinturaFontTest").forEach((function(t){return t.remove()}))},optionLabelStyle:function(t){return"font-family: "+t},options:Lb(t,e),optionFilter:function(t){if(!bb())return!0;var e=t[0];return!e||Ob(e)}}]},Bb=function(t,e){return void 0===e&&(e={}),[mb,Object.assign({title:function(t){return t.shapeTitleBackgroundColor},options:Lb(t)},e)]},Db=function(t,e){return void 0===e&&(e={}),[mb,Object.assign({title:function(t){return t.shapeTitleStrokeColor},options:Lb(t),buttonClass:"PinturaColorPickerButtonStroke",onchange:function(t,n){var r=n.strokeWidth;(Lc(r)||Lo(r)?parseFloat(r):0)>0||(n.strokeWidth=e&&e.defaultStrokeWidth||"0.5%")}},e)]},Nb=function(t,e,n){return[lg,{title:function(t){return t[e]},options:Lb(t,{defaultKey:"labelNone",defaultOptions:{icon:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H14"/></g>'}}),optionIconStyle:n}]},zb=function(t){return Nb(t,"shapeTitleLineStart","transform: scaleX(-1)")},Fb=function(t){return Nb(t,"shapeTitleLineEnd")},Zb=function(t){return[mb,{title:function(t){return t.shapeTitleTextColor},options:Lb(t)}]},Hb=function(t){return[lg,{title:function(t){return t.shapeTitleFontStyle},optionLabelStyle:function(t){return t&&"font-style:"+t[0]+";font-weight:"+t[1]},options:Lb(t,{defaultKey:"shapeLabelFontStyleNormal"})}]},Vb=function(t,e){return e||t.find((function(t){return"4%"===t[0]}))||(e={defaultKey:"labelAuto",defaultValue:"4%"}),[lg,{title:function(t){return t.shapeTitleFontSize},options:Lb(t,e)}]},Ub=function(t){return[Ym,{title:function(t){return t.shapeTitleTextAlign},options:Lb(t)}]},Wb=function(t,e){return e||t.find((function(t){return"120%"===t[0]}))||(e={defaultKey:"labelAuto",defaultValue:"120%"}),[lg,{title:function(t){return t.shapeTitleLineHeight},options:Lb(t,e)}]},qb=function(t){void 0===t&&(t={});var e,n,r=t,i=r.colorOptions,o=void 0===i?(e={transparent:[1,1,1,0],white:[1,1,1],silver:[.8667,.8667,.8667],gray:[.6667,.6667,.6667],black:[0,0,0],navy:[0,.1216,.2471],blue:[0,.4549,.851],aqua:[.498,.8588,1],teal:[.2235,.8,.8],olive:[.2392,.6,.4392],green:[.1804,.8,.251],yellow:[1,.8627,0],orange:[1,.5216,.1059],red:[1,.2549,.2118],maroon:[.5216,.0784,.2941],fuchsia:[.9412,.0706,.7451],purple:[.6941,.051,.7882]},Object.keys(e).map($b(e,"shapeTitleColor"))):i,a=r.lineEndStyleOptions,u=void 0===a?function(t){return t.map((function(t){return[Wg(t),function(e){return e["shapeTitleLineDecoration"+gb(t)]},{icon:function(e){return e["shapeIconLineDecoration"+gb(t)]}}]}))}(["bar","arrow","arrowSolid","circle","circleSolid","square","squareSolid"]):a,c=r.fontFamilyOptions,s=void 0===c?[].concat([["Helvetica, Arial, Verdana, 'Droid Sans', sans-serif","Sans Serif"],["'Arial Black', 'Avenir-Black', 'Arial Bold'","Black"],["'Arial Narrow', 'Futura-CondensedMedium'","Narrow"],["'Trebuchet MS'","Humanist"],["Georgia, 'Avenir-Black', 'Times New Roman', 'Droid Serif', serif","Serif"],["Palatino","Old-Style"],["'Times New Roman', 'TimesNewRomanPSMT'","Transitional"],["Menlo, Monaco, 'Lucida Console', monospace","Monospaced"],["'Courier New', monospace","Slab Serif"]]):c,l=r.fontStyleOptions,f=void 0===l?function(t){return t.map((function(t){return[t,function(e){return e["shapeLabelFontStyle"+t.filter((function(t){return"normal"!==t})).map(gb).join("")]}]}))}([["normal","bold"],["italic","normal"],["italic","bold"]]):l,d=r.textAlignOptions,h=void 0===d?function(t){return t.map((function(t){return[t,function(e){return e["shapeTitleTextAlign"+gb(t)]},{hideLabel:!0,icon:function(e){return e["shapeIconTextAlign"+gb(t)]}}]}))}(["left","center","right"]):d,p=t,v=p.strokeWidthOptions,m=void 0===v?(n={extraSmall:"0.25%",small:"0.5%",mediumSmall:"1%",medium:"1.75%",mediumLarge:"2.5%",large:"3.5%",extraLarge:"5%"},Object.keys(n).map($b(n,"labelSize"))):v,g=p.fontSizeOptions,y=void 0===g?function(t){return Object.keys(t).map($b(t,"labelSize"))}({extraSmall:"2%",small:"4%",mediumSmall:"8%",medium:"10%",mediumLarge:"15%",large:"20%",extraLarge:"25%"}):g,b=p.lineHeightOptions,w=void 0===b?function(t){return Object.keys(t).map($b(t,"labelSize"))}({extraSmall:"40%",small:"60%",mediumSmall:"100%",medium:"120%",mediumLarge:"140%",large:"180%",extraLarge:"220%"}):b,x=[y,w,m].map((function(t){return Array.isArray(t)&&t.every(Lc)?t.map(xb):t}));y=x[0],w=x[1],m=x[2];var $,C={defaultColor:o&&Pb(o),defaultNumber:Ab(),defaultPercentage:Ab({getValue:function(t){return parseFloat(t)},setValue:function(t){return t+"%"},step:.05,label:function(t,e,n){return Math.round(t/n*100)+"%"},labelClass:"PinturaPercentageLabel"}),backgroundColor:o&&Bb(o),strokeColor:o&&Db(o),strokeWidth:m&&($=m,[lg,{title:function(t){return t.shapeTitleStrokeWidth},options:function(t){return Oc(t,"backgroundColor")?Lb($,{defaultKey:"shapeLabelStrokeNone"}):Lb($)},onchange:function(t,e){if(t){var n=e.strokeColor||[];if(!n[3]){var r=[].concat(n);r[3]=1,e.strokeColor=r}}}}]),lineStart:u&&zb(u),lineEnd:u&&Fb(u),color:o&&Zb(o),fontFamily:s&&jb(s),fontStyle_fontWeight:f&&Hb(f),fontSize:y&&Vb(y),lineHeight:w&&Wb(w),textAlign:h&&Ub(h),cornerRadius:["defaultPercentage",{min:0,max:50,title:function(t){return t.shapeTitleCornerRadius}}],frameColor:["defaultColor"],frameSize:["defaultPercentage",{min:.2,max:10,title:function(t){return t.labelSize}}],frameInset:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelInset}}],frameOffset:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelOffset}}],frameRadius:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelRadius}}],frameAmount:["defaultNumber",{min:1,max:5,step:1,title:function(t){return t.labelAmount}}]};return Object.entries(t).forEach((function(t){var e=t[0],n=t[1];C[e]||(C[e]=n)})),C};function Gb(t){var e,n,r,i,o=t[5].default,a=Ll(o,t,t[4],null);return{c:function(){e=Xl("div"),a&&a.c(),of(e,"class",t[0])},m:function(o,u){Kl(o,e,u),a&&a.m(e,null),n=!0,r||(i=[nf(e,"measure",(function(){El(t[1]&&t[3])&&(t[1]&&t[3]).apply(this,arguments)})),Nl(t[2].call(null,e))],r=!0)},p:function(r,i){var u=i[0];t=r,a&&a.p&&(!n||16&u)&&Al(a,o,t,t[4],n?Pl(o,t[4],u,null):Tl(t[4]),null),(!n||1&u)&&of(e,"class",t[0])},i:function(t){n||(Uf(a,t),n=!0)},o:function(t){Wf(a,t),n=!1},d:function(t){t&&Yl(e),a&&a.d(t),r=!1,kl(i)}}}function Kb(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=xf(),u=e.class,c=void 0===u?null:u,s=Cf("measurable"),l=!1;return yf((function(){return n(1,l=!0)})),t.$$set=function(t){"class"in t&&n(0,c=t.class),"$$scope"in t&&n(4,o=t.$$scope)},[c,l,s,function(t){var e=t.detail;return a("measure",e)},o,i]}var Yb=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Kb,Gb,Ml,{class:0}),n}return qi(e,t),e}(ad),Xb=function(t){return{}},Jb=function(t){return{}},Qb=function(t){return{}},tw=function(t){return{}},ew=function(t){return{}},nw=function(t){return{}};function rw(t){var e,n,r=t[4].header,i=Ll(r,t,t[3],nw);return{c:function(){e=Xl("div"),i&&i.c(),of(e,"class","PinturaUtilHeader")},m:function(t,r){Kl(t,e,r),i&&i.m(e,null),n=!0},p:function(t,e){i&&i.p&&(!n||8&e)&&Al(i,r,t,t[3],n?Pl(r,t[3],e,ew):Tl(t[3]),nw)},i:function(t){n||(Uf(i,t),n=!0)},o:function(t){Wf(i,t),n=!1},d:function(t){t&&Yl(e),i&&i.d(t)}}}function iw(t){var e,n,r=t[4].footer,i=Ll(r,t,t[3],Jb);return{c:function(){e=Xl("div"),i&&i.c(),of(e,"class","PinturaUtilFooter")},m:function(t,r){Kl(t,e,r),i&&i.m(e,null),n=!0},p:function(t,e){i&&i.p&&(!n||8&e)&&Al(i,r,t,t[3],n?Pl(r,t[3],e,Xb):Tl(t[3]),Jb)},i:function(t){n||(Uf(i,t),n=!0)},o:function(t){Wf(i,t),n=!1},d:function(t){t&&Yl(e),i&&i.d(t)}}}function ow(t){var e,n,r,i,o,a,u=t[1]&&rw(t),c=t[4].main,s=Ll(c,t,t[3],tw),l=s||function(t){var e,n;return(e=new Yb({props:{class:"PinturaStage"}})).$on("measure",t[5]),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:wl,i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}(t),f=t[2]&&iw(t);return{c:function(){u&&u.c(),e=tf(),n=Xl("div"),l&&l.c(),r=tf(),f&&f.c(),i=tf(),o=ef(),of(n,"class","PinturaUtilMain")},m:function(c,s){u&&u.m(c,s),Kl(c,e,s),Kl(c,n,s),l&&l.m(n,null),t[6](n),Kl(c,r,s),f&&f.m(c,s),Kl(c,i,s),Kl(c,o,s),a=!0},p:function(t,n){var r=n[0];t[1]?u?(u.p(t,r),2&r&&Uf(u,1)):((u=rw(t)).c(),Uf(u,1),u.m(e.parentNode,e)):u&&(Hf(),Wf(u,1,1,(function(){u=null})),Vf()),s&&s.p&&(!a||8&r)&&Al(s,c,t,t[3],a?Pl(c,t[3],r,Qb):Tl(t[3]),tw),t[2]?f?(f.p(t,r),4&r&&Uf(f,1)):((f=iw(t)).c(),Uf(f,1),f.m(i.parentNode,i)):f&&(Hf(),Wf(f,1,1,(function(){f=null})),Vf())},i:function(t){a||(Uf(u),Uf(l,t),Uf(f),Uf(false),a=!0)},o:function(t){Wf(u),Wf(l,t),Wf(f),Wf(false),a=!1},d:function(a){u&&u.d(a),a&&Yl(e),a&&Yl(n),l&&l.d(a),t[6](null),a&&Yl(r),f&&f.d(a),a&&Yl(i),a&&Yl(o)}}}function aw(t,e,n){var r=e,i=r.$$slots,o=void 0===i?{}:i,a=r.$$scope,u=e.hasHeader,c=void 0===u?!!e.$$slots.header:u,s=e.hasFooter,l=void 0===s?!!e.$$slots.footer:s,f=e.root,d=void 0===f?void 0:f;return t.$$set=function(t){n(7,e=$l($l({},e),jl(t))),"hasHeader"in t&&n(1,c=t.hasHeader),"hasFooter"in t&&n(2,l=t.hasFooter),"root"in t&&n(0,d=t.root),"$$scope"in t&&n(3,a=t.$$scope)},e=jl(e),[d,c,l,a,o,function(e){_f.call(this,t,e)},function(t){Ef[t?"unshift":"push"]((function(){n(0,d=t)}))}]}var uw=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,aw,ow,Ml,{hasHeader:1,hasFooter:2,root:0}),n}return qi(e,t),e}(ad);function cw(t){var e,n;return{c:function(){of(e=Xl("div"),"class","PinturaRangeInputMeter"),of(e,"style",n="transform: translateX("+(t[9].x-t[11].x)+"px) translateY("+(t[9].y-t[11].y)+"px)")},m:function(n,r){Kl(n,e,r),e.innerHTML=t[7]},p:function(t,r){128&r[0]&&(e.innerHTML=t[7]),512&r[0]&&n!==(n="transform: translateX("+(t[9].x-t[11].x)+"px) translateY("+(t[9].y-t[11].y)+"px)")&&of(e,"style",n)},d:function(t){t&&Yl(e)}}}function sw(t){var e,n,r,i,o,a,u,c,s,l,f,d=t[9]&&cw(t);return{c:function(){e=Xl("div"),n=Xl("span"),r=tf(),i=Xl("button"),o=Ql(t[1]),u=tf(),c=Xl("div"),d&&d.c(),of(n,"class","PinturaRangeInputValue"),of(i,"class","PinturaRangeInputReset"),of(i,"type","button"),i.disabled=a=t[0]===t[2],of(c,"class","PinturaRangeInputInner"),of(c,"style",t[8]),of(c,"data-value-limited",t[5]),of(e,"class","PinturaRangeInput"),of(e,"tabindex","0")},m:function(a,h){Kl(a,e,h),Wl(e,n),n.innerHTML=t[3],Wl(e,r),Wl(e,i),Wl(i,o),Wl(e,u),Wl(e,c),d&&d.m(c,null),l||(f=[nf(i,"click",t[16]),nf(c,"interactionstart",t[12]),nf(c,"interactionupdate",t[14]),nf(c,"interactionend",t[15]),nf(c,"interactionrelease",t[13]),Nl(s=Sv.call(null,c,{inertia:t[6]})),nf(c,"measure",t[36]),Nl(Pp.call(null,c)),nf(e,"wheel",t[18],{passive:!1}),nf(e,"nudge",t[19]),Nl(Rv.call(null,e,{direction:"horizontal",preventDefault:!0}))],l=!0)},p:function(t,e){8&e[0]&&(n.innerHTML=t[3]),2&e[0]&&uf(o,t[1]),5&e[0]&&a!==(a=t[0]===t[2])&&(i.disabled=a),t[9]?d?d.p(t,e):((d=cw(t)).c(),d.m(c,null)):d&&(d.d(1),d=null),256&e[0]&&of(c,"style",t[8]),32&e[0]&&of(c,"data-value-limited",t[5]),s&&El(s.update)&&64&e[0]&&s.update.call(null,{inertia:t[6]})},i:wl,o:wl,d:function(t){t&&Yl(e),d&&d.d(),l=!1,kl(f)}}}function lw(t,e,n){var r,i,o,a,u,c,s,l,f,d=e.labelReset,h=void 0===d?"Reset":d,p=e.direction,v=void 0===p?"x":p,m=e.min,g=void 0===m?0:m,y=e.max,b=void 0===y?1:y,w=e.base,x=void 0===w?g:w,$=e.value,C=void 0===$?0:$,_=e.valueLabel,k=void 0===_?0:_,E=e.valueMin,M=void 0===E?void 0:E,S=e.valueMax,R=void 0===S?void 0:S,I=e.oninputstart,L=void 0===I?uo:I,O=e.oninputmove,P=void 0===O?uo:O,A=e.oninputend,T=void 0===A?uo:A,j=e.elasticity,B=void 0===j?0:j,D=e.nudgeMultiplier,N=void 0===D?void 0:D,z=e.step,F=void 0===z?8:z,Z=Cf("isAnimated");Il(t,Z,(function(t){return n(6,l=t)}));var H,V,U,W=function(t,e,n){return Math.ceil((t-n)/e)*e+n},q={x:2,y:0},G=function(t,e,n){return"M "+(t-n)+" "+e+" a "+n+" "+n+" 0 1 0 0 -1"};var K,Y=void 0,X=!1,J={snap:!1,elastic:!1},Q=function(t,e,n){var r=t[v]+e[v],i=Id(r,K[1][v],K[0][v]),o=B?i+Iv(r-i,B):i,a=n.elastic?o:i,u=pa(0,0);return u[v]=a,tt.set(u,{hard:n.snap}),Id(nt(u,v),g,b)},tt=gp();Il(t,tt,(function(t){return n(9,f=t)}));var et=function(t,e){var n=.5*(H[e]-a[e])-(vg(t,g,b)*a[e]-.5*a[e]);return{x:"x"===e?n:0,y:"y"===e?n:0}},nt=function(t,e){var n=-(t[e]-.5*H[e])/a[e];return g+n*r},rt=tt.subscribe((function(t){t&&Y&&P(Id(nt(t,v),g,b))})),it=function(t){var e,n=[et(null!=M?M:g,v),et(null!=R?R:b,v)],r={x:"x"===v?f.x+t:0,y:"y"===v?f.y+t:0},i=Id(r[v],n[1][v],n[0][v]),o=Object.assign({},f,((e={})[v]=i,e));Dl(tt,f=o,f);var a=Id(nt(o,v),g,b);L(),P(a),T(a)};wf((function(){rt()}));return t.$$set=function(t){"labelReset"in t&&n(1,h=t.labelReset),"direction"in t&&n(20,v=t.direction),"min"in t&&n(21,g=t.min),"max"in t&&n(22,b=t.max),"base"in t&&n(2,x=t.base),"value"in t&&n(0,C=t.value),"valueLabel"in t&&n(3,k=t.valueLabel),"valueMin"in t&&n(23,M=t.valueMin),"valueMax"in t&&n(24,R=t.valueMax),"oninputstart"in t&&n(25,L=t.oninputstart),"oninputmove"in t&&n(26,P=t.oninputmove),"oninputend"in t&&n(27,T=t.oninputend),"elasticity"in t&&n(28,B=t.elasticity),"nudgeMultiplier"in t&&n(29,N=t.nudgeMultiplier),"step"in t&&n(30,F=t.step)},t.$$.update=function(){if(6291456&t.$$.dirty[0]&&n(32,r=b-g),10485760&t.$$.dirty[0]&&n(34,i=null!=M?Math.max(M,g):g),20971520&t.$$.dirty[0]&&n(33,o=null!=R?Math.min(R,b):b),6291460&t.$$.dirty[0]&&n(35,u=vg(x,g,b)),16&t.$$.dirty[0]|16&t.$$.dirty[1]&&H){for(var e,f=.5*H.y,d=40*u,h="",p=H.y,m="",y=0;y<=40;y++){var w=q.x+10*y,$=f;h+=G(w,$,y%5==0?2:.75)+" ",e=w+q.x,y===d&&(m='<path d="M'+w+" "+($-4)+' l2 3 l-2 -1 l-2 1 z"/>')}n(7,V='<svg width="'+e+'" height="'+p+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+e+" "+p+'" aria-hidden="true" focusable="false">\n        '+m+'\n        <rect rx="4" ry="4" y="'+(f-4)+'"" height="8"/>\n        <path fill-rule="evenodd" d="'+h.trim()+'"/></svg>'),n(31,U={x:e-2*q.x,y:p})}16&t.$$.dirty[0]|1&t.$$.dirty[1]&&(a=H&&U),6291456&t.$$.dirty[0]|12&t.$$.dirty[1]&&n(5,c=i!==g||o!==b),32&t.$$.dirty[0]|12&t.$$.dirty[1]&&n(8,s=c?function(t,e){var n=1/40,r=vg(t,g,b),i=vg(e,g,b);return"--range-mask-from:"+100*fa(W(r,n,0)-.0125)+"%;--range-mask-to:"+100*fa(W(i,n,0)-.0125)+"%"}(i,o):""),1048657&t.$$.dirty[0]|2&t.$$.dirty[1]&&r&&H&&H.x&&H.y&&tt.set(et(C,v),{hard:!1===l})},[C,h,x,k,H,c,l,V,s,f,Z,q,function(){X=!1,Y=Rl(tt),K=[et(null!=M?M:g,v),et(null!=R?R:b,v)],L()},function(){X=!0},function(t){var e=t.detail;J.snap=!X,J.elastic=!X,Q(Y,e.translation,J)},function(t){var e=t.detail;J.snap=!1,J.elastic=!1;var n=Q(Y,e.translation,J);if(Y=void 0,K=void 0,Math.abs(n-x)<.01)return T(x);T(n)},function(){n(0,C=Id(x,i,o)),L(),T(C)},tt,function(t){t.preventDefault(),t.stopPropagation();var e=Av(t)*F;it(e)},function(t){var e=t.detail;it(e[v]*Math.abs(N||8))},v,g,b,M,R,L,P,T,B,N,F,U,r,o,i,u,function(t){return n(4,H=function(t){return pa(t.width,t.height)}(t.detail))}]}var fw=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,lw,sw,Ml,{labelReset:1,direction:20,min:21,max:22,base:2,value:0,valueLabel:3,valueMin:23,valueMax:24,oninputstart:25,oninputmove:26,oninputend:27,elasticity:28,nudgeMultiplier:29,step:30},null,[-1,-1]),n}return qi(e,t),e}(ad);function dw(t){var e,n,r,i,o,a=t[7].default,u=Ll(a,t,t[6],null);return{c:function(){e=Xl("div"),n=Xl("div"),u&&u.c(),of(n,"class","PinturaToolbarInner"),of(e,"class","PinturaToolbar"),of(e,"data-layout",t[1]),of(e,"data-overflow",t[0])},m:function(a,c){Kl(a,e,c),Wl(e,n),u&&u.m(n,null),r=!0,i||(o=[nf(n,"measure",t[3]),Nl(Pp.call(null,n)),nf(e,"measure",t[2]),Nl(Pp.call(null,e))],i=!0)},p:function(t,n){var i=n[0];u&&u.p&&(!r||64&i)&&Al(u,a,t,t[6],r?Pl(a,t[6],i,null):Tl(t[6]),null),(!r||2&i)&&of(e,"data-layout",t[1]),(!r||1&i)&&of(e,"data-overflow",t[0])},i:function(t){r||(Uf(u,t),r=!0)},o:function(t){Wf(u,t),r=!1},d:function(t){t&&Yl(e),u&&u.d(t),i=!1,kl(o)}}}function hw(t,e,n){var r,i,o=e.$$slots,a=void 0===o?{}:o,u=e.$$scope,c=0,s=0,l=0,f=function(){n(0,i="compact"===r&&c>l?"overflow":void 0)};return t.$$set=function(t){"$$scope"in t&&n(6,u=t.$$scope)},t.$$.update=function(){48&t.$$.dirty&&n(1,r=s>l?"compact":"default")},[i,r,function(t){var e=t.detail.width;n(5,l=e),f()},function(t){var e=t.detail.width;e>s&&n(4,s=e),c=e,i||f()},s,l,u,a]}var pw=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,hw,dw,Ml,{}),n}return qi(e,t),e}(ad),vw=((si={})[na]=function(t){return{x:t.x,y:t.y}},si[ua]=function(t){return{x:t.x+t.width,y:t.y}},si[ra]=function(t){return{x:t.x+t.width,y:t.y}},si[ca]=function(t){return{x:t.x+t.width,y:t.y+t.height}},si[ia]=function(t){return{x:t.x,y:t.y+t.height}},si[sa]=function(t){return{x:t.x,y:t.y+t.height}},si[oa]=function(t){return{x:t.x,y:t.y}},si[aa]=function(t){return{x:t.x,y:t.y}},si);function mw(t,e,n){var r=t.slice();return r[14]=e[n].key,r[15]=e[n].translate,r[16]=e[n].scale,r[17]=e[n].type,r[18]=e[n].opacity,r}function gw(t,e){var n,r,i,o,a,u,c,s;return{key:t,first:null,c:function(){of(n=Xl("div"),"role","button"),of(n,"aria-label",r="Drag "+e[17]+" "+e[14]),of(n,"tabindex",i="edge"===e[17]?-1:0),of(n,"class","PinturaRectManipulator"),of(n,"data-direction",o=e[14]),of(n,"data-shape",a="edge"===e[17]?"edge":""+e[0]),of(n,"style",u="--tx:"+e[15].x+";--ty:"+e[15].y+";--sx:"+e[16].x+";--sy:"+e[16].y+";opacity:"+e[18]),this.first=n},m:function(t,r){Kl(t,n,r),c||(s=[nf(n,"nudge",(function(){El(e[6](e[14]))&&e[6](e[14]).apply(this,arguments)})),Nl(Rv.call(null,n,{preventDefault:!0})),nf(n,"interactionstart",(function(){El(e[5]("resizestart",e[14]))&&e[5]("resizestart",e[14]).apply(this,arguments)})),nf(n,"interactionupdate",(function(){El(e[5]("resizemove",e[14]))&&e[5]("resizemove",e[14]).apply(this,arguments)})),nf(n,"interactionend",(function(){El(e[5]("resizeend",e[14]))&&e[5]("resizeend",e[14]).apply(this,arguments)})),Nl(Sv.call(null,n))],c=!0)},p:function(t,c){e=t,2&c&&r!==(r="Drag "+e[17]+" "+e[14])&&of(n,"aria-label",r),2&c&&i!==(i="edge"===e[17]?-1:0)&&of(n,"tabindex",i),2&c&&o!==(o=e[14])&&of(n,"data-direction",o),3&c&&a!==(a="edge"===e[17]?"edge":""+e[0])&&of(n,"data-shape",a),2&c&&u!==(u="--tx:"+e[15].x+";--ty:"+e[15].y+";--sx:"+e[16].x+";--sy:"+e[16].y+";opacity:"+e[18])&&of(n,"style",u)},d:function(t){t&&Yl(n),c=!1,kl(s)}}}function yw(t){for(var e,n=[],r=new Map,i=t[1],o=function(t){return t[14]},a=0;a<i.length;a+=1){var u=mw(t,i,a),c=o(u);r.set(c,n[a]=gw(c,u))}return{c:function(){for(var t=0;t<n.length;t+=1)n[t].c();e=ef()},m:function(t,r){for(var i=0;i<n.length;i+=1)n[i].m(t,r);Kl(t,e,r)},p:function(t,a){var u=a[0];99&u&&(i=t[1],n=Jf(n,u,o,1,t,i,r,e.parentNode,Yf,gw,e,mw))},i:wl,o:wl,d:function(t){for(var r=0;r<n.length;r+=1)n[r].d(t);t&&Yl(e)}}}function bw(t,e,n){var r,i,o,a,u=e.rect,c=void 0===u?null:u,s=e.visible,l=void 0!==s&&s,f=e.style,d=void 0===f?void 0:f,h=Cf("isAnimated");Il(t,h,(function(t){return n(11,a=t)}));var p=gp(void 0,{precision:1e-4,stiffness:.2,damping:.4});Il(t,p,(function(t){return n(10,o=t)}));var v,m=gp(0,{precision:.001});Il(t,m,(function(t){return n(9,i=t)}));var g=xf();return t.$$set=function(t){"rect"in t&&n(7,c=t.rect),"visible"in t&&n(8,l=t.visible),"style"in t&&n(0,d=t.style)},t.$$.update=function(){2304&t.$$.dirty&&p.set(l?1:.5,{hard:!1===a}),2304&t.$$.dirty&&m.set(l?1:0,{hard:!1===a}),1664&t.$$.dirty&&n(1,r=Object.keys(ea).map((function(t,e){var n=ea[t],r=vw[n](c),a=1===n.length?"edge":"corner",u="corner"===a;return{key:n,type:a,scale:{x:/^(t|b)$/.test(n)?c.width:u?Id(o,.5,1.25):1,y:/^(r|l)$/.test(n)?c.height:u?Id(o,.5,1.25):1},translate:{x:r.x,y:r.y},opacity:i}})))},[d,r,h,p,m,function(t,e){return function(n){var r=n.detail;v&&e!==v||"resizestart"!==t&&void 0===v||("resizestart"===t&&(v=e),"resizeend"===t&&(v=void 0),g(t,{direction:e,translation:r&&r.translation}))}},function(t){return function(e){var n=e.detail;g("resizestart",{direction:t,translation:{x:0,y:0}}),g("resizemove",{direction:t,translation:n}),g("resizeend",{direction:t,translation:{x:0,y:0}})}},c,l,i,o,a]}var ww=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,bw,yw,Ml,{rect:7,visible:8,style:0}),n}return qi(e,t),e}(ad),xw=function(t){function e(e,n){t.dispatchEvent(new CustomEvent(e,{detail:n}))}var n=function(n){n.preventDefault(),t.addEventListener("gesturechange",r),t.addEventListener("gestureend",i),e("gesturedown")},r=function(t){t.preventDefault(),e("gestureupdate",t.scale)},i=function(t){e("gestureup",t.scale),t.preventDefault(),o()},o=function(){t.removeEventListener("gesturechange",r),t.removeEventListener("gestureend",i)};return t.addEventListener("gesturestart",n),{destroy:function(){o(),t.removeEventListener("gesturestart",n)}}},$w=((li={})[na]=ia,li[ra]=oa,li[ia]=na,li[oa]=ra,li[aa]=ca,li[ua]=sa,li[ca]=aa,li[sa]=ua,li),Cw=function(t){var e=t===oa||t===ra,n=t===na||t===ia;return[t===ra||t===ua||t===ca,t===oa||t===sa||t===aa,t===na||t===ua||t===aa,t===ia||t===ca||t===sa,e,n,e||n]},_w=function(t,e,n,r){void 0===r&&(r={});var i=e.target,o=e.translate,a=r,u=a.aspectRatio,c=a.minSize,s=a.maxSize,l=$w[i],f=la[l],d=Ca(pa(t.x,t.y),pa(f[0]*t.width,f[1]*t.height)),h=la[i],p=Ca(Qa(t),pa(h[0]*t.width,h[1]*t.height)),v=Cw(i),m=v[0],g=v[1],y=v[2],b=v[3],w=v[4],x=v[5],$=v[6],C=o.x,_=o.y;w?_=0:x&&(C=0);var k=kw(d,i,n,{aspectRatio:u,minSize:c,maxSize:s}),E=k.inner,M=k.outer,S=xu(t),R=S[0],I=S[1],L=S[2],O=S[3];if(m?O=d.x:g&&(I=d.x),b?R=d.y:y&&(L=d.y),m){var P=E.x+E.width,A=M.x+M.width;I=Id(p.x+C,P,A)}else if(g){var T=M.x,j=E.x;O=Id(p.x+C,T,j)}if(b){var B=E.y+E.height,D=M.y+M.height;L=Id(p.y+_,B,D)}else if(y){var N=M.y,z=E.y;R=Id(p.y+_,N,z)}if(O>E.x&&(O=E.x),I<E.x+E.width&&(I=E.x+E.width),R>E.y&&(R=E.y),L<E.y+E.height&&(L=E.y+E.height),O<M.x){var F=M.x-O;O=M.x,I+=F}if(I>M.x+M.width){var Z=I-(M.x+M.width);I=M.x+M.width,O-=Z}if(R<M.y){var H=M.y-R;R=M.y,L+=H}if(L>M.y+M.height){var V=L-(M.y+M.height);L=M.y+M.height,R-=V}if(u)if($){var U=I-O,W=L-R;w?(W=U/u,R=d.y-.5*W,L=d.y+.5*W):x&&(U=W*u,O=d.x-.5*U,I=d.x+.5*U)}else{var q=pa(p.x+C-d.x,p.y+_-d.y);i===ua?(q.x=Math.max(0,q.x),q.y=Math.min(0,q.y)):i===ca?(q.x=Math.max(0,q.x),q.y=Math.max(0,q.y)):i===sa?(q.x=Math.min(0,q.x),q.y=Math.max(0,q.y)):i===aa&&(q.x=Math.min(0,q.x),q.y=Math.min(0,q.y));var G=ba(q),K=ba(pa(E.width,E.height)),Y=ba(pa(M.width,M.height)),X=Id(G,K,Y),J=pa(u,1),Q=Ea(wa(J),X);i===ua?(I=d.x+Q.x,R=d.y-Q.y):i===ca?(I=d.x+Q.x,L=d.y+Q.y):i===sa?(O=d.x-Q.x,L=d.y+Q.y):i===aa&&(O=d.x-Q.x,R=d.y-Q.y)}return ou(O,R,I-O,L-R)},kw=function(t,e,n,r){var i=r.aspectRatio,o=r.minSize,a=r.maxSize,u=e===ra||e===ua||e===ca,c=e===oa||e===sa||e===aa,s=e===na||e===ua||e===aa,l=e===ia||e===ca||e===sa,f=e===oa||e===ra,d=e===na||e===ia,h=Qa(n);u?(h.x=t.x,h.width-=t.x):c&&(h.width=t.x),l?(h.y=t.y,h.height-=t.y):s&&(h.height=t.y);var p=function(t,e){return Ja(0,0,t,e)}(Math.min(h.width,a.width),Math.min(h.height,a.height));if(i)if(f){var v=Math.min(t.y,n.height-t.y);p.height=Math.min(2*v,p.height)}else if(d){var m=Math.min(t.x,n.width-t.x);p.width=Math.min(2*m,p.width)}var g,y,b,w,x=i?Da(bu(eu(o),i)):o,$=i?Da(wu(p,i)):p;u?g=t.x:c&&(y=t.x),l?b=t.y:s&&(w=t.y),u?y=g+x.width:c&&(g=y-x.width),l?w=b+x.height:s&&(b=w-x.height),f?(b=t.y-.5*x.height,w=t.y+.5*x.height):d&&(g=t.x-.5*x.width,y=t.x+.5*x.width);var C=ru([pa(g,b),pa(y,w)]);return u?y=g+$.width:c&&(g=y-$.width),l?w=b+$.height:s&&(b=w-$.height),f?(b=t.y-.5*$.height,w=t.y+.5*$.height):d&&(g=t.x-.5*$.width,y=t.x+.5*$.width),g=Math.max(n.x,g),y=Math.min(n.x+n.width,y),b=Math.max(n.y,b),w=Math.min(n.y+n.height,w),{inner:C,outer:ru([pa(g,b),pa(y,w)])}},Ew=function(t){return 180*t/Math.PI};function Mw(t){var e,n,r;return n=new fw({props:{elasticity:t[5],min:t[9],max:t[10],value:t[11],valueMin:Math.max(t[9],t[0]),valueMax:Math.min(t[10],t[1]),labelReset:t[6],base:t[12],valueLabel:Math.round(Ew(t[11]))+"&deg;",oninputstart:t[2],oninputmove:t[17],oninputend:t[18]}}),{c:function(){e=Xl("div"),nd(n.$$.fragment),of(e,"class","PinturaImageRotator")},m:function(t,i){Kl(t,e,i),rd(n,e,null),r=!0},p:function(t,e){var r=e[0],i={};32&r&&(i.elasticity=t[5]),512&r&&(i.min=t[9]),1024&r&&(i.max=t[10]),2048&r&&(i.value=t[11]),513&r&&(i.valueMin=Math.max(t[9],t[0])),1026&r&&(i.valueMax=Math.min(t[10],t[1])),64&r&&(i.labelReset=t[6]),4096&r&&(i.base=t[12]),2048&r&&(i.valueLabel=Math.round(Ew(t[11]))+"&deg;"),4&r&&(i.oninputstart=t[2]),392&r&&(i.oninputmove=t[17]),400&r&&(i.oninputend=t[18]),n.$set(i)},i:function(t){r||(Uf(n.$$.fragment,t),r=!0)},o:function(t){Wf(n.$$.fragment,t),r=!1},d:function(t){t&&Yl(e),id(n)}}}function Sw(t,e,n){var r,i,o,a,u,c,s,l=e.rotation,f=e.valueMin,d=e.valueMax,h=e.oninputstart,p=void 0===h?uo:h,v=e.oninputmove,m=void 0===v?uo:v,g=e.oninputend,y=void 0===g?uo:g,b=e.elasticity,w=void 0===b?0:b,x=e.labelReset,$=void 0===x?void 0:x,C=e.rotationMin,_=void 0===C?void 0:C,k=e.rotationMax,E=void 0===k?void 0:k;return t.$$set=function(t){"rotation"in t&&n(13,l=t.rotation),"valueMin"in t&&n(0,f=t.valueMin),"valueMax"in t&&n(1,d=t.valueMax),"oninputstart"in t&&n(2,p=t.oninputstart),"oninputmove"in t&&n(3,m=t.oninputmove),"oninputend"in t&&n(4,y=t.oninputend),"elasticity"in t&&n(5,w=t.elasticity),"labelReset"in t&&n(6,$=t.labelReset),"rotationMin"in t&&n(14,_=t.rotationMin),"rotationMax"in t&&n(15,E=t.rotationMax)},t.$$.update=function(){16384&t.$$.dirty&&n(9,r=_+1e-9),32768&t.$$.dirty&&n(10,i=E-1e-9),1536&t.$$.dirty&&n(12,o=r+.5*(i-r)),32768&t.$$.dirty&&n(16,a=2*E),8192&t.$$.dirty&&n(8,u=Math.sign(l)),73728&t.$$.dirty&&n(7,c=Math.round(Math.abs(l)/a)*a),8576&t.$$.dirty&&n(11,s=l-u*c)},[f,d,p,m,y,w,$,c,u,r,i,s,o,l,_,E,a,function(t){return m(u*c+t)},function(t){return y(u*c+t)}]}var Rw=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Sw,Mw,Ml,{rotation:13,valueMin:0,valueMax:1,oninputstart:2,oninputmove:3,oninputend:4,elasticity:5,labelReset:6,rotationMin:14,rotationMax:15}),n}return qi(e,t),e}(ad);function Iw(t){var e,n,r,i,o;return{c:function(){e=Xl("div"),n=Xl("p"),r=Ql(t[0]),i=Ql(" × "),o=Ql(t[1]),of(e,"class","PinturaImageInfo")},m:function(t,a){Kl(t,e,a),Wl(e,n),Wl(n,r),Wl(n,i),Wl(n,o)},p:function(t,e){var n=e[0];1&n&&uf(r,t[0]),2&n&&uf(o,t[1])},i:wl,o:wl,d:function(t){t&&Yl(e)}}}function Lw(t,e,n){var r=e.width,i=e.height;return t.$$set=function(t){"width"in t&&n(0,r=t.width),"height"in t&&n(1,i=t.height)},[r,i]}var Ow=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,Lw,Iw,Ml,{width:0,height:1}),n}return qi(e,t),e}(ad);function Pw(t){var e,n;return e=new Ym({props:{class:"PinturaPresetListFilter",layout:"row",options:t[8],selectedIndex:t[7],onchange:t[10]}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};256&n&&(r.options=t[8]),128&n&&(r.selectedIndex=t[7]),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Aw(t){var e,n;return e=new lg({props:{icon:t[0],label:t[1],labelClass:t[2],hideLabel:t[3],options:t[9],selectedIndex:t[4],onchange:t[5],optionMapper:t[6],$$slots:{controls:[Pw]},$$scope:{ctx:t}}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r=n[0],i={};1&r&&(i.icon=t[0]),2&r&&(i.label=t[1]),4&r&&(i.labelClass=t[2]),8&r&&(i.hideLabel=t[3]),512&r&&(i.options=t[9]),16&r&&(i.selectedIndex=t[4]),32&r&&(i.onchange=t[5]),64&r&&(i.optionMapper=t[6]),262528&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}var Tw='fill="none" stroke="currentColor"';function jw(t,e,n){var r,i,o,a=e.icon,u=e.label,c=e.labelClass,s=e.hideLabel,l=e.options,f=e.selectedIndex,d=e.onchange,h=e.optionMapper,p=e.filter,v=void 0===p?"landscape":p,m=e.onfilterchange,g=void 0===m?uo:m,y=function(t,e,n,r,i){return"\n    <rect "+Tw+' x="'+t+'" y="'+e+'" width="'+n+'" height="'+r+'" rx="'+i+'"/>'},b=function(t,e){return"<path "+Tw+' d="M'+t+" "+e+' l2 2 l3 -4"/>'};return t.$$set=function(t){"icon"in t&&n(0,a=t.icon),"label"in t&&n(1,u=t.label),"labelClass"in t&&n(2,c=t.labelClass),"hideLabel"in t&&n(3,s=t.hideLabel),"options"in t&&n(12,l=t.options),"selectedIndex"in t&&n(4,f=t.selectedIndex),"onchange"in t&&n(5,d=t.onchange),"optionMapper"in t&&n(6,h=t.optionMapper),"filter"in t&&n(11,v=t.filter),"onfilterchange"in t&&n(13,g=t.onfilterchange)},t.$$.update=function(){6144&t.$$.dirty&&n(9,r=function(t,e){return(t||[]).map((function(t){return Lo(t[0])?(t[1]=t[1].map(e),t):e(t)}))}(l,function(t){return function(e){var n=e[0],r=e[1],i=e[2],o=void 0===i?{}:i;return Lc(n)&&(o.hidden="landscape"===t?n<1:n>1),[n,r,o]}}(v))),2048&t.$$.dirty&&n(7,i="landscape"===v?0:1),128&t.$$.dirty&&n(8,o=[["landscape","Landscape",{hideLabel:!0,icon:y(2,6,19,12,2)+(0===i?b(9,12):"")}],["portrait","Portrait",{hideLabel:!0,icon:y(5,3,13,18,2)+(1===i?b(9,12):"")}]])},[a,u,c,s,f,d,h,i,o,r,function(t){n(11,v=t.value),g(t.value)},v,l,g]}var Bw=function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,jw,Aw,Ml,{icon:0,label:1,labelClass:2,hideLabel:3,options:12,selectedIndex:4,onchange:5,optionMapper:6,filter:11,onfilterchange:13}),n}return qi(e,t),e}(ad),Dw=function(t){return $a(t,(function(t){return fa(t,6)}))},Nw=function(t){return Cu(t,(function(t){return fa(t,6)}))},zw=function(t,e,n){return void 0===n&&(n=1e-4),Math.abs(t-e)<n},Fw=function(t,e,n,r,i){void 0===i&&(i={});var o=i.aspectRatio;t=Nw(t),r=r.map(Dw);var a=lu(t,$w[n.target]),u=$a(a,(function(t){return fa(t,6)})),c=o?bu(i.minSize,o):i.minSize,s=o?wu(i.maxSize,o):i.maxSize,l=lu(e,n.target);if(Ia(l,a)<1){e=Qa(t);var f=Math.min(c.width/t.width,c.height/t.height);cu(e,f,a)}e=su(Qa(e),c,s,a);var d=Qa(e);e=Nw(e);var h,p=Lu(r,1),v=$u(t),m=$u(e),g=v.findIndex((function(t){return xa($a(t,(function(t){return fa(t,6)})),u)})),y=function(t){return p.map((function(e){return Mu(e,t)})).filter(Boolean).pop()};if(o){var b=m.map((function(t,e){if(e!==g){var n=pa(a.x-t.x,a.y-t.y);wa(n),Ea(n,.5);var r=pa(a.x-n.x,a.y-n.y),i=Ga(r,Dw(t)),o=y(i);if(o){var u=v[e];return{intersection:o,cornerDist:Ia(a,u),intersectionDist:Ia(a,o)}}}})).filter(Boolean);if(b.length){var w=b.reduce((function(t,e){var n=e.intersectionDist/e.cornerDist;return n<t?n:t}),Number.MAX_SAFE_INTEGER);d=Qa(t),cu(d,w,a)}}else{var x=1===n.target.length,$=!(r[0].y===r[1].y||r[0].x===r[1].x),C=v.map((function(t,e){if(e!==g){var n=m[e],r=!zw(n.x,u.x)&&!zw(n.y,u.y);if((x||$||!r)&&(!x||!zw(n.x,u.x)&&!zw(n.y,u.y))){var i=ma(x?t:a),o=_a(ma(i),n);wa(o),Ea(o,.5),x?Ca(i,o):_a(i,o);var c=Ga(i,n),s=y(c);if(s)return s}}})).filter(Boolean);if(C.length){var _=Cw(n.target),k=_[0],E=_[1],M=_[2],S=_[3],R=xu(e),I=R[0],L=R[1],O=R[2],P=R[3];C.forEach((function(t){var e=t.x,n=t.y,r=fa(e,6),i=fa(n,6);M&&!zw(i,u.y)&&(I=Math.max(I,n)),k&&!zw(r,u.x)&&(L=Math.min(L,e)),S&&!zw(i,u.y)&&(O=Math.min(O,n)),E&&!zw(r,u.x)&&(P=Math.max(P,e))})),d=Ja((h=[I,L,O,P])[3],h[0],h[1]-h[3],h[2]-h[0]),cu(d,.9999,a)}}return su(d,c,s,a),d};function Zw(t){var e,n;return e=new Fg({props:{items:t[11]}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};2048&n[0]&&(r.items=t[11]),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Hw(t){var e,n,r;return n=new pw({props:{$$slots:{default:[Zw]},$$scope:{ctx:t}}}),{c:function(){e=Xl("div"),nd(n.$$.fragment),of(e,"slot","header")},m:function(t,i){Kl(t,e,i),rd(n,e,null),r=!0},p:function(t,e){var r={};2048&e[0]|1&e[7]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){r||(Uf(n.$$.fragment,t),r=!0)},o:function(t){Wf(n.$$.fragment,t),r=!1},d:function(t){t&&Yl(e),id(n)}}}function Vw(t){var e,n;return e=new Ev({props:{onclick:t[88],label:t[4].cropLabelButtonRecenter,icon:t[4].cropIconButtonRecenter,class:"PinturaButtonCenter",disabled:!t[9],hideLabel:!0,style:"opacity: "+t[29]+"; transform: translate3d("+t[30].x+"px, "+t[30].y+"px, 0)"}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]&&(r.label=t[4].cropLabelButtonRecenter),16&n[0]&&(r.icon=t[4].cropIconButtonRecenter),512&n[0]&&(r.disabled=!t[9]),1610612736&n[0]&&(r.style="opacity: "+t[29]+"; transform: translate3d("+t[30].x+"px, "+t[30].y+"px, 0)"),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Uw(t){var e,n;return(e=new ww({props:{rect:t[8],visible:t[12],style:t[1]}})).$on("resizestart",t[68]),e.$on("resizemove",t[69]),e.$on("resizeend",t[70]),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};256&n[0]&&(r.rect=t[8]),4096&n[0]&&(r.visible=t[12]),2&n[0]&&(r.style=t[1]),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Ww(t){var e,n;return e=new Ow({props:{width:Math.round(t[13].width),height:Math.round(t[13].height)}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};8192&n[0]&&(r.width=Math.round(t[13].width)),8192&n[0]&&(r.height=Math.round(t[13].height)),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function qw(t){var e,n,r,i,o,a,u,c,s=t[21]&&t[10]&&Vw(t),l=t[21]&&Uw(t),f=t[22]&&Ww(t);return{c:function(){e=Xl("div"),n=Xl("div"),s&&s.c(),r=tf(),l&&l.c(),o=tf(),f&&f.c(),of(n,"class","PinturaStage"),of(e,"slot","main")},m:function(d,h){Kl(d,e,h),Wl(e,n),s&&s.m(n,null),Wl(n,r),l&&l.m(n,null),t[162](n),Wl(e,o),f&&f.m(e,null),a=!0,u||(c=[Nl(Pp.call(null,n)),nf(n,"measure",t[160]),nf(n,"wheel",(function(){El(t[2]&&t[87])&&(t[2]&&t[87]).apply(this,arguments)}),{passive:!1}),nf(n,"interactionstart",t[74]),nf(n,"interactionupdate",t[75]),nf(n,"interactionrelease",t[77]),nf(n,"interactionend",t[76]),Nl(i=Sv.call(null,n,{drag:!0,inertia:!0,pinch:t[2],shouldStartInteraction:rx,getEventPosition:t[163]})),nf(n,"gesturedown",t[84]),nf(n,"gestureupdate",t[85]),nf(n,"gestureup",t[86]),Nl(xw.call(null,n))],u=!0)},p:function(o,a){(t=o)[21]&&t[10]?s?(s.p(t,a),2098176&a[0]&&Uf(s,1)):((s=Vw(t)).c(),Uf(s,1),s.m(n,r)):s&&(Hf(),Wf(s,1,1,(function(){s=null})),Vf()),t[21]?l?(l.p(t,a),2097152&a[0]&&Uf(l,1)):((l=Uw(t)).c(),Uf(l,1),l.m(n,null)):l&&(Hf(),Wf(l,1,1,(function(){l=null})),Vf()),i&&El(i.update)&&16777220&a[0]&&i.update.call(null,{drag:!0,inertia:!0,pinch:t[2],shouldStartInteraction:rx,getEventPosition:t[163]}),t[22]?f?(f.p(t,a),4194304&a[0]&&Uf(f,1)):((f=Ww(t)).c(),Uf(f,1),f.m(e,null)):f&&(Hf(),Wf(f,1,1,(function(){f=null})),Vf())},i:function(t){a||(Uf(s),Uf(l),Uf(f),a=!0)},o:function(t){Wf(s),Wf(l),Wf(f),a=!1},d:function(n){n&&Yl(e),s&&s.d(),l&&l.d(),t[162](null),f&&f.d(),u=!1,kl(c)}}}function Gw(t){for(var e,n,r,i,o=[{class:"PinturaControlList"},{tabs:t[7]},t[18]],a={$$slots:{default:[Kw,function(t){return{216:t.tab}},function(t){return[0,0,0,0,0,0,t.tab?1073741824:0]}]},$$scope:{ctx:t}},u=0;u<o.length;u+=1)a=$l(a,o[u]);(e=new Jp({props:a})).$on("select",t[161]);for(var c=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:t[17]},t[18]],s={$$slots:{default:[Jw,function(t){return{215:t.panel}},function(t){return[0,0,0,0,0,0,t.panel?536870912:0]}]},$$scope:{ctx:t}},l=0;l<c.length;l+=1)s=$l(s,c[l]);return r=new lv({props:s}),{c:function(){nd(e.$$.fragment),n=tf(),nd(r.$$.fragment)},m:function(t,o){rd(e,t,o),Kl(t,n,o),rd(r,t,o),i=!0},p:function(t,n){var i=262272&n[0]?Qf(o,[o[0],128&n[0]&&{tabs:t[7]},262144&n[0]&&td(t[18])]):{};1073741824&n[6]|1&n[7]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);var a=393216&n[0]?Qf(c,[c[0],c[1],131072&n[0]&&{panels:t[17]},262144&n[0]&&td(t[18])]):{};511721496&n[0]|536870912&n[6]|1&n[7]&&(a.$$scope={dirty:n,ctx:t}),r.$set(a)},i:function(t){i||(Uf(e.$$.fragment,t),Uf(r.$$.fragment,t),i=!0)},o:function(t){Wf(e.$$.fragment,t),Wf(r.$$.fragment,t),i=!1},d:function(t){id(e,t),t&&Yl(n),id(r,t)}}}function Kw(t){var e,n,r=t[216].label+"";return{c:function(){e=Xl("span"),n=Ql(r)},m:function(t,r){Kl(t,e,r),Wl(e,n)},p:function(t,e){1073741824&e[6]&&r!==(r=t[216].label+"")&&uf(n,r)},d:function(t){t&&Yl(e)}}}function Yw(t){var e,n;return e=new fw({props:{elasticity:t[25]*t[43],base:nx,min:t[23],max:ex,valueMin:t[27][0],valueMax:t[27][1],value:t[28],labelReset:t[4].labelReset,valueLabel:Math.round(100*t[28])+"%",oninputstart:t[81],oninputmove:t[82],oninputend:t[83]}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};33554432&n[0]&&(r.elasticity=t[25]*t[43]),8388608&n[0]&&(r.min=t[23]),134217728&n[0]&&(r.valueMin=t[27][0]),134217728&n[0]&&(r.valueMax=t[27][1]),268435456&n[0]&&(r.value=t[28]),16&n[0]&&(r.labelReset=t[4].labelReset),268435456&n[0]&&(r.valueLabel=Math.round(100*t[28])+"%"),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Xw(t){var e,n;return e=new Rw({props:{elasticity:t[25]*t[43],rotation:t[14],labelReset:t[4].labelReset,valueMin:t[26][0],valueMax:t[26][1],rotationMin:-t[3],rotationMax:t[3],oninputstart:t[71],oninputmove:t[72],oninputend:t[73]}}),{c:function(){nd(e.$$.fragment)},m:function(t,r){rd(e,t,r),n=!0},p:function(t,n){var r={};33554432&n[0]&&(r.elasticity=t[25]*t[43]),16384&n[0]&&(r.rotation=t[14]),16&n[0]&&(r.labelReset=t[4].labelReset),67108864&n[0]&&(r.valueMin=t[26][0]),67108864&n[0]&&(r.valueMax=t[26][1]),8&n[0]&&(r.rotationMin=-t[3]),8&n[0]&&(r.rotationMax=t[3]),e.$set(r)},i:function(t){n||(Uf(e.$$.fragment,t),n=!0)},o:function(t){Wf(e.$$.fragment,t),n=!1},d:function(t){id(e,t)}}}function Jw(t){var e,n,r,i,o=[Xw,Yw],a=[];function u(t,e){return t[215]===t[93]+"-rotation"?0:t[215]===t[93]+"-zoom"?1:-1}return~(e=u(t))&&(n=a[e]=o[e](t)),{c:function(){n&&n.c(),r=ef()},m:function(t,n){~e&&a[e].m(t,n),Kl(t,r,n),i=!0},p:function(t,i){var c=e;(e=u(t))===c?~e&&a[e].p(t,i):(n&&(Hf(),Wf(a[c],1,1,(function(){a[c]=null})),Vf()),~e?((n=a[e])?n.p(t,i):(n=a[e]=o[e](t)).c(),Uf(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){i||(Uf(n),i=!0)},o:function(t){Wf(n),i=!1},d:function(t){~e&&a[e].d(t),t&&Yl(r)}}}function Qw(t){var e,n,r=t[19]&&Gw(t);return{c:function(){e=Xl("div"),r&&r.c(),of(e,"slot","footer"),of(e,"style",t[16])},m:function(t,i){Kl(t,e,i),r&&r.m(e,null),n=!0},p:function(t,i){t[19]?r?(r.p(t,i),524288&i[0]&&Uf(r,1)):((r=Gw(t)).c(),Uf(r,1),r.m(e,null)):r&&(Hf(),Wf(r,1,1,(function(){r=null})),Vf()),(!n||65536&i[0])&&of(e,"style",t[16])},i:function(t){n||(Uf(r),n=!0)},o:function(t){Wf(r),n=!1},d:function(t){t&&Yl(e),r&&r.d()}}}function tx(t){var e,n,r;function i(e){t[164](e)}var o={hasHeader:t[20],$$slots:{footer:[Qw],main:[qw],header:[Hw]},$$scope:{ctx:t}};return void 0!==t[15]&&(o.root=t[15]),e=new uw({props:o}),Ef.push((function(){return ed(e,"root",i)})),e.$on("measure",t[165]),{c:function(){nd(e.$$.fragment)},m:function(t,n){rd(e,t,n),r=!0},p:function(t,r){var i={};1048576&r[0]&&(i.hasHeader=t[20]),2146402302&r[0]|1&r[7]&&(i.$$scope={dirty:r,ctx:t}),!n&&32768&r[0]&&(n=!0,i.root=t[15],Af((function(){return n=!1}))),e.$set(i)},i:function(t){r||(Uf(e.$$.fragment,t),r=!0)},o:function(t){Wf(e.$$.fragment,t),r=!1},d:function(t){id(e,t)}}}var ex=1,nx=0,rx=function(t,e){return t.target===e};function ix(t,e,n){var r,i,o,a,u,c,s,l,f,d,h,p,v,m,g,y,b,w,x,$,C,_,k,E,M,S,R,I,L,O,P,A,T,j,B,D,N,z,F,Z,H,V,U,W,q,G,K,Y,X,J,Q,tt,et,nt,rt,it,ot,at,ut,ct,st,lt,ft,dt,ht,pt,vt,mt,gt,yt,bt,wt,xt=wl,$t=function(){return xt(),xt=Sl(Ct,(function(t){return n(12,L=t)})),Ct};t.$$.on_destroy.push((function(){return xt()}));var Ct=e.isActive;$t();var _t=e.stores,kt=e.cropImageSelectionCornerStyle,Et=void 0===kt?"circle":kt,Mt=e.cropWillRenderImageSelectionGuides,St=void 0===Mt?function(t,e){var n="rotate"==t;return{rows:n?5:3,cols:n?5:3,opacity:.25*e}}:Mt,Rt=e.cropAutoCenterImageSelectionTimeout,It=void 0===Rt?void 0:Rt,Lt=e.cropEnableZoomMatchImageAspectRatio,Ot=void 0===Lt||Lt,Pt=e.cropEnableRotateMatchImageAspectRatio,At=void 0===Pt?"never":Pt,Tt=e.cropEnableRotationInput,jt=void 0===Tt||Tt,Bt=e.cropEnableZoom,Dt=void 0===Bt||Bt,Nt=e.cropEnableZoomInput,zt=void 0===Nt||Nt,Ft=e.cropEnableZoomAutoHide,Zt=void 0===Ft||Ft,Ht=e.cropEnableImageSelection,Vt=void 0===Ht||Ht,Ut=e.cropEnableInfoIndicator,Wt=void 0!==Ut&&Ut,qt=e.cropEnableZoomTowardsWheelPosition,Gt=void 0===qt||qt,Kt=e.cropEnableLimitWheelInputToCropSelection,Yt=void 0===Kt||Kt,Xt=e.cropEnableCenterImageSelection,Jt=void 0===Xt||Xt,Qt=e.cropEnableButtonRotateLeft,te=void 0===Qt||Qt,ee=e.cropEnableButtonRotateRight,ne=void 0!==ee&&ee,re=e.cropEnableButtonFlipHorizontal,ie=void 0===re||re,oe=e.cropEnableButtonFlipVertical,ae=void 0!==oe&&oe,ue=e.cropSelectPresetOptions,ce=void 0===ue?void 0:ue,se=e.cropEnableSelectPreset,le=void 0===se||se,fe=e.cropEnableFilterMatchAspectRatio,de=void 0===fe||fe,he=e.cropSelectPresetFilter,pe=void 0!==he&&he,ve=e.cropEnableButtonToggleCropLimit,me=void 0!==ve&&ve,ge=e.cropWillRenderTools,ye=void 0===ge?Xo:ge,be=e.cropActiveTransformTool,we=void 0===be?"rotation":be,xe=e.cropMinimizeToolbar,$e=void 0===xe?"auto":xe,Ce=e.cropInteractionFocus,_e=void 0===Ce?"image":Ce,ke=e.cropRotationRange,Ee=void 0===ke?Qo:ke,Me=e.cropMaskOpacity,Se=void 0===Me?.85:Me,Re=e.locale,Ie=void 0===Re?{}:Re,Le=Cf("isAnimated");Il(t,Le,(function(t){return n(139,O=t)}));var Oe=Cf("elasticityMultiplier");Il(t,Oe,(function(t){return n(25,vt=t)}));var Pe=Cf("redrawTrigger");Il(t,Pe,(function(t){return n(159,pt=t)}));var Ae=Cf("imageIsStatic");Il(t,Ae,(function(t){return n(145,z=t)}));var Te=Cf("imageStaticVisualCorners");Il(t,Te,(function(t){return n(181,at=t)}));var je="idle",Be=sd();Il(t,Be,(function(t){return n(156,ft=t)}));var De,Ne=function(){return void 0===it},ze=function(t){return 1/t},Fe=function(t){de&&pe!==t&&(n(95,pe=t),it&&1!==it&&Ze()&&Dl(kn,it=ze(it),it))},Ze=function(){if(1===it||!r)return!1;var t=ze(it);return!!wm(ft).find((function(e){return e[0]===t}))},He=function(t,e,n){return ta(n)?e.width===Math.round(t.height)||e.height===Math.round(t.width):e.width===Math.round(t.width)||e.height===Math.round(t.height)},Ve=function(){return(Ne()||"always"===At&&Ze())&&function(t,e,n){var r=qa(Ua(ja(e),n),(function(t){return Math.abs(Math.round(t))})),i=Va(r),o=au(t);return xa(i,o)}(F,Y,X)&&He(F,Y,X)},Ue=function(t){if("never"!==At&&Ve()){Dl(dn,X+=t,X);var e=ta(X),n=e?Y.height:Y.width,r=e?Y.width:Y.height;Dl(xn,F=ou(0,0,n,r),F),Ne()||Dl(kn,it=Yo(n,r),it)}else Dl(dn,X+=t,X)},We=_t,qe=We.history,Ge=We.env,Ke=We.isInteracting,Ye=We.isInteractingFraction,Xe=We.isTransformingImage,Je=We.rootRect,Qe=We.stageRect,tn=(We.utilRect,We.utilRectPadded),en=We.rootLineColor,nn=We.allowPan,rn=We.allowZoom,on=We.rangeInputElasticity,an=We.presentationScalar,un=We.utilTools,cn=We.imagePreviewModifiers,sn=We.imageOutlineOpacity,ln=We.imageFlipX,fn=We.imageFlipY,dn=We.imageRotation,hn=We.imageRotationRange,pn=We.imageOutputSize,vn=We.imageSelectionRect,mn=We.imageSelectionRectSnapshot,gn=We.imageSelectionRectIntent,yn=We.imageSelectionRectPresentation,bn=We.imageCropRectIntent,wn=We.imageCropRectOrigin,xn=We.imageCropRect,$n=We.imageCropMinSize,Cn=We.imageCropMaxSize,_n=We.imageCropRange,kn=We.imageCropAspectRatio,En=We.imageCropLimitToImage,Mn=We.imageSize,Sn=We.imageScalar,Rn=We.imageOverlayMarkup,In=We.stagePadded,Ln=We.stageRecenter;Il(t,Ge,(function(t){return n(140,P=t)})),Il(t,Ke,(function(t){return n(144,N=t)})),Il(t,Xe,(function(t){return n(174,G=t)})),Il(t,Je,(function(t){return n(24,tt=t)})),Il(t,Qe,(function(t){return n(151,q=t)})),Il(t,tn,(function(t){return n(148,V=t)})),Il(t,an,(function(t){return n(147,H=t)})),Il(t,un,(function(t){return n(183,ct=t)})),Il(t,cn,(function(t){return n(173,B=t)})),Il(t,ln,(function(t){return n(158,ht=t)})),Il(t,fn,(function(t){return n(157,dt=t)})),Il(t,dn,(function(t){return n(14,X=t)})),Il(t,hn,(function(t){return n(26,mt=t)})),Il(t,pn,(function(t){return n(184,st=t)})),Il(t,vn,(function(t){return n(150,W=t)})),Il(t,mn,(function(t){return n(149,U=t)})),Il(t,gn,(function(t){return n(182,ut=t)})),Il(t,yn,(function(t){return n(143,D=t)})),Il(t,bn,(function(t){return n(176,et=t)})),Il(t,wn,(function(t){return n(178,rt=t)})),Il(t,xn,(function(t){return n(13,F=t)})),Il(t,$n,(function(t){return n(154,Q=t)})),Il(t,Cn,(function(t){return n(180,ot=t)})),Il(t,_n,(function(t){return n(177,nt=t)})),Il(t,kn,(function(t){return n(179,it=t)})),Il(t,En,(function(t){return n(153,J=t)})),Il(t,Mn,(function(t){return n(152,Y=t)})),Il(t,Sn,(function(t){return n(146,Z=t)})),Il(t,Rn,(function(t){return n(172,T=t)})),Il(t,In,(function(t){return n(142,j=t)}));var On=function(t,e){var n={target:t,translate:e},r=Ha(ja(Q),H),i=Ha(ja(ot),H),o=_w(U,n,Object.assign({},V,{x:0,y:0}),{aspectRatio:it,minSize:r,maxSize:i});if(o=function(t,e,n){var r=xu(t),i=r[0],o=r[1],a=r[2],u=r[3],c=Object.assign({},t);if(i<e.y&&(t.height=t.height-(e.y-i),t.y=e.y),o>e.x+e.width&&(t.width=e.x+e.width-t.x),a>e.y+e.height&&(t.height=e.y+e.height-t.y),u<e.x&&(t.width=t.width-(e.x-u),t.x=e.x),n){var s=Math.min(1,c.width/t.width,c.height/t.height);return fu(c,s)}return t}(o,Object.assign({},V,{x:0,y:0}),it),!J)return{boundsLimited:o,boundsIntent:o};var a=Fw(U,o,n,at,{aspectRatio:it,minSize:r,maxSize:i});return{boundsLimited:a,boundsIntent:a}},Pn=function(t,e){var n={target:t,translate:e},r=Ha(ja(Q),H),i=Ha(ja(ot),H),o=function(t,e,n){void 0===n&&(n={});var r=e.target,i=e.translate,o=n,a=o.aspectRatio,u=o.minSize,c=$w[r],s=la[c],l=Ca(Qa(t),pa(s[0]*t.width,s[1]*t.height)),f=la[r],d=Ca(Qa(t),pa(f[0]*t.width,f[1]*t.height)),h=Cw(r),p=h[0],v=h[1],m=h[2],g=h[3],y=h[4],b=h[5],w=h[6],x=i.x,$=i.y;y?$=0:b&&(x=0);var C=xu(t),_=C[0],k=C[1],E=C[2],M=C[3];if(p?M=l.x:v&&(k=l.x),g?_=l.y:m&&(E=l.y),p?k=d.x+x:v&&(M=d.x+x),g?E=d.y+$:m&&(_=d.y+$),u&&y&&E-_<u.height){var S=u.height-(E-_);_-=.5*S,E+=.5*S}if(u&&b&&k-M<u.width){var R=u.width-(k-M);M-=.5*R,k+=.5*R}if(a)if(w){var I=k-M,L=E-_;y?(L=I/a,_=l.y-.5*L,E=l.y+.5*L):b&&(I=L*a,M=l.x-.5*I,k=l.x+.5*I)}else{var O=pa(d.x+x-l.x,d.y+$-l.y);r===ua?(O.x=Math.max(0,O.x),O.y=Math.min(0,O.y)):r===ca?(O.x=Math.max(0,O.x),O.y=Math.max(0,O.y)):r===sa?(O.x=Math.min(0,O.x),O.y=Math.max(0,O.y)):r===aa&&(O.x=Math.min(0,O.x),O.y=Math.min(0,O.y));var P=ba(O),A=pa(a,1),T=Ea(wa(A),P);r===ua?(k=l.x+T.x,_=l.y-T.y):r===ca?(k=l.x+T.x,E=l.y+T.y):r===sa?(M=l.x-T.x,E=l.y+T.y):r===aa&&(M=l.x-T.x,_=l.y-T.y)}return ou(M,_,k-M,E-_)}(U,n,{aspectRatio:it,minSize:r});return{boundsLimited:_w(U,n,Object.assign({},V,{x:0,y:0}),{aspectRatio:it,minSize:r,maxSize:i}),boundsIntent:o}},An=void 0,Tn=void 0,jn=function(t){var e=t.translation,n=t.scalar;z&&(n=1,e=ga(ma(e)));var r,i=Math.min(W.width/F.width,W.height/F.height),o=Ea(ma(e),1/i);if(Tn){var a=_a(ma(Tn),e);Tn=e,r=uu(Qa(F),a)}else r=uu(Qa(An),ga(ma(o))),void 0!==n&&cu(r,1/n);Dl(bn,et=r,et),Dl(xn,F=r,F)},Bn=ld([_n,xn],(function(t,e){var n=t[0],r=t[1];if(r){var i=n[0],o=n[1],a=hu(r);e([Da(Cu(bu(i,a),fa)),Da(Cu(wu(o,a),fa))])}}));Il(t,Bn,(function(t){return n(175,K=t)}));var Dn=ld([Mn,En,$n,Cn,_n,dn],(function(t,e){var n=t[0],r=t[1],i=t[2],o=(t[3],t[4]),a=t[5];if(n){var u,c,s=o[0],l=o[1];r?(u=function(t,e,n){return ta(n)?1-1/Math.min(t.height/e.width,t.width/e.height):1-1/Math.min(t.width/e.width,t.height/e.height)}(n,l,a),c=Math.min(s.width/i.width,s.height/i.height)):(u=-1,c=1),e([u,c].map((function(t){return fa(t)})))}}));Il(t,Dn,(function(t){return n(27,gt=t)}));var Nn=ld([Mn,xn,_n,dn],(function(t,e){var n,r=t[0],i=t[1],o=t[2],a=t[3];if(!r||!i)return e(0);var u=o[0],c=o[1],s=i.width,l=i.height,f=hu(i),d=ta(a)?Fa(r.height,r.width):r,h=wu(d,f);if(s<=h.width||l<=h.height){var p=h.width-u.width,v=h.height-u.height;n=0===p||0===v?1:1-Math.min((s-u.width)/p,(l-u.height)/v)}else{var m=c.width-h.width,g=c.height-h.height,y=wu({width:m,height:g},f);n=-Math.min((s-h.width)/y.width,(l-h.height)/y.height)}e(n)}));Il(t,Nn,(function(t){return n(28,yt=t)}));var zn,Fn,Zn,Hn=function(t){var e,n,r,i=hu(An),o=ta(X)?Fa(Y.height,Y.width):Y,a=wu(o,i);if(t>=0){var u=a.width-nt[0].width,c=a.height-nt[0].height;e=a.width-u*t,n=a.height-c*t,r=bu({width:e,height:n},i)}else{var s=nt[1].width-a.width,l=nt[1].height-a.height;e=a.width+s*-t,n=a.height+l*-t,r=wu({width:e,height:n},i)}e=r.width,n=r.height;var f=An.x+.5*An.width-.5*e,d=An.y+.5*An.height-.5*n;Dl(xn,F={x:f,y:d,width:e,height:n},F)},Vn=function(t){var e=cu(Qa(zn),1/t);Dl(bn,et=e,et),Dl(xn,F=e,F)},Un=function(){Ln.set({})},Wn=gp(0,{precision:1e-4});Il(t,Wn,(function(t){return n(29,bt=t)}));var qn=gp();Il(t,qn,(function(t){return n(30,wt=t)}));var Gn=ld([kn,pn,Be],(function(t,e){var n=t[0],i=t[1],o=t[2];if(r){var a=wm(o),u=[].concat(a).map((function(t){return t[0]})).sort((function(t,e){return Pc(t[0])&&!Pc(e[0])?1:-1})).find((function(t){if(Pc(t)&&i){var e=t[0],r=t[1],o=i.width===e&&i.height===r,a=n===Yo(e,r);return o&&a}return t===n}));if(!u)return e(void 0);e(a.map((function(t){return t[0]})).findIndex((function(t){return Pc(t)?Td(t,u):t===u})))}}));Il(t,Gn,(function(t){return n(155,lt=t)}));var Kn=function(t,e){if(r&&-1!==t&&void 0!==t){var n=wm(e)[t][0];return n?Pc(n)?Yo(n[0],n[1]):n:void 0}},Yn=ld([en,yn,Ye],(function(t,e){var n=t[0],r=t[1],i=t[2],o=St(je,i),a=o.rows,u=o.cols,c=o.opacity;if(!r||c<=0)return e([]);for(var s=r.x,l=r.y,f=r.width,d=r.height,h=f/u,p=d/a,v=[],m=1;m<=a-1;m++){var g=l+p*m;v.push({id:"image-selection-guide-row-"+m,points:[pa(s,g),pa(s+f,g)],opacity:c,strokeWidth:1,strokeColor:n})}for(var y=1;y<=u-1;y++){var b=s+h*y;v.push({id:"image-selection-guide-col-"+y,points:[pa(b,l),pa(b,l+d)],opacity:c,strokeWidth:1,strokeColor:n})}e(v)}));Il(t,Yn,(function(t){return n(141,A=t)}));var Xn,Jn="crop-"+Bo(),Qn=Jn+"-"+(jt?we:"zoom"),tr=Qn,er=void 0,nr=gp(O?20:0);Il(t,nr,(function(t){return n(138,I=t)}));return t.$$set=function(t){"isActive"in t&&$t(n(0,Ct=t.isActive)),"stores"in t&&n(97,_t=t.stores),"cropImageSelectionCornerStyle"in t&&n(1,Et=t.cropImageSelectionCornerStyle),"cropWillRenderImageSelectionGuides"in t&&n(98,St=t.cropWillRenderImageSelectionGuides),"cropAutoCenterImageSelectionTimeout"in t&&n(99,It=t.cropAutoCenterImageSelectionTimeout),"cropEnableZoomMatchImageAspectRatio"in t&&n(100,Ot=t.cropEnableZoomMatchImageAspectRatio),"cropEnableRotateMatchImageAspectRatio"in t&&n(101,At=t.cropEnableRotateMatchImageAspectRatio),"cropEnableRotationInput"in t&&n(102,jt=t.cropEnableRotationInput),"cropEnableZoom"in t&&n(2,Dt=t.cropEnableZoom),"cropEnableZoomInput"in t&&n(103,zt=t.cropEnableZoomInput),"cropEnableZoomAutoHide"in t&&n(104,Zt=t.cropEnableZoomAutoHide),"cropEnableImageSelection"in t&&n(105,Vt=t.cropEnableImageSelection),"cropEnableInfoIndicator"in t&&n(106,Wt=t.cropEnableInfoIndicator),"cropEnableZoomTowardsWheelPosition"in t&&n(107,Gt=t.cropEnableZoomTowardsWheelPosition),"cropEnableLimitWheelInputToCropSelection"in t&&n(108,Yt=t.cropEnableLimitWheelInputToCropSelection),"cropEnableCenterImageSelection"in t&&n(109,Jt=t.cropEnableCenterImageSelection),"cropEnableButtonRotateLeft"in t&&n(110,te=t.cropEnableButtonRotateLeft),"cropEnableButtonRotateRight"in t&&n(111,ne=t.cropEnableButtonRotateRight),"cropEnableButtonFlipHorizontal"in t&&n(112,ie=t.cropEnableButtonFlipHorizontal),"cropEnableButtonFlipVertical"in t&&n(113,ae=t.cropEnableButtonFlipVertical),"cropSelectPresetOptions"in t&&n(114,ce=t.cropSelectPresetOptions),"cropEnableSelectPreset"in t&&n(115,le=t.cropEnableSelectPreset),"cropEnableFilterMatchAspectRatio"in t&&n(116,de=t.cropEnableFilterMatchAspectRatio),"cropSelectPresetFilter"in t&&n(95,pe=t.cropSelectPresetFilter),"cropEnableButtonToggleCropLimit"in t&&n(117,me=t.cropEnableButtonToggleCropLimit),"cropWillRenderTools"in t&&n(118,ye=t.cropWillRenderTools),"cropActiveTransformTool"in t&&n(119,we=t.cropActiveTransformTool),"cropMinimizeToolbar"in t&&n(120,$e=t.cropMinimizeToolbar),"cropInteractionFocus"in t&&n(121,_e=t.cropInteractionFocus),"cropRotationRange"in t&&n(3,Ee=t.cropRotationRange),"cropMaskOpacity"in t&&n(122,Se=t.cropMaskOpacity),"locale"in t&&n(4,Ie=t.locale)},t.$$.update=function(){var e;4096&t.$$.dirty[0]|268435456&t.$$.dirty[3]&&Ae.set("selection"===_e&&L),2097152&t.$$.dirty[3]&&n(129,r=ce&&Array.isArray(ce)&&ce.length),2097152&t.$$.dirty[3]|32&t.$$.dirty[4]&&Be.set(r?ce:[]),4096&t.$$.dirty[0]&&L&&sn.set(1),4096&t.$$.dirty[0]&&nn.set(!L),4096&t.$$.dirty[0]&&rn.set(!L),65536&t.$$.dirty[4]&&n(124,h="overlay"===P.layoutMode),4194304&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(128,x=le&&!h),83886080&t.$$.dirty[4]&&n(137,c=V&&W&&gu(V,W)),67117056&t.$$.dirty[4]&&n(135,s=!(!W||!c)),67119104&t.$$.dirty[4]&&n(133,l=s&&du(W,c,(function(t){return fa(t,5)}))),16400&t.$$.dirty[0]|52297732&t.$$.dirty[3]|1879114288&t.$$.dirty[4]|31&t.$$.dirty[5]&&n(11,i=pt&&ye([te&&["Button","rotate-left",{label:Ie.cropLabelButtonRotateLeft,labelClass:"PinturaToolbarContentWide",icon:Ie.cropIconButtonRotateLeft,onclick:function(){Ue(-Math.PI/2),qe.write()}}],ne&&["Button","rotate-right",{label:Ie.cropLabelButtonRotateRight,labelClass:"PinturaToolbarContentWide",icon:Ie.cropIconButtonRotateRight,onclick:function(){Ue(Math.PI/2),qe.write()}}],ie&&["Button","flip-horizontal",{label:Ie.cropLabelButtonFlipHorizontal,labelClass:"PinturaToolbarContentWide",icon:Ie.cropIconButtonFlipHorizontal,onclick:function(){ta(X)?Dl(fn,dt=!dt,dt):Dl(ln,ht=!ht,ht),qe.write()}}],ae&&["Button","flip-vertical",{label:Ie.cropLabelButtonFlipVertical,labelClass:"PinturaToolbarContentWide",icon:Ie.cropIconButtonFlipVertical,onclick:function(){ta(X)?Dl(ln,ht=!ht,ht):Dl(fn,dt=!dt,dt),qe.write()}}],x&&r&&[!1===pe?"Dropdown":Bw,"select-preset",{icon:$m(Ie.cropIconSelectPreset,Ie,Kn(lt,ft)),label:$m(Ie.cropLabelSelectPreset,Ie,Kn(lt,ft)),labelClass:"PinturaToolbarContentWide",options:ft,filter:pe,onfilterchange:Fe,selectedIndex:lt,onchange:function(t){var e=t.value;Pc(e)?(Dl(kn,it=Yo(e[0],e[1]),it),Dl(pn,st=Na(e),st)):Dl(kn,it=e,it),l&&Un(),qe.write()},optionMapper:function(t){var e=!1,n=Pc(t.value)?t.value[0]/t.value[1]:t.value;if(n){var r=Md(Y,X,n);e=r.width<Q.width||r.height<Q.height}return t.icon=function(t,e){void 0===e&&(e={});var n,r,i,o,a=e,u=a.width,c=void 0===u?24:u,s=a.height,l=void 0===s?24:s,f=a.bounds,d=void 0===f?16:f,h=a.radius,p=void 0===h?3:h,v=Pc(t)?Yo(t[0],t[1]):t,m=!!v;return o=(i=(v=m?v:1)>1?d:v*d)/v,n=Math.round(.5*(c-i)),r=Math.round(.5*(l-o)),'<rect fill="'+(m?"currentColor":"none")+'" stroke="'+(m?"none":"currentColor")+'" stroke-width="'+c/16+'" stroke-dasharray="'+[c/12,c/6].join(" ")+'" x="'+n+'" y="'+r+'" width="'+i+'" height="'+o+'" rx="'+p+'"/>'}(t.value,{bounds:14}),Object.assign({},t,{disabled:e})}}],me&&["Dropdown","select-crop-limit",{icon:$m(Ie.cropIconCropBoundary,Ie,J),label:Ie.cropLabelCropBoundary,labelClass:"PinturaToolbarContentWide",onchange:function(t){var e=t.value;Dl(En,J=e,J),qe.write()},options:[[!0,Ie.cropLabelCropBoundaryEdge,{icon:$m(Ie.cropIconCropBoundary,Ie,!0)}],[!1,Ie.cropLabelCropBoundaryNone,{icon:$m(Ie.cropIconCropBoundary,Ie,!1)}]]}]].filter(Boolean),P,(function(){return Pe.set({})})).filter(Boolean)),6144&t.$$.dirty[0]|134217728&t.$$.dirty[3]|65537&t.$$.dirty[4]&&Dl(un,ct=L&&"never"!==$e&&("always"===$e||"short"===P.verticalSpace||h)?i.map((function(t){var e=t[0],n=t[1],r=t[2];return Array.isArray(r)?[e,n,r]:[e,n,Object.assign({},r,{hideLabel:!0})]})):[],ct),536870912&t.$$.dirty[4]&&n(23,o=J?0:-1),150994944&t.$$.dirty[4]&&n(130,a=V&&pa(-(q.x-V.x),-(q.y-V.y))),524352&t.$$.dirty[4]&&n(131,u=D&&pa(nm(D.x+.5*D.width+a.x),nm(D.y+.5*D.height+a.y))),33554432&t.$$.dirty[4]&&n(134,f=null!=U),16785408&t.$$.dirty[4]&&n(136,d=V&&c&&(c.height===V.height||c.width===V.width)),12587008&t.$$.dirty[4]&&n(132,p=!d&&H<1&&Z<1),3840&t.$$.dirty[4]&&n(9,v=s&&!f&&(!l||p)),8192&t.$$.dirty[0]|8192&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(22,m=Wt&&!!F&&!h),524352&t.$$.dirty[4]&&n(8,b=D&&a&&{x:D.x+a.x,y:D.y+a.y,width:D.width,height:D.height}),256&t.$$.dirty[0]|4096&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(21,g=Vt&&!!b&&!h),65600&t.$$.dirty[3]|2097280&t.$$.dirty[4]&&n(10,y=Jt&&!!u&&!It&&!z),512&t.$$.dirty[0]|1073741888&t.$$.dirty[3]|1048576&t.$$.dirty[4]&&v&&It&&!N&&(clearTimeout(Zn),n(123,Zn=setTimeout(Un,It))),1073741824&t.$$.dirty[3]|1048576&t.$$.dirty[4]&&N&&clearTimeout(Zn),1536&t.$$.dirty[0]|32768&t.$$.dirty[4]&&Wn.set(y&&v?1:0,{hard:!1===O}),32896&t.$$.dirty[4]&&qn.set(u,{hard:!1===O}),4096&t.$$.dirty[0]|262144&t.$$.dirty[4]&&(L&&!j?(Dl(cn,B.crop={maskOpacity:Se,maskMarkupOpacity:Se},B),cn.set(B)):(delete B.crop,cn.set(B))),131072&t.$$.dirty[4]&&A&&(e=T.filter((function(t){return!/^image\-selection\-guide/.test(t.id)})),Dl(Rn,T=L?[].concat(e,A):e,T)),65536&t.$$.dirty[4]&&n(127,w="short"!==P.verticalSpace),134217728&t.$$.dirty[3]|9&t.$$.dirty[4]&&n(20,$="never"===$e&&!h||w&&"always"!==$e),4&t.$$.dirty[0]|1024&t.$$.dirty[3]&&n(126,C=Dt&&zt),2048&t.$$.dirty[3]|12&t.$$.dirty[4]&&n(125,_=Zt?w&&C:C),512&t.$$.dirty[3]|2&t.$$.dirty[4]&&n(19,k=jt||_),2&t.$$.dirty[4]&&(_||n(5,tr=Qn)),32&t.$$.dirty[0]&&n(18,E={name:Jn,selected:tr}),16&t.$$.dirty[0]|512&t.$$.dirty[3]|2&t.$$.dirty[4]&&n(7,M=[jt&&{id:Jn+"-rotation",label:Ie.cropLabelTabRotation},_&&{id:Jn+"-zoom",label:Ie.cropLabelTabZoom}].filter(Boolean)),128&t.$$.dirty[0]&&n(17,S=M.map((function(t){return t.id}))),64&t.$$.dirty[0]|1&t.$$.dirty[4]&&Xn&&!Xn.children.length&&h&&Xn.dispatchEvent(new CustomEvent("measure",{detail:Xn.rect})),4096&t.$$.dirty[0]|32768&t.$$.dirty[4]&&O&&nr.set(L?0:20),16384&t.$$.dirty[4]&&n(16,R=I?"transform: translateY("+I+"px)":void 0)},[Ct,Et,Dt,Ee,Ie,tr,Xn,M,b,v,y,i,L,F,X,er,R,S,E,k,$,g,m,o,tt,vt,mt,gt,yt,bt,wt,Le,Oe,Pe,Ae,Te,Be,Ge,Ke,Xe,Je,Qe,tn,on,an,un,cn,ln,fn,dn,hn,pn,vn,mn,gn,yn,bn,wn,xn,$n,Cn,_n,kn,En,Mn,Sn,Rn,In,function(){je="select",Dl(Ke,N=!0,N),Dl(mn,U=Qa(W),U),De=z?On:Pn},function(t){var e=t.detail,n=De(e.direction,e.translation),r=n.boundsLimited,i=n.boundsIntent;Dl(Xe,G=!0,G),Dl(gn,ut=i,ut),Dl(vn,W=r,W)},function(t){var e=t.detail,n=De(e.direction,e.translation).boundsLimited;Dl(Xe,G=!1,G),Dl(Ke,N=!1,N),Dl(gn,ut=void 0,ut),ba(e.translation)&&(Dl(vn,W=n,W),qe.write()),Dl(mn,U=void 0,U),je=void 0},function(){je="rotate",Dl(Ke,N=!0,N),Dl(wn,rt=Qa(F),rt)},function(t){Dl(Xe,G=!0,G),Dl(dn,X=t,X)},function(t){Dl(Xe,G=!1,G),Dl(Ke,N=!1,N),Dl(dn,X=t,X),qe.write(),Dl(wn,rt=void 0,rt)},function(){je="pan",Tn=void 0,Dl(Ke,N=!0,N),An=Qa(F)},function(t){var e=t.detail;Dl(Xe,G=!0,G),jn(e)},function(t){var e=t.detail;Dl(Xe,G=!1,G),Dl(Ke,N=!1,N),(ba(e.translation)>0||0!==e.scalar)&&(jn(e),qe.write()),Dl(bn,et=void 0,et),An=void 0},function(t){var e=t.detail.translation;z&&(e=ga(ma(e))),Tn=e,Dl(Ke,N=!1,N)},Bn,Dn,Nn,function(){je="zoom",Dl(Ke,N=!0,N),An=Qa(F)},function(t){Dl(Xe,G=!1,G),Hn(t)},function(t){Hn(t),qe.write(),Dl(Xe,G=!1,G),Dl(Ke,N=!1,N),An=void 0},function(){je="zoom",An||(zn=Qa(F),Dl(Ke,N=!0,N))},function(t){var e=t.detail;zn&&(Dl(Xe,G=!0,G),Vn(e))},function(t){var e=t.detail;zn&&(Dl(Xe,G=!1,G),Dl(Ke,N=!1,N),Vn(e),Dl(bn,et=void 0,et),zn=void 0,qe.write())},function(t){var e=fy(t,tt,q);if(!Yt||yu(W,e)){je="zoom",Dl(Ke,N=!0,N),Dl(Xe,G=!0,G),t.preventDefault(),t.stopPropagation();var n=Av(t),r=1+n/100,i=Qa(F),o=1===Math.min(F.width/Q.width,F.height/Q.height);if(Ot&&J){var a=He(F,Y,X);if(Ne()&&a&&n>0&&l){Dl(Ke,N=!1,N),Dl(Xe,G=!1,G);var u=ta(X)?eu({height:Y.width,width:Y.height}):eu(Y);if(du(i,u))return;if(clearTimeout(Fn),du(qe.state.crop,u))return;return Dl(xn,F=u,F),void qe.write()}}var c=au(F);if(Gt&&"selection"!==_e&&n<0&&!o){var s=_a(ma(e),W),f=Math.min(W.width/F.width,W.height/F.height),d=cu(Qa(W),1.1);c=yu(d,e)?Ca(Qa(F),Ea(s,1/f)):c}var h=cu(Qa(F),r,c);if(Wa(K[1],h)||(h=iu(au(h),K[1])),Wa(h,K[0])||(h=iu(au(h),K[0])),du(i,h,fa))return Dl(Ke,N=!1,N),void Dl(Xe,G=!1,G);Dl(xn,F=Cu(h,(function(t){return fa(t,5)})),F),Dl(Ke,N=!1,N),Dl(Xe,G=!1,G),clearTimeout(Fn),Fn=setTimeout((function(){qe.write()}),500)}},Un,Wn,qn,Gn,Yn,Jn,nr,pe,"crop",_t,St,It,Ot,At,jt,zt,Zt,Vt,Wt,Gt,Yt,Jt,te,ne,ie,ae,ce,le,de,me,ye,we,$e,_e,Se,Zn,h,_,C,w,x,r,a,u,p,l,f,s,d,c,I,O,P,A,j,D,N,z,Z,H,V,U,W,q,Y,J,Q,lt,ft,dt,ht,pt,function(e){_f.call(this,t,e)},function(t){var e=t.detail;return n(5,tr=e)},function(t){Ef[t?"unshift":"push"]((function(){n(6,Xn=t)}))},function(t){return ly(t)},function(t){n(15,er=t)},function(e){_f.call(this,t,e)}]}var ox={util:["crop",function(t){function e(e){var n;return od(Vi(n=t.call(this)||this),e,ix,tx,Ml,{name:96,isActive:0,stores:97,cropImageSelectionCornerStyle:1,cropWillRenderImageSelectionGuides:98,cropAutoCenterImageSelectionTimeout:99,cropEnableZoomMatchImageAspectRatio:100,cropEnableRotateMatchImageAspectRatio:101,cropEnableRotationInput:102,cropEnableZoom:2,cropEnableZoomInput:103,cropEnableZoomAutoHide:104,cropEnableImageSelection:105,cropEnableInfoIndicator:106,cropEnableZoomTowardsWheelPosition:107,cropEnableLimitWheelInputToCropSelection:108,cropEnableCenterImageSelection:109,cropEnableButtonRotateLeft:110,cropEnableButtonRotateRight:111,cropEnableButtonFlipHorizontal:112,cropEnableButtonFlipVertical:113,cropSelectPresetOptions:114,cropEnableSelectPreset:115,cropEnableFilterMatchAspectRatio:116,cropSelectPresetFilter:95,cropEnableButtonToggleCropLimit:117,cropWillRenderTools:118,cropActiveTransformTool:119,cropMinimizeToolbar:120,cropInteractionFocus:121,cropRotationRange:3,cropMaskOpacity:122,locale:4},null,[-1,-1,-1,-1,-1,-1,-1,-1]),n}return qi(e,t),Hi(e,[{key:"name",get:function(){return this.$$.ctx[96]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),Df()}},{key:"stores",get:function(){return this.$$.ctx[97]},set:function(t){this.$$set({stores:t}),Df()}},{key:"cropImageSelectionCornerStyle",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({cropImageSelectionCornerStyle:t}),Df()}},{key:"cropWillRenderImageSelectionGuides",get:function(){return this.$$.ctx[98]},set:function(t){this.$$set({cropWillRenderImageSelectionGuides:t}),Df()}},{key:"cropAutoCenterImageSelectionTimeout",get:function(){return this.$$.ctx[99]},set:function(t){this.$$set({cropAutoCenterImageSelectionTimeout:t}),Df()}},{key:"cropEnableZoomMatchImageAspectRatio",get:function(){return this.$$.ctx[100]},set:function(t){this.$$set({cropEnableZoomMatchImageAspectRatio:t}),Df()}},{key:"cropEnableRotateMatchImageAspectRatio",get:function(){return this.$$.ctx[101]},set:function(t){this.$$set({cropEnableRotateMatchImageAspectRatio:t}),Df()}},{key:"cropEnableRotationInput",get:function(){return this.$$.ctx[102]},set:function(t){this.$$set({cropEnableRotationInput:t}),Df()}},{key:"cropEnableZoom",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({cropEnableZoom:t}),Df()}},{key:"cropEnableZoomInput",get:function(){return this.$$.ctx[103]},set:function(t){this.$$set({cropEnableZoomInput:t}),Df()}},{key:"cropEnableZoomAutoHide",get:function(){return this.$$.ctx[104]},set:function(t){this.$$set({cropEnableZoomAutoHide:t}),Df()}},{key:"cropEnableImageSelection",get:function(){return this.$$.ctx[105]},set:function(t){this.$$set({cropEnableImageSelection:t}),Df()}},{key:"cropEnableInfoIndicator",get:function(){return this.$$.ctx[106]},set:function(t){this.$$set({cropEnableInfoIndicator:t}),Df()}},{key:"cropEnableZoomTowardsWheelPosition",get:function(){return this.$$.ctx[107]},set:function(t){this.$$set({cropEnableZoomTowardsWheelPosition:t}),Df()}},{key:"cropEnableLimitWheelInputToCropSelection",get:function(){return this.$$.ctx[108]},set:function(t){this.$$set({cropEnableLimitWheelInputToCropSelection:t}),Df()}},{key:"cropEnableCenterImageSelection",get:function(){return this.$$.ctx[109]},set:function(t){this.$$set({cropEnableCenterImageSelection:t}),Df()}},{key:"cropEnableButtonRotateLeft",get:function(){return this.$$.ctx[110]},set:function(t){this.$$set({cropEnableButtonRotateLeft:t}),Df()}},{key:"cropEnableButtonRotateRight",get:function(){return this.$$.ctx[111]},set:function(t){this.$$set({cropEnableButtonRotateRight:t}),Df()}},{key:"cropEnableButtonFlipHorizontal",get:function(){return this.$$.ctx[112]},set:function(t){this.$$set({cropEnableButtonFlipHorizontal:t}),Df()}},{key:"cropEnableButtonFlipVertical",get:function(){return this.$$.ctx[113]},set:function(t){this.$$set({cropEnableButtonFlipVertical:t}),Df()}},{key:"cropSelectPresetOptions",get:function(){return this.$$.ctx[114]},set:function(t){this.$$set({cropSelectPresetOptions:t}),Df()}},{key:"cropEnableSelectPreset",get:function(){return this.$$.ctx[115]},set:function(t){this.$$set({cropEnableSelectPreset:t}),Df()}},{key:"cropEnableFilterMatchAspectRatio",get:function(){return this.$$.ctx[116]},set:function(t){this.$$set({cropEnableFilterMatchAspectRatio:t}),Df()}},{key:"cropSelectPresetFilter",get:function(){return this.$$.ctx[95]},set:function(t){this.$$set({cropSelectPresetFilter:t}),Df()}},{key:"cropEnableButtonToggleCropLimit",get:function(){return this.$$.ctx[117]},set:function(t){this.$$set({cropEnableButtonToggleCropLimit:t}),Df()}},{key:"cropWillRenderTools",get:function(){return this.$$.ctx[118]},set:function(t){this.$$set({cropWillRenderTools:t}),Df()}},{key:"cropActiveTransformTool",get:function(){return this.$$.ctx[119]},set:function(t){this.$$set({cropActiveTransformTool:t}),Df()}},{key:"cropMinimizeToolbar",get:function(){return this.$$.ctx[120]},set:function(t){this.$$set({cropMinimizeToolbar:t}),Df()}},{key:"cropInteractionFocus",get:function(){return this.$$.ctx[121]},set:function(t){this.$$set({cropInteractionFocus:t}),Df()}},{key:"cropRotationRange",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({cropRotationRange:t}),Df()}},{key:"cropMaskOpacity",get:function(){return this.$$.ctx[122]},set:function(t){this.$$set({cropMaskOpacity:t}),Df()}},{key:"locale",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({locale:t}),Df()}}]),e}(ad)]};["i","b","u","strike"].map((function(t){return{tag:t,tagOpen:new RegExp("<"+t+">","g"),tagClose:new RegExp("</"+t+">","g"),placeholderOpen:new RegExp("___"+t+"O___","g"),placeholderClose:new RegExp("___"+t+"C___","g")}}));Kf.document;var ax='<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M18 6L6 18M6 6l12 12"></path></path></g>',ux={labelReset:"Reset",labelDefault:"Default",labelAuto:"Auto",labelNone:"None",labelEdit:"Edit",labelClose:"Close",labelSupportError:function(t){return t.join(", ")+" not supported on this browser"},labelColor:"Color",labelWidth:"Width",labelSize:"Size",labelOffset:"Offset",labelAmount:"Amount",labelInset:"Inset",labelRadius:"Radius",labelColorPalette:"Color palette",labelSizeExtraSmall:"Extra small",labelSizeSmall:"Small",labelSizeMediumSmall:"Medium small",labelSizeMedium:"Medium",labelSizeMediumLarge:"Medium large",labelSizeLarge:"Large",labelSizeExtraLarge:"Extra large",labelButtonCancel:"Cancel",labelButtonUndo:"Undo",labelButtonRedo:"Redo",labelButtonRevert:"Revert",labelButtonExport:"Done",labelZoomIn:"Zoom in",labelZoomOut:"Zoom out",labelZoomFit:"Fit to view",labelZoomActual:"Actual size",iconZoomIn:'<path stroke="currentColor" stroke-width=".125em" d="M8 12 h8 M12 8 v8" />',iconZoomOut:'<path stroke="currentColor" stroke-width=".125em" d="M9 12 h6" />',iconSupportError:'<g fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><g><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></g>',iconButtonClose:ax,iconButtonRevert:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M7.388 18.538a8 8 0 10-2.992-9.03"/><path fill="currentColor" d="M2.794 11.696L2.37 6.714l5.088 3.18z"/><path d="M12 8v4M12 12l4 2"/></g>',iconButtonUndo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M10 8h4c2.485 0 5 2 5 5s-2.515 5-5 5h-4"/><path fill="currentColor" d="M5 8l4-3v6z"/></g>',iconButtonRedo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M14 8h-4c-2.485 0-5 2-5 5s2.515 5 5 5h4"/><path fill="currentColor" d="M19 8l-4-3v6z"/></g>',iconButtonExport:'<polyline points="20 6 9 17 4 12" fill="none" stroke="currentColor" stroke-width=".125em"></polyline>',statusLabelButtonClose:"Close",statusIconButtonClose:ax,statusLabelLoadImage:function(t){return t&&t.task?t.error?"IMAGE_TOO_SMALL"===t.error.code?"Minimum image size is {minWidth} &times; {minHeight}":"Error loading image":"blob-to-bitmap"===t.task?"Preparing image&hellip;":"Loading image&hellip;":"Waiting for image"},statusLabelProcessImage:function(t){if(t&&t.task)return"store"===t.task?t.error?"Error uploading image":"Uploading image&hellip;":t.error?"Error processing image":"Processing image&hellip;"}},cx=function(t,e){var n=Object.getOwnPropertyDescriptors(t);Object.keys(n).forEach((function(r){n[r].get?Object.defineProperty(e,r,{get:function(){return t[r]},set:function(e){return t[r]=e}}):e[r]=t[r]}))},sx=function(t){var e={},n=Hc(),r=n.sub,i=n.pub;!ho()||document.doctype;var o=qd();cx(o,e);var a=function(t,e){var n={},r=new Vy({target:t,props:{stores:e,pluginComponents:Array.from(Yy)}}),i=!1,o=function t(){i||(ho()&&window.removeEventListener("pagehide",t),r&&(i=!0,r.$destroy()))};Hy||(Hy=new Set(fv(Vy).filter((function(t){return!Wy.includes(t)})))),Hy.forEach((function(t){Object.defineProperty(n,t,{get:function(){return r[t]},set:qy.includes(t)?function(e){r[t]=Object.assign({},r[t],e)}:function(e){return r[t]=e}})})),Object.defineProperty(n,"previewImageData",{get:function(){return r.imagePreviewCurrent}}),Gy.forEach((function(t){var e=Ky[t],i=e[0];Object.defineProperty(n,t,{get:function(){return r.pluginInterface[i][t]},set:function(n){var i=e.reduce((function(e,i){var o;return e[i]=Object.assign({},r.pluginOptions[i],((o={})[t]=n,o)),e}),{});r.pluginOptions=Object.assign({},r.pluginOptions,i)}})})),Object.defineProperty(n,"element",{get:function(){return r.root},set:function(){}});var a=r.history;return xd(n,{on:function(t,e){if(i)return function(){};if(/undo|redo|revert|writehistory/.test(t))return a.on(t,e);var n=[r.sub(t,e),r.$on(t,(function(t){return e(t instanceof CustomEvent&&!t.detail?void 0:t)}))].filter(Boolean);return function(){return n.forEach((function(t){return t()}))}},updateImagePreview:function(t){r.imagePreviewSrc=t},close:function(){return!i&&r.pub("close")},destroy:o}),Object.defineProperty(n,"history",{get:function(){return{undo:function(){return a.undo()},redo:function(){return a.redo()},revert:function(){return a.revert()},get:function(){return a.get()},getCollapsed:function(){return a.get().splice(0,a.index+1)},set:function(t){return a.set(t)},write:function(t){return a.write(t)},get length(){return a.length()},get index(){return a.index},set index(t){a.index=t}}}}),ho()&&window.addEventListener("pagehide",o),n}(t,o.stores);cx(a,e);var u=["loadImage","processImage","abortProcessImage","abortLoadImage"].map((function(t){return a.on(t,(function(e){var n=o[t](e&&e.detail);n instanceof Promise&&n.catch(uo)}))})),c=function(t,e){var n=r(t,e),i=o.on(t,e),u=a.on(t,e);return function(){n(),i(),u()}};e.handleEvent=uo;var s=Jy.map((function(t){return c(t,(function(n){return e.handleEvent(t,n)}))}));return xd(e,{on:c,updateImage:function(t){return new Promise((function(n,r){var i=e.history.get(),a=e.history.index,u=e.imageState;o.loadImage(t).then((function(t){e.history.set(i),e.history.index=a,e.imageState=u,n(t)})).catch(r)}))},close:function(){i("close")},destroy:function(){[].concat(u,s).forEach((function(t){return t()})),a.destroy(),o.destroy(),i("destroy")}}),setTimeout((function(){return i("init",e)}),0),e},lx=(ho()&&HTMLElement,"pintura-editor"),fx=function(t,e){void 0===e&&(e={});var n=Lo(t)?document.querySelector(t):t;if(Au(n)){e.class=e.class?lx+" "+e.class:lx;var r=sx(n);return Object.assign(r,e)}};Kf.document,Kf.window;var dx=Ch,hx=kh,px=(Ib(),Sb(),qb(),Xy),vx=ox,mx=ux,gx={cropLabel:"Crop",cropIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M23 17H9a2 2 0 0 1-2-2v-5m0-3V1 M1 7h14a2 2 0 0 1 2 2v7m0 4v3"/></g>',cropIconButtonRecenter:'<path stroke="currentColor" fill="none" stroke-width="2" stroke-linejoin="bevel" d="M1.5 7.5v-6h6M1.5 16.5v6h6M22.5 16.5v6h-6M22.5 7.5v-6h-6"/><circle cx="12" cy="12" r="3.5" fill="currentColor" stroke="none"/>',cropIconButtonRotateLeft:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><rect x="3" rx="1" height="12" width="12" y="9"/><path d="M15 5h-1a5 5 0 015 5 1 1 0 002 0 7 7 0 00-7-7h-1.374l.747-.747A1 1 0 0011.958.84L9.603 3.194a1 1 0 000 1.415l2.355 2.355a1 1 0 001.415-1.414l-.55-.55H15z"/></g>',cropIconButtonRotateRight:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M11.177 5H10a5 5 0 00-5 5 1 1 0 01-2 0 7 7 0 017-7h1.374l-.747-.747A1 1 0 0112.042.84l2.355 2.355a1 1 0 010 1.415l-2.355 2.354a1 1 0 01-1.415-1.414l.55-.55z"/><rect rx="1" height="12" width="12" y="9" x="9"/></g>',cropIconButtonFlipVertical:'<g stroke="none" fill="currentColor"><path d="M19.993 12.143H7a1 1 0 0 1-1-1V5.994a1 1 0 0 1 1.368-.93l12.993 5.15a1 1 0 0 1-.368 1.93z"/><path d="M19.993 14a1 1 0 0 1 .368 1.93L7.368 21.078A1 1 0 0 1 6 20.148V15a1 1 0 0 1 1-1h12.993z" opacity=".6"/></g>',cropIconButtonFlipHorizontal:'<g stroke="none" fill="currentColor"><path d="M11.93 7.007V20a1 1 0 0 1-1 1H5.78a1 1 0 0 1-.93-1.368l5.15-12.993a1 1 0 0 1 1.929.368z"/><path d="M14 7.007V20a1 1 0 0 0 1 1h5.149a1 1 0 0 0 .93-1.368l-5.15-12.993A1 1 0 0 0 14 7.007z" opacity=".6"/></g>',cropIconSelectPreset:function(t,e){var n=e?[e<1?1:.3,1===e?.85:.5,e>1?1:.3]:[.2,.3,.4];return'<g fill="currentColor">\n            <rect opacity="'+n[0]+'" x="2" y="4" width="10" height="18" rx="1"/>\n            <rect opacity="'+n[1]+'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="'+n[2]+'" x="6" y="12" width="17" height="10" rx="1"/>\n        </g>'},cropIconCropBoundary:function(t,e){var n=e?[.3,1,0,0]:[0,0,.3,1];return'<g fill="currentColor">\n            <rect opacity="'+n[0]+'" x="2" y="3" width="20" height="20" rx="1"/>\n            <rect opacity="'+n[1]+'" x="7" y="8" width="10" height="10" rx="1"/>\n            <rect opacity="'+n[2]+'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="'+n[3]+'" x="12" y="4" width="10" height="10" rx="1"/>\n        </g>'},cropLabelButtonRecenter:"Recenter",cropLabelButtonRotateLeft:"Rotate left",cropLabelButtonRotateRight:"Rotate right",cropLabelButtonFlipHorizontal:"Flip horizontal",cropLabelButtonFlipVertical:"Flip vertical",cropLabelSelectPreset:"Crop shape",cropLabelCropBoundary:"Crop boundary",cropLabelCropBoundaryEdge:"Edge of image",cropLabelCropBoundaryNone:"None",cropLabelTabRotation:"Rotation",cropLabelTabZoom:"Scale"},yx=fx,bx=function(t){var e=t.imageState,n=t.assetId;return F().patch("/components/asset-mod/api/edit-details/"+n,Object.assign({},e))};var wx=function(t,e){void 0===e&&(e=100);var n=(0,r.useRef)();return(0,r.useEffect)((function(){return function(){n.current&&clearTimeout(n.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=setTimeout((function(){t.apply(void 0,i)}),e);clearTimeout(n.current),n.current=a}},xx=function(t){var e=new Map;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(t){return t.map((function(t){return"object"==typeof t?t.toString():t})).join(",")}(r);if(e.has(o))return e.get(o);var a=t.apply(void 0,r);return e.set(o,a),a}},$x=function(t){var e,n,r=null==t||null==(e=t.current)||null==(n=e.editor)?void 0:n.imageSize;return null!=r},Cx=xx((function(t){return parseInt(t.toString(),10)})),_x=xx((function(t,e){return 100*(1-t/e)})),kx=xx((function(t,e){var n=1-e/100;return Math.max(1,t*n)})),Ex=xx((function(t,e,n,r){var i=1-r/100;return Math.max(1,n?e/n*i:t*i)})),Mx=function(t){return/^on[A-Z]/.test(t)},Sx=function(t){return t.substr(2).toLowerCase()},Rx=function(t,e){void 0===e&&(e=void 0),(t.unsubs||[]).filter((function(t){var n=t[0];return!e||e.includes(n)})).forEach((function(t){return(0,t[1])()}))},Ix=function(t,e){Rx(t,function(t){return Object.keys(t).filter(Mx).map(Sx)}(e)),t.unsubs=Object.keys(e).filter(Mx).map((function(n){var r=Sx(n);return[r,t.editor.on(r,e[n])]}))};function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lx(t,e)}var Ox=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).elementRef=i().createRef(),n.editor=void 0,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Lx(e,n);var o=r.prototype;return o.componentDidMount=function(){if(this.elementRef.current){var t=Object.assign({},this.props);this.editor=yx(this.elementRef.current,t),Ix(this,t)}},o.componentDidUpdate=function(){var t=Object.assign({},this.props);Object.assign(this.editor,t),Ix(this,t)},o.componentWillUnmount=function(){this.editor&&(Rx(this),this.editor.destroy(),this.editor=void 0)},o.render=function(){return i().createElement("div",{className:("PinturaRootWrapper "+(this.props.className?this.props.className:"")).trim(),ref:this.elementRef})},r}(i().Component),Px=Ox,Ax="fOHmgAkkFIeJPX0tN0gs";function Tx(){Tx=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new I(r||[]);return i(a,"_invoke",{value:E(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,$=x&&x(x(L([])));$&&$!==n&&r.call($,a)&&(w=$);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=M(u,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function jx(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}px(vx);var Bx={imageReader:dx(),imageWriter:hx(),locale:Object.assign({},mx,gx)},Dx=function(t){var e=t.onClose,n=t.onWriteHistory,o=t.imagePath,a=t.assetId,u=t.cropEditorRef,c=Bi(),s=c.imageFlipX,l=c.setZoomLevel,f=c.zoomLevel,d=c.topRotate,h=c.bottomRotate,p=c.cropRatio,v=ji().setEditDetails,m=ji().setShowImageEditor,g=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){jx(o,r,i,a,u,"next",t)}function u(t){jx(o,r,i,a,u,"throw",t)}a(void 0)}))}}(Tx().mark((function t(e){return Tx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=wx(g);return(0,r.useEffect)((function(){$x(u)&&(u.current.editor.imageCrop={x:u.current.editor.imageCrop.x,y:u.current.editor.imageCrop.y,width:kx(u.current.editor.imageSize.width,f),height:Ex(u.current.editor.imageSize.height,u.current.editor.imageSize.width,p,f)},u.current.editor.imageCropAspectRatio={cropRatio:p})}),[f,l,p]),i().createElement("div",{"data-testid":"crop-editing-area",className:Ax},i().createElement(Px,Object.assign({},Bx,{src:o,ref:u,imageFlipX:s,imageRotation:Uh(d+h),onWriteHistory:n,enableToolbar:!1,onProcess:function(t){v(t);var e=t.imageState;bx({assetId:a,imageState:e}),m(!1)},onUpdate:function(t){if($x(u)&&function(t){var e=null==t?void 0:t.crop;return null!=e}(t)){var e=_x(t.crop.width,u.current.editor.imageSize.width);Cx(e)!==f&&y(Cx(e))}},onClose:e})))},Nx=n(57561),zx="rrv43TuBF625xCWJXPl_",Fx="rmqfsPsKQXsZBGkPdxwH",Zx="BnN8BiDIuOXpXrlLV20z",Hx="FV75zTdzohIJZcLfFu7A",Vx=n(20056),Ux="yaeQ6INjqCTrlvXl0ale",Wx="nXaY8uIYF1BaWzGqO_8z",qx="MULs8_YNrHRTLgzoerSn",Gx="ttO5UvTZuFNXZJ7fBnr0",Kx="eQHFlRh8cyF0AcGP7s6R",Yx="IlJaG0l72tyRxP8zOh0c",Xx=function(t){var e=t.id,n=t.Icon,r=t.text,o=(0,ut.T)();return i().createElement(Vx.H,{className:Yx,"data-testid":e},i().createElement(n,null),i().createElement(Nx.ZT,{component:Nx.dh.SPAN,variant:Nx.O3.BODY1},o(r)))},Jx=function(t){var e=t.recommendations,n=t.id,r=(0,ut.T)();return i().createElement("div",{className:Ux,"data-testid":"hover-container"},i().createElement("div",{className:Wx}),i().createElement("div",{"data-testid":"hover-container-body",className:qx},i().createElement(Nx.ZT,{component:Nx.dh.SPAN,variant:Nx.O3.BODY1,className:Gx},r("good_for")),i().createElement(Vx.a,{className:Kx},null==e?void 0:e.map((function(t){var e=t.Icon,r=t.text,o=n+"-"+r.replace("_","-");return i().createElement(Xx,{key:o,id:o,Icon:e,text:r})})))))},Qx=function(t){var e,n=t.label,r=t.Icon,o=t.onClick,a=t.id,u=t.active,c=t.recommendedUses;return i().createElement("div",{className:zx},i().createElement("button",{"data-testid":"crop-editor-preset-"+a,className:Et()(Zx,(e={},e[Hx]=u,e)),type:"button",onClick:o,tabIndex:0,"aria-label":n},i().createElement("div",null,r&&i().createElement(r,null)),i().createElement(Nx.ZT,{component:Nx.dh.SPAN,variant:Nx.O3.BODY1},n)),(null==c?void 0:c.length)&&i().createElement("div",{className:Fx},i().createElement(Jx,{recommendations:c,id:a})))},t$=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"arrow-down-icon"},i().createElement("path",{d:"M4.88291 9.16799L6.13291 7.91799L11.7629 13.544L17.3889 7.91699L18.7389 9.16699L11.7589 16.15L4.87891 9.16799H4.88291Z",fill:"#0C0D0D"}))},e$=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"arrow-up-icon"},i().createElement("path",{d:"M11.762 7.91723L18.744 14.8992L17.389 16.1492L11.759 10.5192L6.12903 16.1412L4.87903 14.8912L11.759 7.90723L11.762 7.91723Z",fill:"#0C0D0D"}))},n$=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"green-tick-icon"},i().createElement("path",{d:"M9.31738 18.335L3 12.0146L4.27344 10.7422L9.31738 15.7891L19.1084 6L20.3818 7.27246L9.31738 18.335Z",fill:"#02A388"}))},r$=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x1-icon"},i().createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},i$=[{ratio:1,label:"1:1",Icon:r$,favorited:!0},{ratio:16/9,label:"16:9",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-16x9-icon"},i().createElement("rect",{x:"2",y:"7",width:"20",height:"11",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:1.4,label:"7:5",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-7x5-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"14.2857",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:2,label:"2:1",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-2x1-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:5/4,label:"5:4",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-5x4-icon"},i().createElement("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:4/3,label:"4:3",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-4x3-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"15",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:1.5,label:"3:2",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-3x2-icon"},i().createElement("rect",{x:"2",y:"5",width:"20",height:"13.3333",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:3,label:"3:1",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-3x1-icon"},i().createElement("rect",{x:"2",y:"9",width:"20",height:"6.66667",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1}],o$=[{ratio:1,label:"1:1",Icon:r$,favorited:!0},{ratio:9/16,label:"9:16",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-9x16-icon"},i().createElement("rect",{x:"6",y:"22",width:"20",height:"11",rx:"2",transform:"rotate(-90 6 22)",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:.8,label:"4:5",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-4x5-icon"},i().createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!0},{ratio:5/7,label:"5:7",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-5x7-icon"},i().createElement("rect",{x:"5",y:"2",width:"14.29",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:3/4,label:"3:4",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-3x4-icon"},i().createElement("rect",{x:"3",y:"2",width:"17.33",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:2/3,label:"2:3",Icon:function(){return i().createElement("svg",{width:"16",height:"22",viewBox:"0 0 16 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-2x3-icon"},i().createElement("rect",{x:"1",y:"1",width:"13.33",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:1/3,label:"1:3",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x3-icon"},i().createElement("rect",{x:"9",y:"2",width:"6.67",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1},{ratio:.5,label:"1:2",Icon:function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"shape-1x2-icon"},i().createElement("rect",{x:"6",y:"2",width:"11",height:"20",rx:"2",fill:"white",stroke:"#0C0D0D",strokeWidth:"2"}))},favorited:!1}],a$="zjUAsNzwIVfim2LCS5Is",u$="xhRJXWyBItAjrjcObwPn",c$=function(t){var e=t.activePreset,n=t.handleSelectPreset,o=(0,ut.T)(),a=(0,r.useCallback)((function(t){n(t)}),[]);return i().createElement("div",{className:a$,"data-testid":"crop-editor-more-presets-dropdown"},i().createElement(Nx.ZT,{component:Nx.dh.SPAN,variant:Nx.O3.BODY2,className:u$},o("landscape")),i$.map((function(t){return i().createElement(l$,{key:t.ratio,label:t.label,Icon:t.Icon,onClick:function(){return a(t)},id:t.ratio,active:e&&e.ratio===t.ratio})})),i().createElement(Nx.ZT,{component:Nx.dh.SPAN,variant:Nx.O3.BODY2,className:u$},o("portrait")),o$.map((function(t){return i().createElement(l$,{key:t.ratio,label:t.label,Icon:t.Icon,onClick:function(){return a(t)},id:t.ratio,active:e&&e.ratio===t.ratio})})))},s$={DropdownPreset:"qvx8oA0rzRUdCsplUc0A",button:"FarfkOVigR5FbxF_AEfm",title:"vivneg2BRrYeqOIeQQg8"},l$=function(t){var e,n=t.label,r=t.Icon,o=t.onClick,a=t.id,u=t.active;return i().createElement("div",{className:s$.DropdownPreset},i().createElement("button",{"data-testid":"crop-editor-dropdown-preset-"+a,className:Et()(s$.button,(e={},e[s$.active]=u,e)),type:"button",onClick:o,tabIndex:0,"aria-label":n},i().createElement("div",{className:s$.icon},i().createElement(r,null)),i().createElement(Nx.ZT,{component:Nx.dh.SPAN,variant:Nx.O3.BODY1,className:s$.title},n),u&&i().createElement(n$,null)))},f$="rBZ4iOgJKlavvc6XNFN2",d$="euwtp0rS6EQkLvuAmCBR",h$="IqnIj7AsgakAeWwu3f8i",p$="Jnlzxjqm8pyi3IufMrEk",v$=function(t){var e,n=t.handleSelectPreset,o=t.activePreset,a=(0,r.useState)(!1),u=a[0],c=a[1],s=(0,ut.T)(),l=vt({onOutsideClick:function(){return c(!1)},listenForClicks:u}).containerRef,f=(0,r.useCallback)((function(){c(!u)}),[u]),d=u?i().createElement(e$,null):i().createElement(t$,null),h=u?i().createElement(c$,{activePreset:o,handleSelectPreset:n}):null,p=void 0===(null==o?void 0:o.ratio),v=!(null!=o&&o.favorited||p);return i().createElement("div",{className:f$,ref:l},i().createElement("button",{type:"button",onClick:f,tabIndex:0,"aria-label":s("more_presets")},i().createElement("div",{"data-testid":"crop-editor-more-presets-button",className:Et()((e={},e[h$]=v,e))},i().createElement(Nx.ZT,{component:Nx.dh.SPAN,variant:Nx.O3.BODY2,className:d$},v?o.label:s("more")),i().createElement("div",{className:p$},d))),h)},m$="BXAo4jcfwvQaBm1vu2ZO",g$=function(t){var e=t.handleSelectPreset,n=t.activePreset;return i().createElement("div",{"data-testid":"crop-editor-presets",className:m$},Li.map((function(t){return i().createElement(Qx,{key:t.label,label:t.label,Icon:t.Icon,onClick:function(){return e(t)},id:t.ratio,active:n&&n.ratio===t.ratio,recommendedUses:t.recommendedUses})})),i().createElement(v$,{handleSelectPreset:e,activePreset:n}))},y$=function(){return i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"flip-icon"},i().createElement("path",{d:"M10.0001 3.00002V21H2.50006L10.0001 3.00002Z",stroke:"#0C0D0D",strokeWidth:"2"}),i().createElement("path",{d:"M14.9231 2.61541C14.5027 1.60642 13 1.90695 13 3.00002V21C13 21.5523 13.4477 22 14 22H21.5C22.2136 22 22.6975 21.2741 22.4231 20.6154L14.9231 2.61541Z",fill:"#0C0D0D"}))},b$=function(){return i().createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"rotate-icon"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 4.02158L1.5 7.60939e-05L0 7.60283e-05L-2.29488e-07 5.25008L0.75 6.00008L6 6.00008L6 4.50008L3 4.50008C4.00873 3.15566 5.43981 2.18904 7.06365 1.75529C8.68749 1.32155 10.41 1.44583 11.9547 2.10819C13.4995 2.77055 14.777 3.93259 15.5823 5.4079C16.3875 6.8832 16.6739 8.58623 16.3955 10.2438C16.117 11.9013 15.2899 13.4173 14.0467 14.5485C12.8036 15.6797 11.2165 16.3605 9.54009 16.4817C7.8637 16.603 6.19517 16.1576 4.8022 15.217C3.40922 14.2765 2.37255 12.8953 1.8585 11.2951L0.4275 11.7481C1.05019 13.69 2.31394 15.3629 4.01172 16.4927C5.7095 17.6225 7.74064 18.1421 9.77239 17.9666C11.8041 17.7911 13.7161 16.9307 15.1949 15.5265C16.6737 14.1222 17.6318 12.2574 17.9122 10.2374C18.1926 8.21745 17.7787 6.16215 16.7382 4.40822C15.6977 2.65428 14.0924 1.3057 12.1853 0.583411C10.2782 -0.138881 8.18229 -0.19206 6.24099 0.432585C4.29968 1.05723 2.62807 2.32266 1.5 4.02158Z",fill:"#0C0D0D"}))},w$=function(){return i().createElement("svg",{"data-testid":"reset-icon",width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{clipPath:"url(#clip0_1464_65082)"},i().createElement("path",{d:"M12.4722 14.4876C9.47725 15.5905 6.15992 14.0251 5.07563 10.9951H5.09908L7.801 9.99305L4.78258 8.16675L2.40888 6.7318L2.15099 6.57764L0 12.863L2.60815 11.9024C4.19648 16.308 9.01423 18.585 13.3748 16.9781C14.928 16.4029 16.2116 15.4127 17.1493 14.1793L14.5822 13.1298C14.002 13.7168 13.2928 14.1852 12.4722 14.4876Z",fill:"#0C0D0D"}),i().createElement("path",{d:"M7.62517 1.01586C6.072 1.5851 4.78844 2.57533 3.85068 3.80868L6.4178 4.87007C6.99804 4.28304 7.70722 3.81461 8.52776 3.5122C11.5227 2.4093 14.8342 3.9747 15.9244 7.0047H15.9009L13.199 8.00679L16.2174 9.83309L18.5911 11.268L18.849 11.4222L21 5.13096L18.3918 6.09155C16.8035 1.6859 11.9858 -0.591044 7.62517 1.01586Z",fill:"#0C0D0D"})),i().createElement("defs",null,i().createElement("clipPath",{id:"clip0_1464_65082"},i().createElement("rect",{width:"21",height:"17",fill:"white",transform:"translate(0 0.5)"}))))},x$="YiCuB9iW0p_f3WtGIKUZ",$$="jWeA9KglpOMW1zZtvViL",C$="jsyR9q4UKHwetGwcHQKv",_$="QBtZHEPkwZL6sd_R58VP",k$=function(t){var e=t.onApply,n=t.onCancel,r=t.onRotate,o=t.onFlip,a=t.onReset,u=t.showReset,c=(0,ut.T)();return i().createElement("div",{className:x$,"data-testid":"crop-editor-topBar"},i().createElement("div",{className:$$},i().createElement("button",{"data-testid":"crop-rotate",className:_$,type:"button",onClick:r},i().createElement(b$,null),c("rotate_90")),i().createElement("button",{className:_$,"data-testid":"crop-flip",type:"button",onClick:o},i().createElement(y$,null),c("flip")),u?i().createElement("button",{className:_$,"data-testid":"crop-reset",type:"button",onClick:a},i().createElement(w$,null),c("reset")):null),i().createElement("div",{className:$$},i().createElement("button",{"data-testid":"crop-cancel",className:C$,type:"button",onClick:n},c("cancel")),i().createElement(ii.zx,{"data-testid":"crop-apply",size:ii.tS.EXTRA_SMALL,variant:ii.hZ.SECONDARY,onClick:e},c("apply"))))},E$={CropSlider:"v491WkdTaYAr7Y8ESyNv"},M$=function(t){var e=t.label,n=t.start,r=t.end,o=t.handleChange,a=t.currentValue,u=t.value,c=t.dataTestId,s=t.variant,l=(0,ut.T)();return i().createElement("div",{"data-testid":c,className:E$.CropSlider},i().createElement(Nx.ZT,{component:Nx.dh.P,variant:Nx.O3.BODY1},l(e)),i().createElement(Nr,{minimum:n,maximum:r,defaultValue:0,variant:s,value:u,onChange:function(t,e){o(e)},className:E$.slider}),i().createElement(Nx.ZT,{"data-testid":"rotate-slider-value",component:Nx.dh.P,variant:Nx.O3.BODY1},a))},S$="_8SeqemuROD2F64a5_Hp",R$="B8DJseWGTOBvQFsBZ8xJ",I$="gGxOYJ0hfNAmgjYpMxAa",L$="_21pBhZ5bkjKoSSoAmJvu",O$=function(t){var e=t.handleRotateChange,n=t.handleZoomChange,r=t.rotate,o=t.zoom;return i().createElement("div",{"data-testid":"crop-bottom-bar",className:S$},i().createElement("div",{className:R$},i().createElement("div",{"data-testid":"crop-bottom-bar-left",className:I$},i().createElement(M$,{label:"rotate",start:-45,end:45,handleChange:e,currentValue:r+"°",value:r,variant:Tr.CENTER,dataTestId:"rotate-slider"})),i().createElement("div",{"data-testid":"crop-bottom-bar-right",className:L$},i().createElement(M$,{label:"zoom",start:0,end:100,handleChange:n,currentValue:o+"%",value:o,variant:Tr.CONTINUOUS,dataTestId:"zoom-slider"}))))},P$="P8E41AIhljSDVnpcnvMr",A$=function(t){var e=t.imagePath,n=t.assetId,o=(0,r.useRef)(null),a=ji().setShowImageEditor,u=Bi(),c=u.imageFlipX,s=u.topRotate,l=u.bottomRotate,f=u.setBottomRotate,d=u.setImageFlipX,h=u.setTopRotate,p=u.zoomLevel,v=u.setZoomLevel,m=u.showReset,g=u.setShowReset,y=u.activePreset,b=u.setActivePresetAndRatio,w=function(){return a(!1)};return i().createElement("div",{"data-testid":"image-editing-container",className:P$},i().createElement(k$,{onApply:function(){null!==o.current&&o.current.editor.processImage()},onCancel:w,onRotate:function(){h(s-90),g(!0)},onFlip:function(){d(!c),g(!0)},showReset:m,onReset:function(){null!==o.current&&(o.current.editor.history.revert(),f(0),v(0),b(Ii),h(0),d(!1),g(!1))}}),i().createElement(g$,{handleSelectPreset:function(t){g(!0),b(t)},activePreset:y}),i().createElement(Dx,{onClose:w,onWriteHistory:function(){g(!0)},imagePath:e,cropEditorRef:o,assetId:n}),i().createElement(O$,{handleRotateChange:function(t){f(t),g(!0)},handleZoomChange:function(t){v(t),g(!0)},rotate:l,zoom:p}))},T$="wklM5zI7aeryo_B3JCJT",j$=function(t){var e=t.imagePath,n=t.assetId;return i().createElement("div",{"data-testid":"crop-editor",className:T$},i().createElement(Ti,null,i().createElement(A$,{imagePath:e,assetId:n})))},B$=function(t){return Promise.all([F().post("/modifications/feedback",{feedback:t}),F().post("/components/asset-mod/api/feedback",{feedback:t})])},D$="Inb7TKRt9k7YLXov8ZU1",N$=function(t){var e=t.handleClose;return i().createElement("button",{className:D$,type:"button",onClick:e,"data-testid":"close-button"},i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 98"},i().createElement("g",null,i().createElement("polygon",{points:"78.2 23.3 75 20.1 48.7 46.4 22.5 20.1 19.2 23.3 45.5 49.6 18.3 76.8 21.5 80.1 48.7 52.8 76 80.1 79.2 76.8 52 49.6 78.2 23.3",stroke:"#353838",strokeWidth:"1.25949"}))))},z$="rmWCjx74JfgAJpWENmEQ",F$=function(t){var e=t.comments,n=t.handleComment,r=t.text;return i().createElement("div",{className:z$,"data-testid":"comments"},i().createElement("label",{htmlFor:"comments"},r),i().createElement("textarea",{"data-testid":"comments-textarea",id:"comments",name:"comments",value:e,onChange:n}))},Z$={confirmationContainer:"_G6R5MwJZJV0O8vHrYrE",right:"_161hZLIPzFhJq0lcffo","bottom-left":"UWzTtMtFEJjayzFTzdrh"},H$=function(t){var e=t.text,n=t.setShowConfirmation,o=t.placement,a=void 0===o?"right":o;return(0,r.useEffect)((function(){var t=setTimeout((function(){n(!1)}),3e3);return function(){return clearTimeout(t)}}),[]),i().createElement("div",{className:Et()(Z$.confirmationContainer,Z$[a]),"data-testid":"confirmation"},i().createElement(lC,null),i().createElement("p",null,e),i().createElement(N$,{handleClose:function(){n(!1)}}))},V$=n(99919),U$=function(){var t=(0,V$.NW)(),e=(0,ut.T)();return i().createElement(bn.Z,null,e("view_privacy_policy_and_terms_of_use",{links:[{href:t.cleanPath("/legal/privacy-policy"),target:"_blank"},{href:t.cleanPath("/legal/terms-of-use"),target:"_blank"}]}))},W$={contactContainer:"iZwufFmyi6vRissLLw4l"},q$=function(t){var e=t.handleCheckbox,n=t.canBeEmailedText;return i().createElement("div",{className:W$.contactContainer,"data-testid":"contact"},i().createElement("input",{type:"checkbox",id:"contact","data-testid":"contact-checkbox",name:"contact",onClick:e}),i().createElement("label",{htmlFor:"contact",className:W$.contactLabel},n),i().createElement("p",null,i().createElement(U$,null)))},G$="f_NJcwHjAxV_tvJN32r7",K$="gDVju8ZkqaXupSWWbzxS",Y$=function(t){var e=t.comments,n=t.handleComment,r=t.handleReasonSelection,o=t.text,a=o.elementsNotRemoved,u=o.elementsWereErased,c=o.featureNotEasyToUse,s=o.itTookTooLong,l=o.other,f=o.selectReasonForRating;return i().createElement("fieldset",{className:G$},i().createElement("legend",null,f),i().createElement("input",{type:"checkbox",name:"rating-detail",id:"elementNotRemoved",value:"Elements were not properly removed",onChange:r}),i().createElement("label",{htmlFor:"elementNotRemoved"},a),i().createElement("input",{type:"checkbox",name:"rating-detail",id:"elementErased",value:"Essential elements were erased",onChange:r}),i().createElement("label",{htmlFor:"elementErased"},u),i().createElement("input",{id:"featureNotEasyToUse",name:"rating-detail",type:"checkbox",value:"Feature isn't easy to use",onChange:r}),i().createElement("label",{htmlFor:"featureNotEasyToUse"},c),i().createElement("input",{type:"checkbox",name:"rating-detail",id:"itTookTooLong",value:"It took longer than expected",onChange:r}),i().createElement("label",{htmlFor:"itTookTooLong"},s),i().createElement("label",{className:K$,htmlFor:"other"},l),i().createElement("textarea",{id:"other",name:"rating-detail",placeholder:l,value:e,onChange:n}))},X$="uYHdc7ZNx9gPMRDCfTMv",J$="l84fFHNpstWDxbim7KIn",Q$=function(t){var e=t.activeIcon,n=t.handleRating,r=t.Icon,o=t.id,a=t.text,u=t.value,c=e===o;return i().createElement("li",{key:a,className:J$},i().createElement("input",{type:"radio",id:o,"data-testid":"list-item",name:"rating",value:u,onClick:n}),i().createElement("label",{htmlFor:o},i().createElement(r,{active:c}),i().createElement("span",null,a)))},tC=function(t){var e=t.activeIcon,n=t.handleRating,r=t.iconText,o=r.veryPoor,a=r.poor,u=r.fair,c=r.good,s=r.great;return i().createElement("div",{className:X$,"data-testid":"rating-list"},i().createElement("ul",null,i().createElement(Q$,{activeIcon:e,handleRating:n,Icon:oC,id:"very-poor",text:o,value:"1"}),i().createElement(Q$,{activeIcon:e,handleRating:n,Icon:aC,id:"poor",text:a,value:"2"}),i().createElement(Q$,{activeIcon:e,handleRating:n,Icon:uC,id:"fair",text:u,value:"3"}),i().createElement(Q$,{activeIcon:e,handleRating:n,Icon:cC,id:"good",text:c,value:"4"}),i().createElement(Q$,{activeIcon:e,handleRating:n,Icon:sC,id:"great",text:s,value:"5"})))},eC="U3b53vGfbsDm5NuUUPbg",nC="nRJd13MqByY9qqAw0J92",rC="Sj0FtIO6UyKZuXq443Gu",iC="kPBPKy29Y_j4TZCRvDwH",oC=function(t){var e=t.active;return i().createElement("svg",{className:e?eC:rC,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.4587 11.1573 13.6959 12.0262 13.5324L9.99072 12.3572C9.51243 12.0811 9.34855 11.4695 9.6247 10.9912C9.90084 10.5129 10.5124 10.349 10.9907 10.6252L13.8724 12.2889C14.3506 12.565 14.5145 13.1766 14.2384 13.6549C14.1203 13.8594 13.9409 14.0064 13.7368 14.0862C14.0549 14.4222 14.25 14.8758 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 15.0175 24.1001 14.6833 24.2738 14.399C24.01 14.3402 23.7708 14.1753 23.6251 13.9229C23.349 13.4446 23.5128 12.833 23.9911 12.5568L26.8728 10.8931C27.3511 10.617 27.9626 10.7809 28.2388 11.2592C28.5149 11.7375 28.3511 12.349 27.8728 12.6252L26.2811 13.5441C27.1214 13.7297 27.75 14.4789 27.75 15.375ZM14.0625 23.8619C15.6021 22.9754 17.3476 22.5088 19.1242 22.5088C20.9008 22.5088 22.6463 22.9754 24.1859 23.8619C25.7255 24.7485 27.0053 26.0238 27.8972 27.5603C28.2091 28.0977 28.0263 28.7861 27.489 29.0981C26.9516 29.41 26.2632 29.2272 25.9512 28.6898C25.2572 27.4941 24.2613 26.5017 23.0632 25.8118C21.8651 25.1219 20.5068 24.7588 19.1242 24.7588C17.7417 24.7588 16.3834 25.1219 15.1853 25.8118C13.9871 26.5017 12.9912 27.4941 12.2972 28.6898C11.9853 29.2272 11.2968 29.41 10.7595 29.0981C10.2221 28.7861 10.0393 28.0977 10.3512 27.5603C11.2431 26.0238 12.5229 24.7485 14.0625 23.8619Z",fill:"#ADB9BA"}))},aC=function(t){var e=t.active;return i().createElement("svg",{className:e?eC:rC,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM19.1244 22.5088C17.3478 22.5088 15.6024 22.9754 14.0628 23.862C12.5231 24.7485 11.2433 26.0238 10.3515 27.5604C10.0396 28.0977 10.2223 28.7862 10.7597 29.0981C11.2971 29.41 11.9855 29.2272 12.2974 28.6899C12.9915 27.4942 13.9874 26.5017 15.1855 25.8118C16.3836 25.1219 17.7419 24.7588 19.1244 24.7588C20.507 24.7588 21.8653 25.1219 23.0634 25.8118C24.2615 26.5017 25.2574 27.4942 25.9515 28.6899C26.2634 29.2272 26.9518 29.41 27.4892 29.0981C28.0266 28.7862 28.2093 28.0977 27.8974 27.5604C27.0056 26.0238 25.7258 24.7485 24.1861 23.862C22.6465 22.9754 20.9011 22.5088 19.1244 22.5088ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",fill:"#ADB9BA"}))},uC=function(t){var e=t.active;return i().createElement("svg",{className:e?nC:iC,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM10.5 25.125C10.5 24.5037 11.0037 24 11.625 24H26.625C27.2463 24 27.75 24.5037 27.75 25.125C27.75 25.7463 27.2463 26.25 26.625 26.25H11.625C11.0037 26.25 10.5 25.7463 10.5 25.125ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",fill:"#ADB9BA"}))},cC=function(t){var e=t.active;return i().createElement("svg",{className:e?nC:iC,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM12.375 17.25C13.4105 17.25 14.25 16.4105 14.25 15.375C14.25 14.3395 13.4105 13.5 12.375 13.5C11.3395 13.5 10.5 14.3395 10.5 15.375C10.5 16.4105 11.3395 17.25 12.375 17.25ZM25.875 17.25C26.9105 17.25 27.75 16.4105 27.75 15.375C27.75 14.3395 26.9105 13.5 25.875 13.5C24.8395 13.5 24 14.3395 24 15.375C24 16.4105 24.8395 17.25 25.875 17.25ZM12.2977 23.0602C11.9858 22.5229 11.2973 22.3401 10.76 22.652C10.2226 22.9639 10.0398 23.6524 10.3517 24.1898C11.2436 25.7263 12.5234 27.0016 14.063 27.8882C15.6026 28.7747 17.3481 29.2413 19.1247 29.2413C20.9013 29.2413 22.6468 28.7747 24.1864 27.8882C25.726 27.0016 27.0058 25.7263 27.8977 24.1898C28.2096 23.6524 28.0268 22.9639 27.4895 22.652C26.9521 22.3401 26.2636 22.5229 25.9517 23.0602C25.2577 24.256 24.2618 25.2484 23.0637 25.9383C21.8655 26.6282 20.5072 26.9913 19.1247 26.9913C17.7422 26.9913 16.3839 26.6282 15.1858 25.9383C13.9876 25.2484 12.9917 24.256 12.2977 23.0602Z",fill:"#ADB9BA"}))},sC=function(t){var e=t.active;return i().createElement("svg",{className:e?nC:iC,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.125 20C3.125 10.6802 10.6802 3.125 20 3.125C29.3198 3.125 36.875 10.6802 36.875 20C36.875 29.3198 29.3198 36.875 20 36.875C10.6802 36.875 3.125 29.3198 3.125 20ZM20 0.875C9.43755 0.875 0.875 9.43755 0.875 20C0.875 30.5624 9.43755 39.125 20 39.125C30.5624 39.125 39.125 30.5624 39.125 20C39.125 9.43755 30.5624 0.875 20 0.875ZM12 23.875C11.619 23.875 11.2639 24.0679 11.0564 24.3874C10.8489 24.707 10.8173 25.1099 10.9724 25.4579C11.8527 27.4334 13.1319 29.1098 14.7093 30.2928C16.2908 31.4789 18.1159 32.125 20 32.125C21.8841 32.125 23.7092 31.4789 25.2907 30.2928C26.8681 29.1098 28.1473 27.4334 29.0276 25.4579C29.1827 25.1099 29.1511 24.707 28.9436 24.3874C28.7361 24.0679 28.381 23.875 28 23.875H12ZM16.0593 28.4928C15.2444 27.8817 14.5066 27.0819 13.8844 26.125H26.1156C25.4934 27.0819 24.7556 27.8817 23.9407 28.4928C22.7143 29.4126 21.356 29.875 20 29.875C18.644 29.875 17.2857 29.4126 16.0593 28.4928ZM14 16.125C12.9645 16.125 12.125 16.9645 12.125 18C12.125 18.6213 11.6213 19.125 11 19.125C10.3787 19.125 9.875 18.6213 9.875 18C9.875 15.7218 11.7218 13.875 14 13.875C16.2782 13.875 18.125 15.7218 18.125 18C18.125 18.6213 17.6213 19.125 17 19.125C16.3787 19.125 15.875 18.6213 15.875 18C15.875 16.9645 15.0355 16.125 14 16.125ZM24.125 18C24.125 16.9645 24.9645 16.125 26 16.125C27.0355 16.125 27.875 16.9645 27.875 18C27.875 18.6213 28.3787 19.125 29 19.125C29.6213 19.125 30.125 18.6213 30.125 18C30.125 15.7218 28.2782 13.875 26 13.875C23.7218 13.875 21.875 15.7218 21.875 18C21.875 18.6213 22.3787 19.125 23 19.125C23.6213 19.125 24.125 18.6213 24.125 18Z",fill:"#ADB9BA"}))},lC=function(){return i().createElement("svg",{"data-testid":"confirmation-icon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{clipPath:"url(#clip0_839_18929)"},i().createElement("path",{d:"M20.4983 32.9422L11.7803 24.2201L13.5376 22.4641L20.4983 29.4288L34.0099 15.9199L35.7672 17.6759L20.4983 32.9422Z",fill:"#02A388"}),i().createElement("path",{d:"M46.9999 23.9999C46.9999 36.7024 36.7024 46.9999 23.9999 46.9999C11.2974 46.9999 0.999902 36.7024 0.999902 23.9999C0.999902 11.2974 11.2974 0.999902 23.9999 0.999902C36.7024 0.999902 46.9999 11.2974 46.9999 23.9999Z",stroke:"#02A388",strokeWidth:"1.2"})),i().createElement("defs",null,i().createElement("clipPath",{id:"clip0_839_18929"},i().createElement("rect",{width:"48",height:"48",fill:"white"}))))},fC={container:"ddezKH91fQgGYdc1vWcx",right:"miyqu64Ij5NYZ_W45cKA","bottom-left":"CygO7WDuW4UlOGY2NHII",textContainer:"rZFWCb1IMCtDqR15I2QS",heading:"KlV3PFZ9jPur9At_wvcu",body:"Gt53r0DR01UQdiUkbOxe",submitButton:"Sk8YxUpT3m5YWEzYd0Ca",modalEnter:"M7SheMOA6juy8krtrjTg",confirmationEnter:"eEDeAGQuhuwpeGGyP7IA",modalEnterActive:"Xv4Fkvex1TMi2xw9WxpJ",confirmationEnterActive:"_kmz5ggzWCStOeZ2Eg5O",modalExit:"PsXJHrq7pb99DIGtiyEP",confirmationExit:"M0kgvxeZo6yrL6LFfxgs",modalExitActive:"FHgamu1Gd2H3gGu5dsDP",confirmationExitActive:"b2ISOV2cwCiY8psZe9kg"};function dC(){dC=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new I(r||[]);return i(a,"_invoke",{value:E(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,$=x&&x(x(L([])));$&&$!==n&&r.call($,a)&&(w=$);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=M(u,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function hC(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var pC=["very-poor","poor","fair"],vC=function(t){var e=t.headerText,n=t.visualId,o=t.placement,a=void 0===o?"right":o,u=t.subHeaderText,c=t.assetId,s=(0,ut.T)(),l=nt(),f=l.activeModifications,d=l.setActiveModifications,h=l.enhancedObjectRemoval,p=rt(),v=p.backgroundRemoved,m=p.backgroundBlurred,g=p.backgroundBlurredScale,y=tt().removedObjects,b=ot(),w=b.showFeedbackModal,x=b.toggleFeedbackModal,$=b.toggleFeedbackBanner,C=(0,r.useState)(null),_=C[0],k=C[1],E=(0,r.useState)(!1),M=E[0],S=E[1],R=(0,r.useState)(""),I=R[0],L=R[1],O=(0,r.useState)(!1),P=O[0],A=O[1],T=(0,r.useState)(null),j=T[0],B=T[1],D=(0,r.useState)(null),N=D[0],z=D[1],F=(null==N?void 0:N.size)>0,Z={veryPoor:s("very_poor"),poor:s("poor"),fair:s("fair"),good:s("good"),great:s("great")},H={elementsNotRemoved:s("elements_were_not_removed"),elementsWereErased:s("elements_were_erased"),featureNotEasyToUse:s("feature_is_not_easy_to_use"),itTookTooLong:s("it_took_longer_than_expected"),other:s(F?"additional_comments":"other_please_specify"),selectReasonForRating:s("select_the_reason_for_your_rating")},V=function(t){var e=pC.includes(t.target.id),n=!e&&N;e&&!N&&z(new Set),n&&z(null),k(t.target.id),B(t.target.value),function(t){var e={1:"ADP_modal_remove_background_feedback_very_poor_1",2:"ADP_modal_remove_background_feedback_poor_2",3:"ADP_modal_remove_background_feedback_fair_3",4:"ADP_modal_remove_background_feedback_good_4",5:"ADP_modal_remove_background_feedback_great_5"}[t]||"ADP_modal_remove_background_feedback_error";(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:e,ui_element_location:"adp_modal"}})}(t.target.value)},U=function(t){L(t.target.value)},W=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){hC(o,r,i,a,u,"next",t)}function u(t){hC(o,r,i,a,u,"throw",t)}a(void 0)}))}}(dC().mark((function t(e){var r;return dC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r={visualId:n,assetId:c,assetUrl:window.location.href,canContact:M,comments:I,rating:j,reasons:Array.from(null!=N?N:[]),modificationTypes:f,modificationState:{backgroundRemoved:v,backgroundBlurred:m,backgroundBlurredScale:g,objectsRemoved:y.size>0,objectIds:Array.from(y,(function(t){return""+t.id}))},enhancedObjectRemoval:h},t.prev=2,t.next=5,B$(r);case 5:t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2);case 12:$(),x(),A(!P),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Modal_Remove_Background_Feedback_Submit",ui_element_location:"adp_modal"}});case 16:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){w&&(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Shown",adp_selection:"ADP_remove_background_feedback",ui_element_location:"adp_modal"}})}),[w]),(0,r.useEffect)((function(){var t=[];v&&t.push("BackgroundRemoved"),m&&t.push("BackgroundBlurred"),y.size>0&&t.push("ObjectsRemoved"),d(t)}),[v,y,m]),i().createElement(i().Fragment,null,i().createElement(Gn.CSSTransition,{in:P,unmountOnExit:!0,timeout:300,classNames:{enter:fC.confirmationEnter,enterActive:fC.confirmationEnterActive,exit:fC.confirmationExit,exitActive:fC.confirmationExitActive}},i().createElement(H$,{text:s("thanks_for_providing_feedback"),setShowConfirmation:A,placement:a})),i().createElement(Gn.CSSTransition,{in:w,unmountOnExit:!0,timeout:300,classNames:{enter:fC.modalEnter,enterActive:fC.modalEnterActive,exit:fC.modalExit,exitActive:fC.modalExitActive}},i().createElement("div",{role:"dialog",className:Et()(fC.container,fC[a]),"data-testid":"feedback-modal"},i().createElement("div",{className:fC.textContainer},i().createElement("p",{"data-testid":"header-text",className:fC.heading},e),i().createElement("p",{"data-testid":"sub-header-text",className:fC.body},u||"")),i().createElement(N$,{handleClose:function(){x(),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Dismiss",adp_selection:"ADP_remove_background_feedback",ui_element_location:"adp_modal"}})}}),_?i().createElement("form",{onSubmit:W,"data-testid":"feedback-form"},i().createElement(tC,{activeIcon:_,handleRating:V,iconText:Z}),N?i().createElement(Y$,{comments:I,handleComment:U,handleReasonSelection:function(t){var e=t.currentTarget;e.checked?N.add(e.value):N.delete(e.value),z(new Set(N))},text:H}):i().createElement(F$,{comments:I,handleComment:U,text:s("additional_comments")}),i().createElement(q$,{handleCheckbox:function(){S(!M)},canBeEmailedText:s("i_can_be_emailed_for_more_details")}),i().createElement("input",{type:"submit","data-testid":"submit-button",className:fC.submitButton,value:s("submit")})):i().createElement(tC,{activeIcon:_,handleRating:V,iconText:Z}))))},mC=function(t){var e=t.className;return i().createElement("svg",{className:e,viewBox:"0 0 101 43",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"iStock-logo"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.55196 26.191H0.741194V8.29849H5.55196V26.191ZM10.1701 19.2921C11.6524 20.9137 13.9095 22.1326 16.2784 22.1326C18.4999 22.1326 20.0553 20.7661 20.0553 18.8855C20.0553 15.567 15.2437 15.1608 11.7631 13.1331C9.72738 11.9512 8.09587 10.181 8.09587 7.26465C8.09587 2.6549 12.3569 0 16.6499 0C19.2775 0 21.7214 0.627589 24.1663 2.43484L21.5751 6.1225C20.5356 5.16359 18.7964 4.42808 17.0926 4.42808C15.2071 4.42808 13.0953 5.23694 13.0953 7.22871C13.0953 11.3983 25.0547 10.1051 25.0547 18.8131C25.0547 23.385 20.9428 26.5573 16.2784 26.5573C12.7988 26.5573 9.57816 25.1217 6.91193 22.684L10.1701 19.2921ZM40.0047 26.191C39.3761 26.4106 37.9295 26.5573 37.0055 26.5573C34.1169 26.5573 32.0089 25.5984 30.7846 23.9757C29.8597 22.7588 29.4515 21.1746 29.4515 18.627V12.3564H24.4541V8.29849H29.4515V3.31853H34.2651V8.29849H40.1895V12.3564H34.2651V19.1785C34.2651 20.2894 34.449 20.9502 34.8581 21.4316C35.3364 21.9858 36.1142 22.3158 37.299 22.3158C38.0036 22.3158 38.9315 22.2083 39.2645 22.1326L40.0047 26.191ZM50.6781 7.92975C56.1184 7.92975 60.2294 12.0989 60.2294 17.2634C60.2294 22.427 56.1184 26.5573 50.6781 26.5573C45.237 26.5573 41.125 22.427 41.125 17.2634C41.125 12.0989 45.237 7.92975 50.6781 7.92975ZM50.6781 22.1326C53.4916 22.1326 55.4148 19.9558 55.4148 17.2634C55.4148 14.5697 53.4916 12.3564 50.6781 12.3564C47.8628 12.3564 45.9396 14.5697 45.9396 17.2634C45.9396 19.9558 47.8628 22.1326 50.6781 22.1326ZM79.2355 22.5382C77.1227 25.3423 74.4556 26.5573 71.0886 26.5573C65.5358 26.5573 61.4614 22.427 61.4614 17.2634C61.4614 12.0624 65.6455 7.92975 71.1261 7.92975C74.2361 7.92975 77.012 9.37013 78.6781 11.5076L75.2718 14.4953C74.3112 13.2419 72.8683 12.3564 71.1261 12.3564C68.3492 12.3564 66.2759 14.5347 66.2759 17.2634C66.2759 20.0669 68.3136 22.1326 71.2388 22.1326C73.1994 22.1326 74.7539 20.9502 75.5317 19.7716L79.2355 22.5382ZM90.0601 16.3404L99.9471 26.191H93.4664L85.875 18.4415V26.191H81.0642V0.368736H85.875V14.0921L92.0574 8.29849H98.8364L90.0601 16.3404ZM0 3.13539C0 1.40297 1.41014 0 3.14751 0C4.88587 0 6.29404 1.40297 6.29404 3.13539C6.29404 4.86487 4.88587 6.27068 3.14751 6.27068C1.41014 6.27068 0 4.86487 0 3.13539Z",fill:"white"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.911077 39.1897H1.8804V32.492H0.897461V31.4613H3.00452V34.4467C3.66629 33.7443 4.43225 33.4107 5.3774 33.4107C7.3855 33.4107 8.82142 34.9385 8.82142 36.8933C8.82142 38.8682 7.3556 40.3867 5.33931 40.3867C4.43225 40.3867 3.72579 40.0678 3.02495 39.3572V40.2407H0.911077V39.1897ZM5.3177 34.4941C4.0729 34.4941 3.00452 35.5194 3.00452 36.9298C3.00452 38.2522 4.0729 39.2991 5.30142 39.2991C6.55422 39.2991 7.61993 38.3009 7.61993 36.8689C7.61993 35.483 6.55422 34.4941 5.3177 34.4941ZM10.2789 41.3403H11.3216L11.8436 40.0409L9.68496 34.6184H8.80504V33.57H11.7785V34.6184H10.8606L12.4226 38.5791L13.9954 34.6184H13.0815V33.57H16.0428V34.6184H15.175L12.4971 41.3403H13.4246V42.386H10.2789V41.3403ZM23.0176 35.8422H28.3706V40.2407H27.4188V38.8548C26.4507 39.9057 25.3456 40.4136 24.0141 40.4136C21.3728 40.4136 19.499 38.3576 19.499 35.7909C19.499 33.4188 21.4108 31.2844 24.1293 31.2844C25.145 31.2844 25.9544 31.5667 26.8114 32.2003V31.4613H27.7754V33.816H26.6853C25.9274 32.9406 25.1015 32.5163 24.0602 32.5163C22.1769 32.5163 20.7871 34.0388 20.7871 35.83C20.7871 37.755 22.2258 39.2006 24.044 39.2006C25.4121 39.2006 26.6392 38.3009 27.0472 36.9012H23.0176V35.8422ZM36.1752 38.128C35.6057 39.5842 34.3772 40.3974 32.9048 40.3974C30.9454 40.3974 29.4093 38.8548 29.4093 36.9134C29.4093 34.9304 31.0323 33.3917 32.8682 33.3917C34.8248 33.3917 36.3867 34.9128 36.3867 36.9636C36.3867 37.0634 36.3867 37.1878 36.3637 37.3471H30.635C30.8208 38.5346 31.7685 39.3126 32.8898 39.3126C33.736 39.3126 34.4518 38.9048 34.8613 38.128H36.1752ZM35.1488 36.3989C34.8478 35.1627 34.0044 34.4589 32.9048 34.4589C31.7901 34.4589 30.8547 35.2127 30.635 36.3989H35.1488ZM37.7738 34.6021H36.7419V33.57H37.7738V31.4613H38.8991V33.57H39.8903V34.6021H38.8991V39.1897H39.8903V40.2407H37.7738V34.6021ZM41.5255 34.6021H40.4992V33.57H41.5255V31.4613H42.655V33.57H43.6408V34.6021H42.655V39.1897H43.6408V40.2407H41.5255V34.6021ZM45.783 41.3403H46.8257L47.3491 40.0409L45.1878 34.6184H44.3106V33.57H47.284V34.6184H46.3647L47.9254 38.5791L49.5063 34.6184H48.5857V33.57H51.5538V34.6184H50.682L48 41.3403H48.9356V42.386H45.783V41.3403ZM54.9449 39.1777H55.9239V32.5163H54.9449V31.4613H58.1557V32.5163H57.1482V39.1777H58.1557V40.2407H54.9449V39.1777ZM59.0952 39.1897H60.0485V34.6021H59.1048V33.57H61.163V34.5184C61.5752 33.7998 62.1554 33.4606 62.9867 33.4606C63.9657 33.4606 64.6802 33.9268 65.0882 34.7886C65.6089 33.8781 66.2462 33.4485 67.1492 33.4485C68.7995 33.4485 69.5546 34.644 69.5546 36.2961V39.1897H70.5213V40.2407H67.4693V39.1897H68.4252V36.234C68.4252 35.11 67.9045 34.5076 66.9785 34.5076C65.9113 34.5076 65.3405 35.2965 65.3405 36.8689V39.1897H66.3113V40.2407H63.2823V39.1897H64.2477V36.9769C64.2477 35.4114 64.0741 34.5076 62.7616 34.5076C61.746 34.5076 61.163 35.2965 61.163 36.8689V39.1897H62.1324V40.2407H59.0952V39.1897ZM76.6649 39.3572C75.9599 40.0678 75.2494 40.3867 74.3572 40.3867C72.3261 40.3867 70.8752 38.8682 70.8752 36.8933C70.8752 34.9385 72.2746 33.4188 74.3111 33.4188C75.2643 33.4188 76.0278 33.7295 76.6934 34.4467V33.57H78.7584V34.6021H77.808V39.1777H78.7694V40.2407H76.6649V39.3572ZM74.3734 34.4941C73.1342 34.4941 72.0657 35.483 72.0657 36.8689C72.0657 38.3009 73.1342 39.2991 74.3802 39.2991C75.606 39.2991 76.6745 38.2604 76.6745 36.9298C76.6745 35.5194 75.606 34.4941 74.3734 34.4941ZM81.0214 40.6325C81.2587 41.3403 81.8892 41.7186 82.8329 41.7186C84.0261 41.7186 85.0282 40.8649 85.0769 39.6342L85.0877 39.2991C84.4193 40.0409 83.6858 40.3731 82.7611 40.3731C80.7775 40.3731 79.3157 38.879 79.3157 36.8933C79.3157 34.9776 80.7286 33.4107 82.7231 33.4107C83.6858 33.4107 84.4572 33.7551 85.1027 34.5076V33.57H87.1718V34.6184H86.2187V39.1437C86.2187 41.4349 84.8899 42.6966 82.8329 42.6966C81.2072 42.6966 80.1456 42.005 79.713 40.6325H81.0214ZM85.1027 36.9406C85.1027 35.5343 84.0478 34.4941 82.8072 34.4941C81.572 34.4941 80.505 35.4937 80.505 36.8797C80.505 38.3251 81.5815 39.3126 82.8072 39.3126C84.0356 39.3126 85.1027 38.2604 85.1027 36.9406ZM94.3595 38.128C93.7885 39.5842 92.5642 40.3974 91.0864 40.3974C89.1284 40.3974 87.5867 38.8548 87.5867 36.9134C87.5867 34.9304 89.2151 33.3917 91.051 33.3917C93.0089 33.3917 94.5723 34.9128 94.5723 36.9636C94.5723 37.0634 94.5723 37.1878 94.5478 37.3471H88.8151C89.0063 38.5346 89.9486 39.3126 91.0741 39.3126C91.9201 39.3126 92.6361 38.9048 93.0428 38.128H94.3595ZM93.3304 36.3989C93.0348 35.1627 92.1901 34.4589 91.0864 34.4589C89.9717 34.4589 89.0402 35.2127 88.8151 36.3989H93.3304ZM95.2611 38.1388H96.3797C96.3797 38.7818 96.9355 39.4275 97.7668 39.4275C98.4705 39.4275 98.8853 39.0519 98.8853 38.4076C98.8853 37.6957 98.3484 37.4336 97.1716 37.1971C95.6734 36.8933 95.3505 36.1151 95.3505 35.3073C95.3505 34.1969 96.1397 33.3823 97.4061 33.3823C97.9553 33.3823 98.3851 33.57 98.7458 33.9618V33.5566H99.6746V35.3343H98.6427C98.4867 34.6806 98.1139 34.386 97.4807 34.386C96.8624 34.386 96.5139 34.6913 96.5139 35.2127C96.5139 35.9516 97.1201 36.0908 98.1627 36.3569C99.4643 36.7068 100.069 37.2498 100.069 38.3361C100.069 39.5842 99.1986 40.4136 97.8143 40.4136C97.181 40.4136 96.7011 40.2152 96.278 39.7543V40.2489H95.2611V38.1388Z",fill:"white"}))},gC="HRpvBqVKJR1BAsbVzfL5",yC="IhqssBKnfArY4Bv7crI8",bC="twu17MeCD33mU0TzLtdS",wC=function(t){var e=t.children;return i().createElement("div",{className:gC},i().createElement("div",{className:yC},i().createElement(mC,{className:bC})),e)},xC=n(18050),$C="cUJjRXH2vE8oAwPCFhcA",CC=function(t){var e=t.text;return i().createElement("div",{role:"dialog",className:$C},i().createElement("span",null,e))},_C="pBj6fJTIwKuMTO9iF2QV",kC="TO05xUi8o_6RweNcrgF_",EC="gRxydHWlGNEJYZNTTslF",MC="OYNqWcBciaXa_5R6t4_5",SC=function(){var t=it(),e=t.clearNotification,n=t.showNotification,o=t.setShowNotification,a=ct();return(0,r.useEffect)((function(){var t;return n&&(t=setTimeout((function(){o(!1)}),3e3)),function(){clearTimeout(t)}}),[n]),e?null:i().createElement(Gn.CSSTransition,{in:n,mountOnEnter:!0,unmountOnExit:!0,timeout:300,classNames:{enter:_C,enterActive:kC,exit:EC,exitActive:MC}},i().createElement(CC,{text:a}))},RC=function(){return i().createElement("svg",{"data-testid":"open-in-new-window-icon",width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{clipPath:"url(#a)",fill:"#02A388"},i().createElement("path",{d:"M10.873 12.183a.363.363 0 0 1-.37.364H1.845a.363.363 0 0 1-.369-.364v-8.57c0-.203.163-.363.369-.363h5.134V1.796H1.844C.826 1.796 0 2.61 0 3.613v8.57c0 1.003.826 1.818 1.844 1.818h8.66c1.018 0 1.844-.815 1.844-1.818V7.08h-1.476v5.103Z"}),i().createElement("path",{d:"M7.856 0v1.454h3.629L6.32 6.542 7.37 7.567l5.156-5.088v3.583H14V0H7.856Z"})),i().createElement("defs",null,i().createElement("clipPath",{id:"a"},i().createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"}))))},IC="kl1DHIKZwMaQSXUGgE32",LC="TyitRyatJaTWY2t4nEvk",OC="XXNyzMgSJQX8o4UPN3dI",PC="FvZjSpg9GGLJrSL5aoEg",AC="lwRTaRHwjk1bANzAF9EK",TC="lvrceWGU1XqaevDYpfaw",jC=function(t){var e=t.asset,n=(0,V$.NW)(),o=(0,ut.T)(),a=ot().toggleFeedbackModal,u=tt(),c=u.modifyObjects,s=u.selectedObjects,l=u.removedObjects,f=rt(),d=f.backgroundRemoved,h=f.backgroundBlurred,p=nt().closeModal,v=it().clearModificationErrors,m=(0,r.useContext)(Ct),g=m.setShowEditor,y=m.setEditorSrc,b=s.size>0,w=(0,k._P)("AIModificationsLandingPage"),x=it().setClearNotification;return i().createElement("div",{className:IC},i().createElement("div",null,i().createElement("button",{"data-testid":"give-feedback-button",className:TC,type:"button",onClick:a},o("give_feedback")),w.isActive()&&i().createElement("button",{className:TC,type:"button",onClick:function(){var t=window.open(n.aiModificationsFAQAnchor(),"_blank","noopener,noreferrer");t&&(t.opener=null),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_FAQ_link",ui_element_location:"image_adp_modal"}})}},o("faqs"),i().createElement(RC,null))),i().createElement("div",{className:OC},b&&i().createElement(ii.zx,{size:ii.tS.LARGE,onClick:function(){v(),c(),x(!0),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_apply_changes",ui_element_location:"image_adp_ai_modal"}})},className:LC},o("apply_changes")),i().createElement(xC.u,{content:i().createElement(i().Fragment,null,i().createElement(le,null),o("unapplied_changes")),className:Et()(PC,b&&AC),"data-testid":"unapplied-changes-tooltip"},i().createElement(ii.zx,{"data-testid":"proceed-to-download-button",variant:ii.hZ.SECONDARY,size:ii.tS.LARGE,onClick:function(){var t=document.getElementById("modified-image");t.src!==e.largeMainImageURL?(y(Ye(t)),g(!0),p(d,h,l)):(g(!1),p(!1,!1,new Set)),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_Proceed_to_Download_Button",ui_element_location:"image_adp_ai_modal"}})}},o("proceed_to_download")))),i().createElement(SC,null))},BC="OhK75fSawLcUUIhwbtWv";function DC(){DC=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new I(r||[]);return i(a,"_invoke",{value:E(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,$=x&&x(x(L([])));$&&$!==n&&r.call($,a)&&(w=$);var C=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var c=M(u,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var s=f(e,n,r);if("normal"===s.type){if(i=r.done?v:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function NC(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var zC=function(t){var e=t.visualId,n=t.assetId,o=t.modificationSessionId,a=(0,ut.T)(),u=nt().closeModal,c=at(),s=(0,r.useState)(!1),l=s[0],f=s[1],d=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){NC(o,r,i,a,u,"next",t)}function u(t){NC(o,r,i,a,u,"throw",t)}a(void 0)}))}}(DC().mark((function t(){return DC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,W({visualId:e,assetId:n,modificationSessionId:o});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:u(),(0,Y.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Ai_modal_Discard_Changes",ui_element_location:"image_adp_modal"}});case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),h=c?a("discard_changes"):"",p=l?a("closing_with_dots"):h;return i().createElement("button",{"data-testid":"close-modal-button",className:BC,onClick:d,type:"button"},p,i().createElement(oe,null))},FC="kO1Uyv0kx0dLqTY8ad8L",ZC="NvD5dvWBsOEKA237MiV7",HC="td5GPOQFDtw2iNQG3vuJ",VC="ciUhcgsXzBrxLArZpwnu",UC=function(t){var e=t.asset,n=t.visualId,r=t.availableModifications,o=nt(),a=o.showModal,u=o.modalIsClosing,c=o.initialModificationType,s=o.showOpenAnimation,l=o.modificationSessionId,f=(0,ut.T)(),d=!n;return a&&i().createElement(j,null,i().createElement(N,null,i().createElement(_,{initialModificationType:c},i().createElement("div",{className:Et()(FC,u&&HC,s.current&&ZC),"data-testid":"modifications-modal"},i().createElement("div",{className:VC},i().createElement(vC,{headerText:f("object_removal_feedback_header"),placement:"bottom-left",visualId:n,assetId:e.assetId}),i().createElement(wC,null,i().createElement(zC,{visualId:n,assetId:e.assetId,modificationSessionId:l.current})),d?i().createElement(YC,null):i().createElement($i,{asset:e,visualId:n,availableModifications:r}),i().createElement(bi,null)),i().createElement(jC,{asset:e})))))},WC="PrKmPTKMm8V9Mbf20NrA",qC=function(t){var e=t.children,n=t.className;return i().createElement(yn.u,{className:Et()(WC,n),placement:"top"},e)},GC=n.p+"static/loading_ring-f90e4bf496d078088dce.png",KC="kAZ52UtVfhPTXqVd5MNz",YC=function(){return i().createElement("img",{className:KC,src:GC,alt:"loading spinner"})},XC=(0,n(17129).Qg)((function(t){var e=t.event_name;return{event:"banner_interaction",event_name:e,banner_interaction:e,banner_name:t.banner_name,banner_type:t.banner_type,ui_element_location:t.ui_element_location,link_text:t.link_text,item_id:t.item_id,coupon:t.coupon}})),JC="onNmjVQKkNjNW7F5kR2z",QC=function(t){var e=t.text,n=t.buttonText,o=t.toggleModal;(0,r.useEffect)((function(){!function(){if(window&&window.innerWidth>640){var t=XC({event_name:"view_banner",banner_name:"remove_background_feedback",banner_type:"notification",ui_element_location:"image_adp_tools_panel_top",link_text:"give_us_your_feedback"});(0,Y.j)({name:"bannerShown",payload:{banner_name:"ADP_remove_background_feedback_banner",ui_element_location:"image_adp_tools_panel_top"}},t)}}()}),[]);return i().createElement("div",{className:JC,"data-testid":"feedback-banner"},i().createElement("p",null,e),i().createElement("button",{type:"button","data-testid":"feedback-button",onClick:function(){var t;t=XC({event_name:"banner_cta_click",banner_name:"remove_background_feedback",banner_type:"notification",ui_element_location:"image_adp_tools_panel_top",link_text:"give_us_your_feedback"}),(0,Y.j)({name:"bannerCtaClick",payload:{banner_name:"ADP_remove_background_feedback_banner",ui_element_location:"image_adp_tools_panel_top"}},t),o()}},n))},t_=n(58590),e_=function(){return(0,r.useContext)(t_.Z).tV2};function n_(...t){return t.reduce(((t,e)=>null==e?t:function(...n){t.apply(this,n),e.apply(this,n)}),(()=>{}))}var r_=n(78385);function i_(t){return(0,lr.Z)(t).defaultView||window}function o_(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function a_(t){return parseInt(i_(t).getComputedStyle(t).paddingRight,10)||0}function u_(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,(t=>{const e=-1===o.indexOf(t),n=!function(t){const e=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName),n="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||n}(t);e&&n&&o_(t,i)}))}function c_(t,e){let n=-1;return t.some(((t,r)=>!!e(t)&&(n=r,!0))),n}function s_(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(function(t){const e=(0,lr.Z)(t);return e.body===t?i_(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(r)){const t=function(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}((0,lr.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${a_(r)+t}px`;const e=(0,lr.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(e,(e=>{n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${a_(e)+t}px`}))}let t;if(r.parentNode instanceof DocumentFragment)t=(0,lr.Z)(r).body;else{const e=r.parentElement,n=i_(r);t="HTML"===(null==e?void 0:e.nodeName)&&"scroll"===n.getComputedStyle(e).overflowY?e:r}n.push({value:t.style.overflow,property:"overflow",el:t},{value:t.style.overflowX,property:"overflow-x",el:t},{value:t.style.overflowY,property:"overflow-y",el:t}),t.style.overflow="hidden"}return()=>{n.forEach((({value:t,el:e,property:n})=>{t?e.style.setProperty(n,t):e.style.removeProperty(n)}))}}const l_=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function f_(t){const e=[],n=[];return Array.from(t.querySelectorAll(l_)).forEach(((t,r)=>{const i=function(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1!==i&&function(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type)return!1;if(!t.name)return!1;const e=e=>t.ownerDocument.querySelector(`input[type="radio"]${e}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}(t))}(t)&&(0===i?e.push(t):n.push({documentOrder:r,tabIndex:i,node:t}))})),n.sort(((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex)).map((t=>t.node)).concat(e)}function d_(){return!0}var h_=function(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:a=f_,isEnabled:u=d_,open:c}=t,s=r.useRef(!1),l=r.useRef(null),f=r.useRef(null),d=r.useRef(null),h=r.useRef(null),p=r.useRef(!1),v=r.useRef(null),m=(0,hr.Z)(e.ref,v),g=r.useRef(null);r.useEffect((()=>{c&&v.current&&(p.current=!n)}),[n,c]),r.useEffect((()=>{if(!c||!v.current)return;const t=(0,lr.Z)(v.current);return v.current.contains(t.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),p.current&&v.current.focus()),()=>{o||(d.current&&d.current.focus&&(s.current=!0,d.current.focus()),d.current=null)}}),[c]),r.useEffect((()=>{if(!c||!v.current)return;const t=(0,lr.Z)(v.current),e=e=>{const{current:n}=v;if(null!==n)if(t.hasFocus()&&!i&&u()&&!s.current){if(!n.contains(t.activeElement)){if(e&&h.current!==e.target||t.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!p.current)return;let i=[];if(t.activeElement!==l.current&&t.activeElement!==f.current||(i=a(v.current)),i.length>0){var r,o;const t=Boolean((null==(r=g.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=g.current)?void 0:o.key)),e=i[0],n=i[i.length-1];"string"!=typeof e&&"string"!=typeof n&&(t?n.focus():e.focus())}else n.focus()}}else s.current=!1},n=e=>{g.current=e,!i&&u()&&"Tab"===e.key&&t.activeElement===v.current&&e.shiftKey&&(s.current=!0,f.current&&f.current.focus())};t.addEventListener("focusin",e),t.addEventListener("keydown",n,!0);const r=setInterval((()=>{t.activeElement&&"BODY"===t.activeElement.tagName&&e(null)}),50);return()=>{clearInterval(r),t.removeEventListener("focusin",e),t.removeEventListener("keydown",n,!0)}}),[n,i,o,u,c,a]);const y=t=>{null===d.current&&(d.current=t.relatedTarget),p.current=!0};return(0,tr.jsxs)(r.Fragment,{children:[(0,tr.jsx)("div",{tabIndex:c?0:-1,onFocus:y,ref:l,"data-testid":"sentinelStart"}),r.cloneElement(e,{ref:m,onFocus:t=>{null===d.current&&(d.current=t.relatedTarget),p.current=!0,h.current=t.target;const n=e.props.onFocus;n&&n(t)}}),(0,tr.jsx)("div",{tabIndex:c?0:-1,onFocus:y,ref:f,"data-testid":"sentinelEnd"})]})};function p_(t){return(0,cr.Z)("MuiModal",t)}(0,ur.Z)("MuiModal",["root","hidden","backdrop"]);const v_=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];const m_=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&o_(t.modalRef,!1);const r=function(t){const e=[];return[].forEach.call(t.children,(t=>{"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);u_(e,t.mount,t.modalRef,r,!0);const i=c_(this.containers,(t=>t.container===e));return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:r}),n)}mount(t,e){const n=c_(this.containers,(e=>-1!==e.modals.indexOf(t))),r=this.containers[n];r.restore||(r.restore=s_(r,e))}remove(t,e=!0){const n=this.modals.indexOf(t);if(-1===n)return n;const r=c_(this.containers,(e=>-1!==e.modals.indexOf(t))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),t.modalRef&&o_(t.modalRef,e),u_(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const t=i.modals[i.modals.length-1];t.modalRef&&o_(t.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}},g_=r.forwardRef((function(t,e){var n,i;const{children:o,closeAfterTransition:a=!1,component:u,container:c,disableAutoFocus:s=!1,disableEnforceFocus:l=!1,disableEscapeKeyDown:f=!1,disablePortal:d=!1,disableRestoreFocus:h=!1,disableScrollLock:p=!1,hideBackdrop:v=!1,keepMounted:m=!1,manager:g=m_,onBackdropClick:y,onClose:b,onKeyDown:w,open:x,onTransitionEnter:$,onTransitionExited:C,slotProps:_={},slots:k={}}=t,E=(0,rr.Z)(t,v_),[M,S]=r.useState(!x),R=r.useRef({}),I=r.useRef(null),L=r.useRef(null),O=(0,hr.Z)(L,e),P=function(t){return!!t&&t.props.hasOwnProperty("in")}(o),A=null==(n=t["aria-hidden"])||n,T=()=>(R.current.modalRef=L.current,R.current.mountNode=I.current,R.current),j=()=>{g.mount(T(),{disableScrollLock:p}),L.current&&(L.current.scrollTop=0)},B=vr((()=>{const t=function(t){return"function"==typeof t?t():t}(c)||(0,lr.Z)(I.current).body;g.add(T(),t),L.current&&j()})),D=r.useCallback((()=>g.isTopModal(T())),[g]),N=vr((t=>{I.current=t,t&&L.current&&(x&&D()?j():o_(L.current,A))})),z=r.useCallback((()=>{g.remove(T(),A)}),[g,A]);r.useEffect((()=>()=>{z()}),[z]),r.useEffect((()=>{x?B():P&&a||z()}),[x,z,P,a,B]);const F=(0,nr.Z)({},t,{closeAfterTransition:a,disableAutoFocus:s,disableEnforceFocus:l,disableEscapeKeyDown:f,disablePortal:d,disableRestoreFocus:h,disableScrollLock:p,exited:M,hideBackdrop:v,keepMounted:m}),Z=(t=>{const{open:e,exited:n}=t,r={root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]};return(0,ar.Z)(r,(0,Lr.T)(p_))})(F),H=()=>{S(!1),$&&$()},V=()=>{S(!0),C&&C(),a&&z()},U={};void 0===o.props.tabIndex&&(U.tabIndex="-1"),P&&(U.onEnter=n_(H,o.props.onEnter),U.onExited=n_(V,o.props.onExited));const W=null!=(i=null!=u?u:k.root)?i:"div",q=(0,Ir.Z)({elementType:W,externalSlotProps:_.root,externalForwardedProps:E,additionalProps:{ref:O,role:"presentation",onKeyDown:t=>{w&&w(t),"Escape"===t.key&&D()&&(f||(t.stopPropagation(),b&&b(t,"escapeKeyDown")))}},className:Z.root,ownerState:F}),G=k.backdrop,K=(0,Ir.Z)({elementType:G,externalSlotProps:_.backdrop,additionalProps:{"aria-hidden":!0,onClick:t=>{t.target===t.currentTarget&&(y&&y(t),b&&b(t,"backdropClick"))},open:x},className:Z.backdrop,ownerState:F});return m||x||P&&!M?(0,tr.jsx)(r_.Z,{ref:N,container:c,disablePortal:d,children:(0,tr.jsxs)(W,(0,nr.Z)({},q,{children:[!v&&G?(0,tr.jsx)(G,(0,nr.Z)({},K)):null,(0,tr.jsx)(h_,{disableEnforceFocus:l,disableAutoFocus:s,disableRestoreFocus:h,isEnabled:D,open:x,children:r.cloneElement(o,U)})]}))}):null}));var y_=g_,b_=n(3891),w_=["open","className","size"];var x_=(0,r.forwardRef)((function(t,e){var n,r=t.open,i=t.className,o=t.size,a=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,w_),u=(0,b_.jK)(a),c=(0,er.F)("modal"),s=Et()(((n={})[c.ModalBackdrop]=r,n),i);return o===B_.FULL_SCREEN?null:(0,tr.jsx)("div",Object.assign({},u,{className:s,ref:e}))}));x_.displayName="ModalBackdrop";var $_=x_,C_=["className","children","size"];var __=(0,r.forwardRef)((function(t,e){var n=t.className,r=t.children,i=t.size,o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,C_),a=(0,b_.jK)(o),u=(0,er.F)("modal"),c=Et()(u.ModalRoot,u[i],n);return(0,tr.jsx)("div",Object.assign({},a,{ref:e,className:c,children:r}))}));__.displayName="ModalRoot";var k_=__,E_=n(17326),M_=n(91740),S_=["handleClose","heading","headingProps","className"];var R_="modal-header-heading",I_=(0,r.forwardRef)((function(t,e){var n=t.handleClose,r=t.heading,i=t.headingProps,o=void 0===i?{}:i,a=t.className,u=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,S_),c=(0,er.F)("modal"),s=Et()(c.ModalHeader,a);return(0,tr.jsxs)("div",Object.assign({},u,{className:s,ref:e,children:[(0,tr.jsx)(M_.h,{onClick:n,ariaLabel:"Close modal",className:c.closeButton,children:(0,tr.jsx)(E_.Tw,{className:c.closeIcon})}),r&&(0,tr.jsx)(Nx.ZT,Object.assign({id:R_,className:c.modalHeading,component:Nx.dh.H2,variant:Nx.O3.H2},o,{children:r}))]}))}));I_.displayName="ModalHeader";var L_,O_=I_,P_=["children","padding","className","size"];!function(t){t.TOP="TOP",t.BOTTOM="BOTTOM",t.TOP_AND_BOTTOM="TOP_AND_BOTTOM"}(L_||(L_={}));var A_=(0,r.forwardRef)((function(t,e){var n,r=t.children,i=t.padding,o=t.className,a=t.size,u=void 0===a?B_.MEDIUM:a,c=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,P_),s=(0,er.F)("modal"),l=((n={})[L_.TOP]=s.topPadding,n[L_.BOTTOM]=s.bottomPadding,n[L_.TOP_AND_BOTTOM]=s.topAndBottomPadding,n),f=i?l[i]:"",d=Et()(s.ModalBody,u,f,o);return(0,tr.jsx)("div",Object.assign({},c,{className:d,ref:e,children:r}))}));A_.displayName="ModalBody";var T_=["className","primaryButtonProps","secondaryButtonProps"];var j_=(0,r.forwardRef)((function(t,e){var n=t.className,r=t.primaryButtonProps,i=t.secondaryButtonProps,o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,T_),a=(0,er.F)("modal"),u=Et()(a.ModalFooter,n),c=Et()(a.secondaryButton,null==i?void 0:i.className);return(0,tr.jsxs)("div",Object.assign({},o,{className:u,ref:e,children:[(0,tr.jsx)(ii.zx,Object.assign({variant:ii.hZ.SECONDARY,size:ii.tS.LARGE},r,{children:r.children})),(null==i?void 0:i.children)&&(0,tr.jsx)(ii.zx,Object.assign({variant:ii.hZ.TERTIARY,size:ii.tS.LARGE,className:c},i,{children:i.children}))]}))}));j_.displayName="ModalFooter";var B_,D_=j_,N_=["children","RootComponent","rootProps","BackdropComponent","backdropProps","className","modalLabelledById","modalDescribedById","size"];!function(t){t.MEDIUM="medium",t.FULL_SCREEN="fullScreen"}(B_||(B_={}));var z_=(0,r.forwardRef)((function(t,e){var n=t.children,i=t.RootComponent,o=t.rootProps,a=t.BackdropComponent,u=t.backdropProps,c=t.className,s=t.modalLabelledById,l=void 0===s?R_:s,f=t.modalDescribedById,d=t.size,h=void 0===d?B_.MEDIUM:d,p=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,N_),v=(0,er.F)("modal"),m=Et()(v.Modal,c),g=(0,r.useMemo)((function(){return null!=(t=a)?t:$_;var t}),[a]),y=(0,r.useMemo)((function(){return null!=(t=i)?t:k_;var t}),[i]),b=Object.assign({},u,{size:h});return(0,tr.jsx)(y_,Object.assign({},p,{slots:{backdrop:g},slotProps:{backdrop:b},className:m,"aria-labelledby":l,"aria-describedby":f,ref:e,children:(0,tr.jsx)(y,Object.assign({},o,{size:h,children:n}))}))}));z_.displayName="Modal";var F_=z_,Z_="SNvmHazSwHEfkfLlKrt1",H_="pOIq60P0mIM6HBUe5H8T",V_="uB2t6b1DymGJSkkFMISH",U_="wvHtmDcVuxfAL2yDjTrQ",W_=function(t){var e=t.open,n=t.onClose,r=t.visualId,o=t.assetId,a=e_(),u=lt().setShowEditor,c=nt().resetInitialModifications;return i().createElement(F_,{open:e,onClose:n,rootProps:{className:Z_}},i().createElement(O_,{heading:a("want_to_reset_image"),handleClose:n,headingProps:{className:H_}}),i().createElement(Nx.ZT,{component:Nx.dh.P,variant:Nx.O3.BODY1,className:V_},a("lose_changes_return_to_original")),i().createElement(D_,{className:U_,primaryButtonProps:{children:a("yes_reset"),onClick:function(){V({assetId:o,visualId:r}),c(),u(!1),n()}},secondaryButtonProps:{children:a("cancel"),onClick:n}}))},q_="QWEqQfdvCWz6CmS01gsX",G_=function(t){var e=t.visualId,n=t.assetId,o=e_(),a=(0,r.useState)(!1),u=a[0],c=a[1];return i().createElement("div",{className:q_},i().createElement(de,{fill:"#FFFFFF"}),o("altered_image_reset",{links:[{onClick:function(){return c(!0)}}]}),i().createElement(W_,{open:u,onClose:function(){return c(!1)},visualId:e,assetId:n}))},K_="DgjY0z4k53S2SYtQbSv5",Y_="G6gssRB3qArDMAdpw6Nz",X_=["just_a_moment_ai_working","did_you_know_1_download","tip_continue_modifying_after_licensed"],J_=function(){var t=(0,ut.T)(),e=(0,r.useState)(0),n=e[0],o=e[1],a=X_[n];return i().createElement("div",{className:K_,"data-testid":"loading-animation"},i().createElement(ee,null),i().createElement("span",{"data-testid":"animation-text",className:Y_,onAnimationIteration:function(){o((n+1)%X_.length)}},t(a)))},Q_="IfYAvzz8n00zwFWGCFI5",tk="rXXMNdboK5SOHpTjfyOq",ek=[{name:"add_text",editorTab:"text"},{name:"apply_filter",editorTab:"filters"},{name:"upload_graphic",editorTab:"graphic"}],nk=function(t){var e=t.assetId,n=(0,ut.T)(),r=(0,V$.NW)();return i().createElement("div",{className:Q_,"data-testid":"edit-options"},ek.map((function(t){return i().createElement("a",{className:tk,key:t.editorTab,href:r.editImagePath(e)+"?tab="+t.editorTab,target:"_blank",rel:"noreferrer"},n(t.name))})))},rk="QeCRodvhYiYlmkaAOLzt",ik="rrVn9derqFj0KtPxWb0N",ok=function(t){var e=t.assetId,n=(0,r.useState)(!1),o=n[0],a=n[1],u=vt({onOutsideClick:function(){return a(!1)},listenForClicks:o}).containerRef;return i().createElement("div",{className:rk,ref:u},i().createElement("button",{className:ik,onClick:function(){return a(!o)},type:"button"},i().createElement(pe,null)),o&&i().createElement(nk,{assetId:e}))}},86010:function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}e.Z=function(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}},43393:function(t){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:q(t)}function r(t){return u(t)?t:G(t)}function i(t){return c(t)?t:K(t)}function o(t){return a(t)&&!s(t)?t:Y(t)}function a(t){return!(!t||!t[f])}function u(t){return!(!t||!t[d])}function c(t){return!(!t||!t[h])}function s(t){return u(t)||c(t)}function l(t){return!(!t||!t[p])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=u,n.isIndexed=c,n.isAssociative=s,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",v="delete",m=5,g=1<<m,y=g-1,b={},w={value:!1},x={value:!1};function $(t){return t.value=!1,t}function C(t){t&&(t.value=!0)}function _(){}function k(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function E(t){return void 0===t.size&&(t.size=t.__iterate(S)),t.size}function M(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?E(t)+e:e}function S(){return!0}function R(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function I(t,e){return O(t,e,0)}function L(t,e){return O(t,e,e)}function O(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var P=0,A=1,T=2,j="function"==typeof Symbol&&Symbol.iterator,B="@@iterator",D=j||B;function N(t){this.next=t}function z(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function F(){return{value:void 0,done:!0}}function Z(t){return!!U(t)}function H(t){return t&&"function"==typeof t.next}function V(t){var e=U(t);return e&&e.call(t)}function U(t){var e=t&&(j&&t[j]||t[B]);if("function"==typeof e)return e}function W(t){return t&&"number"==typeof t.length}function q(t){return null==t?at():a(t)?t.toSeq():st(t)}function G(t){return null==t?at().toKeyedSeq():a(t)?u(t)?t.toSeq():t.fromEntrySeq():ut(t)}function K(t){return null==t?at():a(t)?u(t)?t.entrySeq():t.toIndexedSeq():ct(t)}function Y(t){return(null==t?at():a(t)?u(t)?t.entrySeq():t:ct(t)).toSetSeq()}N.prototype.toString=function(){return"[Iterator]"},N.KEYS=P,N.VALUES=A,N.ENTRIES=T,N.prototype.inspect=N.prototype.toSource=function(){return this.toString()},N.prototype[D]=function(){return this},e(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(t,e){return ft(this,t,e,!0)},q.prototype.__iterator=function(t,e){return dt(this,t,e,!0)},e(G,q),G.prototype.toKeyedSeq=function(){return this},e(K,q),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(t,e){return ft(this,t,e,!1)},K.prototype.__iterator=function(t,e){return dt(this,t,e,!1)},e(Y,q),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},q.isSeq=ot,q.Keyed=G,q.Set=Y,q.Indexed=K;var X,J,Q,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function nt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function it(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[tt])}function at(){return X||(X=new et([]))}function ut(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():H(t)?new it(t).fromEntrySeq():Z(t)?new rt(t).fromEntrySeq():"object"==typeof t?new nt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ct(t){var e=lt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function st(t){var e=lt(t)||"object"==typeof t&&new nt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function lt(t){return W(t)?new et(t):H(t)?new it(t):Z(t)?new rt(t):void 0}function ft(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var u=i[n?o-a:a];if(!1===e(u[1],r?u[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function dt(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new N((function(){var t=i[n?o-a:a];return a++>o?F():z(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function ht(t,e){return e?pt(e,t,"",{"":t}):vt(t)}function pt(t,e,n,r){return Array.isArray(e)?t.call(r,n,K(e).map((function(n,r){return pt(t,n,r,e)}))):mt(e)?t.call(r,n,G(e).map((function(n,r){return pt(t,n,r,e)}))):e}function vt(t){return Array.isArray(t)?K(t).map(vt).toList():mt(t)?G(t).map(vt).toMap():t}function mt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function gt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function yt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||c(t)!==c(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!s(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&gt(i[1],t)&&(n||gt(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,d=e.__iterate((function(e,r){if(n?!t.has(e):i?!gt(e,t.get(r,b)):!gt(t.get(r,b),e))return f=!1,!1}));return f&&t.size===d}function bt(t,e){if(!(this instanceof bt))return new bt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(J)return J;J=this}}function wt(t,e){if(!t)throw new Error(e)}function xt(t,e,n){if(!(this instanceof xt))return new xt(t,e,n);if(wt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function $t(){throw TypeError("Abstract")}function Ct(){}function _t(){}function kt(){}q.prototype[tt]=!0,e(et,K),et.prototype.get=function(t,e){return this.has(t)?this._array[M(this,t)]:e},et.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},et.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new N((function(){return i>r?F():z(t,i,n[e?r-i++:i++])}))},e(nt,G),nt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},nt.prototype.has=function(t){return this._object.hasOwnProperty(t)},nt.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},nt.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new N((function(){var a=r[e?i-o:o];return o++>i?F():z(t,a,n[a])}))},nt.prototype[p]=!0,e(rt,K),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=V(this._iterable),r=0;if(H(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=V(this._iterable);if(!H(n))return new N(F);var r=0;return new N((function(){var e=n.next();return e.done?e:z(t,r++,e.value)}))},e(it,K),it.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},it.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new N((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return z(t,i,r[i++])}))},e(bt,K),bt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},bt.prototype.get=function(t,e){return this.has(t)?this._value:e},bt.prototype.includes=function(t){return gt(this._value,t)},bt.prototype.slice=function(t,e){var n=this.size;return R(t,e,n)?this:new bt(this._value,L(e,n)-I(t,n))},bt.prototype.reverse=function(){return this},bt.prototype.indexOf=function(t){return gt(this._value,t)?0:-1},bt.prototype.lastIndexOf=function(t){return gt(this._value,t)?this.size:-1},bt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},bt.prototype.__iterator=function(t,e){var n=this,r=0;return new N((function(){return r<n.size?z(t,r++,n._value):F()}))},bt.prototype.equals=function(t){return t instanceof bt?gt(this._value,t._value):yt(t)},e(xt,K),xt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},xt.prototype.get=function(t,e){return this.has(t)?this._start+M(this,t)*this._step:e},xt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},xt.prototype.slice=function(t,e){return R(t,e,this.size)?this:(t=I(t,this.size),(e=L(e,this.size))<=t?new xt(0,0):new xt(this.get(t,this._end),this.get(e,this._end),this._step))},xt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},xt.prototype.lastIndexOf=function(t){return this.indexOf(t)},xt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},xt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new N((function(){var a=i;return i+=e?-r:r,o>n?F():z(t,o++,a)}))},xt.prototype.equals=function(t){return t instanceof xt?this._start===t._start&&this._end===t._end&&this._step===t._step:yt(this,t)},e($t,n),e(Ct,$t),e(_t,$t),e(kt,$t),$t.Keyed=Ct,$t.Indexed=_t,$t.Set=kt;var Et="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Mt(t){return t>>>1&1073741824|3221225471&t}function St(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return Mt(n)}if("string"===e)return t.length>Nt?Rt(t):It(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return Lt(t);if("function"==typeof t.toString)return It(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Rt(t){var e=Zt[t];return void 0===e&&(e=It(t),Ft===zt&&(Ft=0,Zt={}),Ft++,Zt[t]=e),e}function It(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Mt(e)}function Lt(t){var e;if(jt&&void 0!==(e=Tt.get(t)))return e;if(void 0!==(e=t[Dt]))return e;if(!Pt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Dt]))return e;if(void 0!==(e=At(t)))return e}if(e=++Bt,1073741824&Bt&&(Bt=0),jt)Tt.set(t,e);else{if(void 0!==Ot&&!1===Ot(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Pt)Object.defineProperty(t,Dt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Dt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Dt]=e}}return e}var Ot=Object.isExtensible,Pt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function At(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Tt,jt="function"==typeof WeakMap;jt&&(Tt=new WeakMap);var Bt=0,Dt="__immutablehash__";"function"==typeof Symbol&&(Dt=Symbol(Dt));var Nt=16,zt=255,Ft=0,Zt={};function Ht(t){wt(t!==1/0,"Cannot perform this action with an infinite size.")}function Vt(t){return null==t?ie():Ut(t)&&!l(t)?t:ie().withMutations((function(e){var n=r(t);Ht(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Ut(t){return!(!t||!t[qt])}e(Vt,Ct),Vt.of=function(){var e=t.call(arguments,0);return ie().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},Vt.prototype.toString=function(){return this.__toString("Map {","}")},Vt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Vt.prototype.set=function(t,e){return oe(this,t,e)},Vt.prototype.setIn=function(t,e){return this.updateIn(t,b,(function(){return e}))},Vt.prototype.remove=function(t){return oe(this,t,b)},Vt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return b}))},Vt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Vt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=me(this,$n(t),e,n);return r===b?void 0:r},Vt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ie()},Vt.prototype.merge=function(){return de(this,void 0,arguments)},Vt.prototype.mergeWith=function(e){return de(this,e,t.call(arguments,1))},Vt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Vt.prototype.mergeDeep=function(){return de(this,he,arguments)},Vt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return de(this,pe(e),n)},Vt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Vt.prototype.sort=function(t){return Ze(fn(this,t))},Vt.prototype.sortBy=function(t,e){return Ze(fn(this,e,t))},Vt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Vt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new _)},Vt.prototype.asImmutable=function(){return this.__ensureOwner()},Vt.prototype.wasAltered=function(){return this.__altered},Vt.prototype.__iterator=function(t,e){return new te(this,t,e)},Vt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Vt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?re(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Vt.isMap=Ut;var Wt,qt="@@__IMMUTABLE_MAP__@@",Gt=Vt.prototype;function Kt(t,e){this.ownerID=t,this.entries=e}function Yt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Xt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Jt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Qt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function te(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&ne(t._root)}function ee(t,e){return z(t,e[0],e[1])}function ne(t,e){return{node:t,index:0,__prev:e}}function re(t,e,n,r){var i=Object.create(Gt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function ie(){return Wt||(Wt=re(0))}function oe(t,e,n){var r,i;if(t._root){var o=$(w),a=$(x);if(r=ae(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===b?-1:1:0)}else{if(n===b)return t;i=1,r=new Kt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?re(i,r):ie()}function ae(t,e,n,r,i,o,a,u){return t?t.update(e,n,r,i,o,a,u):o===b?t:(C(u),C(a),new Qt(e,r,[i,o]))}function ue(t){return t.constructor===Qt||t.constructor===Jt}function ce(t,e,n,r,i){if(t.keyHash===r)return new Jt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&y,u=(0===n?r:r>>>n)&y;return new Yt(e,1<<a|1<<u,a===u?[ce(t,e,n+m,r,i)]:(o=new Qt(e,r,i),a<u?[t,o]:[o,t]))}function se(t,e,n,r){t||(t=new _);for(var i=new Qt(t,St(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function le(t,e,n,r){for(var i=0,o=0,a=new Array(n),u=0,c=1,s=e.length;u<s;u++,c<<=1){var l=e[u];void 0!==l&&u!==r&&(i|=c,a[o++]=l)}return new Yt(t,i,a)}function fe(t,e,n,r,i){for(var o=0,a=new Array(g),u=0;0!==n;u++,n>>>=1)a[u]=1&n?e[o++]:void 0;return a[r]=i,new Xt(t,o+1,a)}function de(t,e,n){for(var i=[],o=0;o<n.length;o++){var u=n[o],c=r(u);a(u)||(c=c.map((function(t){return ht(t)}))),i.push(c)}return ve(t,e,i)}function he(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):gt(t,e)?t:e}function pe(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return gt(e,i)?e:i}}function ve(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,b,(function(t){return t===b?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function me(t,e,n,r){var i=t===b,o=e.next();if(o.done){var a=i?n:t,u=r(a);return u===a?t:u}wt(i||t&&t.set,"invalid keyPath");var c=o.value,s=i?b:t.get(c,b),l=me(s,e,n,r);return l===s?t:l===b?t.remove(c):(i?ie():t).set(c,l)}function ge(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ye(t,e,n,r){var i=r?t:k(t);return i[e]=n,i}function be(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,u=0;u<i;u++)u===e?(o[u]=n,a=-1):o[u]=t[u+a];return o}function we(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}Gt[qt]=!0,Gt[v]=Gt.remove,Gt.removeIn=Gt.deleteIn,Kt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(gt(n,i[o][0]))return i[o][1];return r},Kt.prototype.update=function(t,e,n,r,i,o,a){for(var u=i===b,c=this.entries,s=0,l=c.length;s<l&&!gt(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===i:u)return this;if(C(a),(u||!f)&&C(o),!u||1!==c.length){if(!f&&!u&&c.length>=xe)return se(t,c,r,i);var d=t&&t===this.ownerID,h=d?c:k(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Kt(t,h)}},Yt.prototype.get=function(t,e,n,r){void 0===e&&(e=St(n));var i=1<<((0===t?e:e>>>t)&y),o=this.bitmap;return 0==(o&i)?r:this.nodes[ge(o&i-1)].get(t+m,e,n,r)},Yt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=St(r));var u=(0===e?n:n>>>e)&y,c=1<<u,s=this.bitmap,l=0!=(s&c);if(!l&&i===b)return this;var f=ge(s&c-1),d=this.nodes,h=l?d[f]:void 0,p=ae(h,t,e+m,n,r,i,o,a);if(p===h)return this;if(!l&&p&&d.length>=$e)return fe(t,d,s,u,p);if(l&&!p&&2===d.length&&ue(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&ue(p))return p;var v=t&&t===this.ownerID,g=l?p?s:s^c:s|c,w=l?p?ye(d,f,p,v):we(d,f,v):be(d,f,p,v);return v?(this.bitmap=g,this.nodes=w,this):new Yt(t,g,w)},Xt.prototype.get=function(t,e,n,r){void 0===e&&(e=St(n));var i=(0===t?e:e>>>t)&y,o=this.nodes[i];return o?o.get(t+m,e,n,r):r},Xt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=St(r));var u=(0===e?n:n>>>e)&y,c=i===b,s=this.nodes,l=s[u];if(c&&!l)return this;var f=ae(l,t,e+m,n,r,i,o,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<Ce)return le(t,s,d,u)}else d++;var h=t&&t===this.ownerID,p=ye(s,u,f,h);return h?(this.count=d,this.nodes=p,this):new Xt(t,d,p)},Jt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(gt(n,i[o][0]))return i[o][1];return r},Jt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=St(r));var u=i===b;if(n!==this.keyHash)return u?this:(C(a),C(o),ce(this,t,e,n,[r,i]));for(var c=this.entries,s=0,l=c.length;s<l&&!gt(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===i:u)return this;if(C(a),(u||!f)&&C(o),u&&2===l)return new Qt(t,this.keyHash,c[1^s]);var d=t&&t===this.ownerID,h=d?c:k(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Jt(t,this.keyHash,h)},Qt.prototype.get=function(t,e,n,r){return gt(n,this.entry[0])?this.entry[1]:r},Qt.prototype.update=function(t,e,n,r,i,o,a){var u=i===b,c=gt(r,this.entry[0]);return(c?i===this.entry[1]:u)?this:(C(a),u?void C(o):c?t&&t===this.ownerID?(this.entry[1]=i,this):new Qt(t,this.keyHash,[r,i]):(C(o),ce(this,t,e,St(r),[r,i])))},Kt.prototype.iterate=Jt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Yt.prototype.iterate=Xt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Qt.prototype.iterate=function(t,e){return t(this.entry)},e(te,N),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return ee(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return ee(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return ee(t,o.entry);e=this._stack=ne(o,e)}continue}e=this._stack=this._stack.__prev}return F()};var xe=g/4,$e=g/2,Ce=g/4;function _e(t){var e=Ae();if(null==t)return e;if(ke(t))return t;var n=i(t),r=n.size;return 0===r?e:(Ht(r),r>0&&r<g?Pe(0,r,m,null,new Se(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ke(t){return!(!t||!t[Ee])}e(_e,_t),_e.of=function(){return this(arguments)},_e.prototype.toString=function(){return this.__toString("List [","]")},_e.prototype.get=function(t,e){if((t=M(this,t))>=0&&t<this.size){var n=De(this,t+=this._origin);return n&&n.array[t&y]}return e},_e.prototype.set=function(t,e){return Te(this,t,e)},_e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},_e.prototype.insert=function(t,e){return this.splice(t,0,e)},_e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ae()},_e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){Ne(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},_e.prototype.pop=function(){return Ne(this,0,-1)},_e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Ne(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},_e.prototype.shift=function(){return Ne(this,1)},_e.prototype.merge=function(){return ze(this,void 0,arguments)},_e.prototype.mergeWith=function(e){return ze(this,e,t.call(arguments,1))},_e.prototype.mergeDeep=function(){return ze(this,he,arguments)},_e.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return ze(this,pe(e),n)},_e.prototype.setSize=function(t){return Ne(this,0,t)},_e.prototype.slice=function(t,e){var n=this.size;return R(t,e,n)?this:Ne(this,I(t,n),L(e,n))},_e.prototype.__iterator=function(t,e){var n=0,r=Oe(this,e);return new N((function(){var e=r();return e===Le?F():z(t,n++,e)}))},_e.prototype.__iterate=function(t,e){for(var n,r=0,i=Oe(this,e);(n=i())!==Le&&!1!==t(n,r++,this););return r},_e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},_e.isList=ke;var Ee="@@__IMMUTABLE_LIST__@@",Me=_e.prototype;function Se(t,e){this.array=t,this.ownerID=e}Me[Ee]=!0,Me[v]=Me.remove,Me.setIn=Gt.setIn,Me.deleteIn=Me.removeIn=Gt.removeIn,Me.update=Gt.update,Me.updateIn=Gt.updateIn,Me.mergeIn=Gt.mergeIn,Me.mergeDeepIn=Gt.mergeDeepIn,Me.withMutations=Gt.withMutations,Me.asMutable=Gt.asMutable,Me.asImmutable=Gt.asImmutable,Me.wasAltered=Gt.wasAltered,Se.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&y;if(r>=this.array.length)return new Se([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-m,n))===a&&o)return this}if(o&&!i)return this;var u=Be(this,t);if(!o)for(var c=0;c<r;c++)u.array[c]=void 0;return i&&(u.array[r]=i),u},Se.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&y;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-m,n))===o&&i===this.array.length-1)return this}var a=Be(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Re,Ie,Le={};function Oe(t,e){var n=t._origin,r=t._capacity,i=Fe(r),o=t._tail;return a(t._root,t._level,0);function a(t,e,n){return 0===e?u(t,n):c(t,e,n)}function u(t,a){var u=a===i?o&&o.array:t&&t.array,c=a>n?0:n-a,s=r-a;return s>g&&(s=g),function(){if(c===s)return Le;var t=e?--s:c++;return u&&u[t]}}function c(t,i,o){var u,c=t&&t.array,s=o>n?0:n-o>>i,l=1+(r-o>>i);return l>g&&(l=g),function(){for(;;){if(u){var t=u();if(t!==Le)return t;u=null}if(s===l)return Le;var n=e?--l:s++;u=a(c&&c[n],i-m,o+(n<<i))}}}}function Pe(t,e,n,r,i,o,a){var u=Object.create(Me);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Ae(){return Re||(Re=Pe(0,0,m))}function Te(t,e,n){if((e=M(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Ne(t,e).set(0,n):Ne(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=$(x);return e>=Fe(t._capacity)?r=je(r,t.__ownerID,0,e,n,o):i=je(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Pe(t._origin,t._capacity,t._level,i,r):t}function je(t,e,n,r,i,o){var a,u=r>>>n&y,c=t&&u<t.array.length;if(!c&&void 0===i)return t;if(n>0){var s=t&&t.array[u],l=je(s,e,n-m,r,i,o);return l===s?t:((a=Be(t,e)).array[u]=l,a)}return c&&t.array[u]===i?t:(C(o),a=Be(t,e),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Be(t,e){return e&&t&&e===t.ownerID?t:new Se(t?t.array.slice():[],e)}function De(t,e){if(e>=Fe(t._capacity))return t._tail;if(e<1<<t._level+m){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&y],r-=m;return n}}function Ne(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new _,i=t._origin,o=t._capacity,a=i+e,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return t;if(a>=u)return t.clear();for(var c=t._level,s=t._root,l=0;a+l<0;)s=new Se(s&&s.array.length?[void 0,s]:[],r),l+=1<<(c+=m);l&&(a+=l,i+=l,u+=l,o+=l);for(var f=Fe(o),d=Fe(u);d>=1<<c+m;)s=new Se(s&&s.array.length?[s]:[],r),c+=m;var h=t._tail,p=d<f?De(t,u-1):d>f?new Se([],r):h;if(h&&d>f&&a<o&&h.array.length){for(var v=s=Be(s,r),g=c;g>m;g-=m){var b=f>>>g&y;v=v.array[b]=Be(v.array[b],r)}v.array[f>>>m&y]=h}if(u<o&&(p=p&&p.removeAfter(r,0,u)),a>=d)a-=d,u-=d,c=m,s=null,p=p&&p.removeBefore(r,0,a);else if(a>i||d<f){for(l=0;s;){var w=a>>>c&y;if(w!==d>>>c&y)break;w&&(l+=(1<<c)*w),c-=m,s=s.array[w]}s&&a>i&&(s=s.removeBefore(r,c,a-l)),s&&d<f&&(s=s.removeAfter(r,c,d-l)),l&&(a-=l,u-=l)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=c,t._root=s,t._tail=p,t.__hash=void 0,t.__altered=!0,t):Pe(a,u,c,s,p)}function ze(t,e,n){for(var r=[],o=0,u=0;u<n.length;u++){var c=n[u],s=i(c);s.size>o&&(o=s.size),a(c)||(s=s.map((function(t){return ht(t)}))),r.push(s)}return o>t.size&&(t=t.setSize(o)),ve(t,e,r)}function Fe(t){return t<g?0:t-1>>>m<<m}function Ze(t){return null==t?Ue():He(t)?t:Ue().withMutations((function(e){var n=r(t);Ht(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function He(t){return Ut(t)&&l(t)}function Ve(t,e,n,r){var i=Object.create(Ze.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Ue(){return Ie||(Ie=Ve(ie(),Ae()))}function We(t,e,n){var r,i,o=t._map,a=t._list,u=o.get(e),c=void 0!==u;if(n===b){if(!c)return t;a.size>=g&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(c){if(n===a.get(u)[1])return t;r=o,i=a.set(u,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ve(r,i)}function qe(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ge(t){this._iter=t,this.size=t.size}function Ke(t){this._iter=t,this.size=t.size}function Ye(t){this._iter=t,this.size=t.size}function Xe(t){var e=bn(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=wn,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(e===T){var r=t.__iterator(e,n);return new N((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===A?P:A,n)},e}function Je(t,e,n){var r=bn(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,b);return o===b?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(T,i);return new N((function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return z(r,u,e.call(n,a[1],u,t),i)}))},r}function Qe(t,e){var n=bn(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Xe(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=wn,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function tn(t,e,n,r){var i=bn(t);return r&&(i.has=function(r){var i=t.get(r,b);return i!==b&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,b);return o!==b&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return t.__iterate((function(t,o,c){if(e.call(n,t,o,c))return u++,i(t,r?o:u-1,a)}),o),u},i.__iteratorUncached=function(i,o){var a=t.__iterator(T,o),u=0;return new N((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,s=c[0],l=c[1];if(e.call(n,l,s,t))return z(i,r?s:u++,l,o)}}))},i}function en(t,e,n){var r=Vt().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}function nn(t,e,n){var r=u(t),i=(l(t)?Ze():Vt()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=yn(t);return i.map((function(e){return vn(t,o(e))}))}function rn(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),R(e,n,i))return t;var o=I(e,i),a=L(n,i);if(o!=o||a!=a)return rn(t.toSeq().cacheResult(),e,n,r);var u,c=a-o;c==c&&(u=c<0?0:c);var s=bn(t);return s.size=0===u?u:t.size&&u||void 0,!r&&ot(t)&&u>=0&&(s.get=function(e,n){return(e=M(this,e))>=0&&e<u?t.get(e+o,n):n}),s.__iterateUncached=function(e,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,c=!0,s=0;return t.__iterate((function(t,n){if(!c||!(c=a++<o))return s++,!1!==e(t,r?n:s-1,i)&&s!==u})),s},s.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var i=0!==u&&t.__iterator(e,n),a=0,c=0;return new N((function(){for(;a++<o;)i.next();if(++c>u)return F();var t=i.next();return r||e===A?t:z(e,c-1,e===P?void 0:t.value[1],t)}))},s}function on(t,e,n){var r=bn(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,u){return e.call(n,t,i,u)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(T,i),u=!0;return new N((function(){if(!u)return F();var t=a.next();if(t.done)return t;var i=t.value,c=i[0],s=i[1];return e.call(n,s,c,o)?r===T?t:z(r,c,s,t):(u=!1,F())}))},r}function an(t,e,n,r){var i=bn(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,c=0;return t.__iterate((function(t,o,s){if(!u||!(u=e.call(n,t,o,s)))return c++,i(t,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(T,o),c=!0,s=0;return new N((function(){var t,o,l;do{if((t=u.next()).done)return r||i===A?t:z(i,s++,i===P?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],c&&(c=e.call(n,l,o,a))}while(c);return i===T?t:z(i,o,l,t)}))},i}function un(t,e){var n=u(t),i=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?ut(t):ct(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&u(o)||c(t)&&c(o))return o}var s=new et(i);return n?s=s.toKeyedSeq():c(t)||(s=s.toSetSeq()),(s=s.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),s}function cn(t,e,n){var r=bn(t);return r.__iterateUncached=function(r,i){var o=0,u=!1;function c(t,s){var l=this;t.__iterate((function(t,i){return(!e||s<e)&&a(t)?c(t,s+1):!1===r(t,n?i:o++,l)&&(u=!0),!u}),i)}return c(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),u=[],c=0;return new N((function(){for(;o;){var t=o.next();if(!1===t.done){var s=t.value;if(r===T&&(s=s[1]),e&&!(u.length<e)||!a(s))return n?t:z(r,c++,s,t);u.push(o),o=s.__iterator(r,i)}else o=u.pop()}return F()}))},r}function sn(t,e,n){var r=yn(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}function ln(t,e){var n=bn(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(A,r),a=0;return new N((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?z(n,a++,e):z(n,a++,i.value,i)}))},n}function fn(t,e,n){e||(e=xn);var r=u(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?G(o):c(t)?K(o):Y(o)}function dn(t,e,n){if(e||(e=xn),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return hn(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return hn(e,t,n)?n:t}))}function hn(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function pn(t,e,r){var i=bn(t);return i.size=new et(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(A,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),V(i?t.reverse():t)})),a=0,u=!1;return new N((function(){var n;return u||(n=o.map((function(t){return t.next()})),u=n.some((function(t){return t.done}))),u?F():z(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function vn(t,e){return ot(t)?e:t.constructor(e)}function mn(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function gn(t){return Ht(t.size),E(t)}function yn(t){return u(t)?r:c(t)?i:o}function bn(t){return Object.create((u(t)?G:c(t)?K:Y).prototype)}function wn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function xn(t,e){return t>e?1:t<e?-1:0}function $n(t){var e=V(t);if(!e){if(!W(t))throw new TypeError("Expected iterable or array-like: "+t);e=V(n(t))}return e}function Cn(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);Mn(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Vt(o)},i=r.prototype=Object.create(_n);return i.constructor=r,r}e(Ze,Vt),Ze.of=function(){return this(arguments)},Ze.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ze.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Ze.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ue()},Ze.prototype.set=function(t,e){return We(this,t,e)},Ze.prototype.remove=function(t){return We(this,t,b)},Ze.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ze.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},Ze.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Ze.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ve(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Ze.isOrderedMap=He,Ze.prototype[p]=!0,Ze.prototype[v]=Ze.prototype.remove,e(qe,G),qe.prototype.get=function(t,e){return this._iter.get(t,e)},qe.prototype.has=function(t){return this._iter.has(t)},qe.prototype.valueSeq=function(){return this._iter.valueSeq()},qe.prototype.reverse=function(){var t=this,e=Qe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},qe.prototype.map=function(t,e){var n=this,r=Je(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},qe.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?gn(this):0,function(i){return t(i,e?--n:n++,r)}),e)},qe.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(A,e),r=e?gn(this):0;return new N((function(){var i=n.next();return i.done?i:z(t,e?--r:r++,i.value,i)}))},qe.prototype[p]=!0,e(Ge,K),Ge.prototype.includes=function(t){return this._iter.includes(t)},Ge.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Ge.prototype.__iterator=function(t,e){var n=this._iter.__iterator(A,e),r=0;return new N((function(){var e=n.next();return e.done?e:z(t,r++,e.value,e)}))},e(Ke,Y),Ke.prototype.has=function(t){return this._iter.includes(t)},Ke.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ke.prototype.__iterator=function(t,e){var n=this._iter.__iterator(A,e);return new N((function(){var e=n.next();return e.done?e:z(t,e.value,e.value,e)}))},e(Ye,G),Ye.prototype.entrySeq=function(){return this._iter.toSeq()},Ye.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){mn(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Ye.prototype.__iterator=function(t,e){var n=this._iter.__iterator(A,e);return new N((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){mn(r);var i=a(r);return z(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Ge.prototype.cacheResult=qe.prototype.cacheResult=Ke.prototype.cacheResult=Ye.prototype.cacheResult=wn,e(Cn,Ct),Cn.prototype.toString=function(){return this.__toString(En(this)+" {","}")},Cn.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Cn.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Cn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=kn(this,ie()))},Cn.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+En(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:kn(this,n)},Cn.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:kn(this,e)},Cn.prototype.wasAltered=function(){return this._map.wasAltered()},Cn.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Cn.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Cn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?kn(this,e,t):(this.__ownerID=t,this._map=e,this)};var _n=Cn.prototype;function kn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function En(t){return t._name||t.constructor.name||"Record"}function Mn(t,e){try{e.forEach(Sn.bind(void 0,t))}catch(t){}}function Sn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){wt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Rn(t){return null==t?jn():In(t)&&!l(t)?t:jn().withMutations((function(e){var n=o(t);Ht(n.size),n.forEach((function(t){return e.add(t)}))}))}function In(t){return!(!t||!t[On])}_n[v]=_n.remove,_n.deleteIn=_n.removeIn=Gt.removeIn,_n.merge=Gt.merge,_n.mergeWith=Gt.mergeWith,_n.mergeIn=Gt.mergeIn,_n.mergeDeep=Gt.mergeDeep,_n.mergeDeepWith=Gt.mergeDeepWith,_n.mergeDeepIn=Gt.mergeDeepIn,_n.setIn=Gt.setIn,_n.update=Gt.update,_n.updateIn=Gt.updateIn,_n.withMutations=Gt.withMutations,_n.asMutable=Gt.asMutable,_n.asImmutable=Gt.asImmutable,e(Rn,kt),Rn.of=function(){return this(arguments)},Rn.fromKeys=function(t){return this(r(t).keySeq())},Rn.prototype.toString=function(){return this.__toString("Set {","}")},Rn.prototype.has=function(t){return this._map.has(t)},Rn.prototype.add=function(t){return An(this,this._map.set(t,!0))},Rn.prototype.remove=function(t){return An(this,this._map.remove(t))},Rn.prototype.clear=function(){return An(this,this._map.clear())},Rn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},Rn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},Rn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},Rn.prototype.merge=function(){return this.union.apply(this,arguments)},Rn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},Rn.prototype.sort=function(t){return Bn(fn(this,t))},Rn.prototype.sortBy=function(t,e){return Bn(fn(this,e,t))},Rn.prototype.wasAltered=function(){return this._map.wasAltered()},Rn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},Rn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},Rn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Rn.isSet=In;var Ln,On="@@__IMMUTABLE_SET__@@",Pn=Rn.prototype;function An(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Tn(t,e){var n=Object.create(Pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function jn(){return Ln||(Ln=Tn(ie()))}function Bn(t){return null==t?Zn():Dn(t)?t:Zn().withMutations((function(e){var n=o(t);Ht(n.size),n.forEach((function(t){return e.add(t)}))}))}function Dn(t){return In(t)&&l(t)}Pn[On]=!0,Pn[v]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Gt.withMutations,Pn.asMutable=Gt.asMutable,Pn.asImmutable=Gt.asImmutable,Pn.__empty=jn,Pn.__make=Tn,e(Bn,Rn),Bn.of=function(){return this(arguments)},Bn.fromKeys=function(t){return this(r(t).keySeq())},Bn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Bn.isOrderedSet=Dn;var Nn,zn=Bn.prototype;function Fn(t,e){var n=Object.create(zn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Zn(){return Nn||(Nn=Fn(Ue()))}function Hn(t){return null==t?Kn():Vn(t)?t:Kn().unshiftAll(t)}function Vn(t){return!(!t||!t[Wn])}zn[p]=!0,zn.__empty=Zn,zn.__make=Fn,e(Hn,_t),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(t,e){var n=this._head;for(t=M(this,t);n&&t--;)n=n.next;return n?n.value:e},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Gn(t,e)},Hn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Ht(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Gn(e,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(t){return this.pushAll(t)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Kn()},Hn.prototype.slice=function(t,e){if(R(t,e,this.size))return this;var n=I(t,this.size);if(L(e,this.size)!==this.size)return _t.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Gn(r,i)},Hn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Gn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Hn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new N((function(){if(r){var e=r.value;return r=r.next,z(t,n++,e)}return F()}))},Hn.isStack=Vn;var Un,Wn="@@__IMMUTABLE_STACK__@@",qn=Hn.prototype;function Gn(t,e,n,r){var i=Object.create(qn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Kn(){return Un||(Un=Gn(0))}function Yn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}qn[Wn]=!0,qn.withMutations=Gt.withMutations,qn.asMutable=Gt.asMutable,qn.asImmutable=Gt.asImmutable,qn.wasAltered=Gt.wasAltered,n.Iterator=N,Yn(n,{toArray:function(){Ht(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Ge(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new qe(this,!0)},toMap:function(){return Vt(this.toKeyedSeq())},toObject:function(){Ht(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return Ze(this.toKeyedSeq())},toOrderedSet:function(){return Bn(u(this)?this.valueSeq():this)},toSet:function(){return Rn(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Ke(this)},toSeq:function(){return c(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(u(this)?this.valueSeq():this)},toList:function(){return _e(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return vn(this,un(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return gt(e,t)}))},entries:function(){return this.__iterator(T)},every:function(t,e){Ht(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return vn(this,tn(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Ht(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ht(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(P)},map:function(t,e){return vn(this,Je(this,t,e))},reduce:function(t,e,n){var r,i;return Ht(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return vn(this,Qe(this,!0))},slice:function(t,e){return vn(this,rn(this,t,e,!0))},some:function(t,e){return!this.every(er(t),e)},sort:function(t){return vn(this,fn(this,t))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return E(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return en(this,t,e)},equals:function(t){return yt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(tr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(er(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(S)},flatMap:function(t,e){return vn(this,sn(this,t,e))},flatten:function(t){return vn(this,cn(this,t,!0))},fromEntrySeq:function(){return new Ye(this)},get:function(t,e){return this.find((function(e,n){return gt(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=$n(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,b):b)===b)return e}return r},groupBy:function(t,e){return nn(this,t,e)},has:function(t){return this.get(t,b)!==b},hasIn:function(t){return this.getIn(t,b)!==b},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return gt(e,t)}))},keySeq:function(){return this.toSeq().map(Qn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return dn(this,t)},maxBy:function(t,e){return dn(this,e,t)},min:function(t){return dn(this,t?nr(t):or)},minBy:function(t,e){return dn(this,e?nr(e):or,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return vn(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return vn(this,an(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(er(t),e)},sortBy:function(t,e){return vn(this,fn(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return vn(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return vn(this,on(this,t,e))},takeUntil:function(t,e){return this.takeWhile(er(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=n.prototype;Xn[f]=!0,Xn[D]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,Yn(r,{flip:function(){return vn(this,Xe(this))},mapEntries:function(t,e){var n=this,r=0;return vn(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return vn(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var Jn=r.prototype;function Qn(t,e){return e}function tr(t,e){return[e,t]}function er(t){return function(){return!t.apply(this,arguments)}}function nr(t){return function(){return-t.apply(this,arguments)}}function rr(t){return"string"==typeof t?JSON.stringify(t):String(t)}function ir(){return k(arguments)}function or(t,e){return t<e?1:t>e?-1:0}function ar(t){if(t.size===1/0)return 0;var e=l(t),n=u(t),r=e?1:0;return ur(t.__iterate(n?e?function(t,e){r=31*r+cr(St(t),St(e))|0}:function(t,e){r=r+cr(St(t),St(e))|0}:e?function(t){r=31*r+St(t)|0}:function(t){r=r+St(t)|0}),r)}function ur(t,e){return e=Et(e,3432918353),e=Et(e<<15|e>>>-15,461845907),e=Et(e<<13|e>>>-13,5),e=Et((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Mt((e=Et(e^e>>>13,3266489909))^e>>>16)}function cr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Jn[d]=!0,Jn[D]=Xn.entries,Jn.__toJS=Xn.toObject,Jn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rr(t)},Yn(i,{toKeyedSeq:function(){return new qe(this,!1)},filter:function(t,e){return vn(this,tn(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return vn(this,Qe(this,!1))},slice:function(t,e){return vn(this,rn(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=I(t,t<0?this.count():this.size);var r=this.slice(0,t);return vn(this,1===n?r:r.concat(k(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return vn(this,cn(this,t,!1))},get:function(t,e){return(t=M(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=M(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return vn(this,ln(this,t))},interleave:function(){var t=[this].concat(k(arguments)),e=pn(this.toSeq(),K.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),vn(this,n)},keySeq:function(){return xt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return vn(this,an(this,t,e,!1))},zip:function(){return vn(this,pn(this,ir,[this].concat(k(arguments))))},zipWith:function(t){var e=k(arguments);return e[0]=this,vn(this,pn(this,t,e))}}),i.prototype[h]=!0,i.prototype[p]=!0,Yn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Xn.includes,o.prototype.contains=o.prototype.includes,Yn(G,r.prototype),Yn(K,i.prototype),Yn(Y,o.prototype),Yn(Ct,r.prototype),Yn(_t,i.prototype),Yn(kt,o.prototype),{Iterable:n,Seq:q,Collection:$t,Map:Vt,OrderedMap:Ze,List:_e,Stack:Hn,Set:Rn,OrderedSet:Bn,Record:Cn,Range:xt,Repeat:bt,is:gt,fromJS:ht}}()},2043:function(t,e,n){var r,i;!function(o,a){"use strict";r=function(){var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function o(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments])),console.trace}function a(r){return"debug"===r&&(r="log"),typeof console!==e&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):t)}function u(e,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<e?t:this.methodFactory(o,e,n)}this.log=this.debug}function c(t,n,r){return function(){typeof console!==e&&(u.call(this,n,r),this[t].apply(this,arguments))}}function s(t,e,n){return a(t)||c.apply(this,arguments)}function l(t,n,i){var o,a=this;n=null==n?"WARN":n;var c="loglevel";function l(t){var n=(r[t]||"silent").toUpperCase();if(typeof window!==e&&c){try{return void(window.localStorage[c]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(t){}}}function f(){var t;if(typeof window!==e&&c){try{t=window.localStorage[c]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===a.levels[t]&&(t=void 0),t}}function d(){if(typeof window!==e&&c){try{return void window.localStorage.removeItem(c)}catch(t){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}"string"==typeof t?c+=":"+t:"symbol"==typeof t&&(c=void 0),a.name=t,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||s,a.getLevel=function(){return o},a.setLevel=function(n,r){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&l(n),u.call(a,n,t),typeof console===e&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(t){n=t,f()||a.setLevel(t,!1)},a.resetLevel=function(){a.setLevel(n,!1),d()},a.enableAll=function(t){a.setLevel(a.levels.TRACE,t)},a.disableAll=function(t){a.setLevel(a.levels.SILENT,t)};var h=f();null==h&&(h=n),a.setLevel(h,!1)}var f=new l,d={};f.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=d[t];return e||(e=d[t]=new l(t,f.getLevel(),f.methodFactory)),e};var h=typeof window!==e?window.log:void 0;return f.noConflict=function(){return typeof window!==e&&window.log===f&&(window.log=h),f},f.getLoggers=function(){return d},f.default=f,f},void 0===(i="function"==typeof r?r.call(e,n,e,t):r)||(t.exports=i)}()},95998:function(t,e,n){"use strict";n.d(e,{zt:function(){return w},I0:function(){return _},v9:function(){return v}});var r=n(61688),i=n(52798),o=n(97170);let a=function(t){t()};const u=()=>a;var c=n(84481),s=n.n(c);const l=s().createContext(null);function f(){return(0,c.useContext)(l)}let d=()=>{throw new Error("uSES not initialized!")};const h=(t,e)=>t===e;function p(t=l){const e=t===l?f:()=>(0,c.useContext)(t);return function(t,n=h){const{store:r,subscription:i,getServerState:o}=e(),a=d(i.addNestedSub,r.getState,o||r.getState,t,n);return(0,c.useDebugValue)(a),a}}const v=p();n(8679),n(59864);const m={notify(){},get:()=>[]};function g(t,e){let n,r=m;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=e?e.addNestedSub(i):t.subscribe(i),r=function(){const t=u();let e=null,n=null;return{clear(){e=null,n=null},notify(){t((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}const a={addNestedSub:function(t){return o(),r.subscribe(t)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:()=>r};return a}const y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?c.useLayoutEffect:c.useEffect;let b=null;var w=function({store:t,context:e,children:n,serverState:r}){const i=(0,c.useMemo)((()=>{const e=g(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0}}),[t,r]),o=(0,c.useMemo)((()=>t.getState()),[t]);y((()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[i,o]);const a=e||l;return s().createElement(a.Provider,{value:i},n)};function x(t=l){const e=t===l?f:()=>(0,c.useContext)(t);return function(){const{store:t}=e();return t}}const $=x();function C(t=l){const e=t===l?$:x(t);return function(){return e().dispatch}}const _=C();var k,E;k=i.useSyncExternalStoreWithSelector,d=k,(t=>{b=t})(r.useSyncExternalStore),E=o.unstable_batchedUpdates,a=E},27428:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(43393),o=(r=i)&&r.__esModule?r:{default:r},a=n(79607);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.Map,n=Object.keys(t);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),i=arguments[1];return r.withMutations((function(e){n.forEach((function(n){var r=(0,t[n])(e.get(n),i);(0,a.validateNextState)(r,n,i),e.set(n,r)}))}))}},t.exports=e.default},72739:function(t,e,n){"use strict";e.U=void 0;var r,i=n(27428),o=(r=i)&&r.__esModule?r:{default:r};e.U=o.default},94528:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&"@@redux/INIT"===t.type?"initialState argument passed to createStore":"previous state received by the reducer"},t.exports=e.default},93651:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(43393)),i=o(n(94528));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){var o=Object.keys(e);if(!o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var a=(0,i.default)(n);if(r.default.isImmutable?!r.default.isImmutable(t):!r.default.Iterable.isIterable(t))return"The "+a+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+o.join('", "')+'".';var u=t.toSeq().keySeq().toArray().filter((function(t){return!e.hasOwnProperty(t)}));return u.length>0?"Unexpected "+(1===u.length?"property":"properties")+' "'+u.join('", "')+'" found in '+a+'. Expected to find one of the known reducer property names instead: "'+o.join('", "')+'". Unexpected properties will be ignored.':null},t.exports=e.default},79607:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateNextState=e.getUnexpectedInvocationParameterMessage=e.getStateName=void 0;var r=a(n(94528)),i=a(n(93651)),o=a(n(85527));function a(t){return t&&t.__esModule?t:{default:t}}e.getStateName=r.default,e.getUnexpectedInvocationParameterMessage=i.default,e.validateNextState=o.default},85527:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(void 0===t)throw new Error('Reducer "'+e+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},t.exports=e.default},53894:function(t,e){"use strict";function n(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var r=n();r.withExtraArgument=n,e.Z=r},14791:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){var r,o,a;r=t,o=e,a=n[e],(o=i(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}n.d(e,{md:function(){return p},qC:function(){return h},MT:function(){return d}});var c="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function f(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function d(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(u(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(u(1));return n(d)(t,e)}if("function"!=typeof t)throw new Error(u(2));var i=t,o=e,a=[],s=a,h=!1;function p(){s===a&&(s=a.slice())}function v(){if(h)throw new Error(u(3));return o}function m(t){if("function"!=typeof t)throw new Error(u(4));if(h)throw new Error(u(5));var e=!0;return p(),s.push(t),function(){if(e){if(h)throw new Error(u(6));e=!1,p();var n=s.indexOf(t);s.splice(n,1),a=null}}}function g(t){if(!f(t))throw new Error(u(7));if(void 0===t.type)throw new Error(u(8));if(h)throw new Error(u(9));try{h=!0,o=i(o,t)}finally{h=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}return g({type:l.INIT}),(r={dispatch:g,subscribe:m,getState:v,replaceReducer:function(t){if("function"!=typeof t)throw new Error(u(10));i=t,g({type:l.REPLACE})}})[c]=function(){var t,e=m;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(u(11));function n(){t.next&&t.next(v())}return n(),{unsubscribe:e(n)}}})[c]=function(){return this},t},r}function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(u(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return r=h.apply(void 0,o)(n.dispatch),a(a({},n),{},{dispatch:r})}}}},50139:function(t,e,n){"use strict";var r=n(84481),i=n(61688);var o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=i.useSyncExternalStore,u=r.useRef,c=r.useEffect,s=r.useMemo,l=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var f=u(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=s((function(){function t(t){if(!c){if(c=!0,a=t,t=r(t),void 0!==i&&d.hasValue){var e=d.value;if(i(e,t))return u=e}return u=t}if(e=u,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?e:(a=t,u=n)}var a,u,c=!1,s=void 0===n?null:n;return[function(){return t(e())},null===s?void 0:function(){return t(s())}]}),[e,n,r,i]);var h=a(t,f[0],f[1]);return c((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},52798:function(t,e,n){"use strict";t.exports=n(50139)}}]);
//# sourceMappingURL=5285-6229d872518082b22b25.js.map