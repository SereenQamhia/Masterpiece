/*! For license information please see app-root-components-asset-detail-istock-index-3e275fba0720d09eeb08.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[9760],{6725:function(e,t,n){"use strict";n.r(t),n.d(t,{MOSAIC_GRID_TYPES:function(){return B},default:function(){return W}});var i=n(84481),a=n.n(i),r=n(75015),s=(n(10518),n(38098)),o=n(5146),c=n(94184),l=n.n(c),d="PuyvOPr2BzkrGPUNVWpH",u="j9jfWz7OteO3Iz2f3OZZ",_="Dllyt68qL_MrzLazUZs_",p="BmKOR4U2E1Lxf96KZL85",f="UAd5bLpE040Jp85G38YJ",m="nMFQhlgnc9XtAKKnrHaG",h="QLe6nCAqbhRDXWSoI7pF",v=n(18930),g=["styles"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w.apply(this,arguments)}var y=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,g);return a().createElement("svg",w({width:"23",height:"17",viewBox:"0 0 23 7",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{fill:"none",fillRule:"evenodd"},a().createElement("path",{d:"M-1-1h24v9H-1z"}),a().createElement("path",{d:"M9.813 0v4.4h1.3v1.2h-1.3v.9h-2.6v-1h-6.5c-1.1 0-.6-1.1-.6-1.1s5.9-4.3 6.1-4.4h3.6zm-2.6 1.5l-3.8 2.6h3.8V1.5zm4.3-1.5v6.5h2.7V3.8l4.3 2.7h3.6l-5.7-3.5 5.3-3h-3.4l-4.1 2.4V0h-2.7z",fill:"#FFF",fillRule:"nonzero"})))},b=["styles"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},S.apply(this,arguments)}var E=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,b);return a().createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:"17.103",height:"11.732",viewBox:"0 0 17.103 11.732"},i),a().createElement("path",{className:n.st0||"st0",d:"M17.103.816l-5.371 3.1V0H0v11.732h11.732V7.815l5.37 3.1z"}))},T=n(82650),x="yDt6YLsSS0dqFByfmdsN",I="gcO2GOLxYZJdo_FnFYWn",C="vnIe56HnfVYeyOJLhXbI",N=n(85893),O=function(e){var t=e.src,n=e.poster,a=e.filmDefinition,r=e.alt,s=(0,i.useRef)(),o=(0,T.Z)(s),c=o[0],l=o[1];return(0,N.jsxs)("div",{ref:s,className:x,"data-testid":"mosaic-grid-video-asset",children:[(0,N.jsx)("img",{src:n,alt:r,loading:"lazy"}),c&&(0,N.jsx)("video",{loop:!0,muted:!0,preload:"none",ref:l,src:t,poster:n,onFocus:function(e){return e.target.play()},onBlur:function(e){return e.target.pause()}}),"4K"===a?(0,N.jsx)(y,{"aria-label":"video4k",className:C}):(0,N.jsx)(E,{"aria-label":"video",className:I})]})};O.defaultProps={src:null,poster:null,filmDefinition:null};var A=O,k="DcdVECpRwHut2mLnDHb1",D="_W9K4IqmnuZRk_cy8Dk6",j=function(e){var t,n,i,a,r=e.asset,s=e.href,o=e.trackOnClick,c=e.overlay,l=void 0===c?null:c,d=(t=r.maxWidth?r.maxWidth:0,n=r.maxHeight?r.maxHeight:0,i="film"===r.assetType?640:612,a=Math.min(i/t,i/n),{width:Math.floor(t*a),height:Math.floor(n*a)}),u="image"===r.assetType?k:D,_=(0,v.Z)();return(0,N.jsxs)("a",{"data-testid":"mosaic-grid-asset",className:u,href:s,onClick:function(){return o(_)},style:{"--width":d.width,"--height":d.height},"data-max-width":d.width,"data-max-height":d.height,children:[l,"image"===r.assetType&&(0,N.jsx)("img",{src:r.thumb612Url,alt:r.title}),"film"===r.assetType&&(0,N.jsx)(A,{src:r.filmThumbUrl,poster:r.thumbUrl,filmDefinition:r.filmDefinition,alt:r.title})]},r.assetId)};j.defaultProps={overlay:null};var P=(0,s.Z)(j,"thumbnail"),L="dy14Avp0hRBvPyqjQ53W",R="tq5KW65mECljmFid6S_q",F="Rx7VzIfm0IMuXBG4x7eh",M="ftxX7VHWypGMQRZnu6t5",U=function(e){var t=e.count,n=e.text;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:L,"data-testid":"mosaic-grid-overlay"}),(0,N.jsxs)("div",{className:R,children:[(0,N.jsxs)("div",{className:F,children:["+",t]}),(0,N.jsx)("div",{className:M,children:n})]})]})},B={SINGLE_ROW:"single-row",MULTI_ROW:"multi-row"},z=function(e){var t,n=e.data,i=e.isImage,a=e.containerStyles,s=e.header,c=e.linkText,v=e.viewAllUrl,g=e.overlayText,w=e.tracking,y=e.inGridCount,b=e.gridType,S=void 0===b?B.MULTI_ROW:b,E=e.searchScope,T=function(){return(0,N.jsx)("div",{className:a.placeholderHeight,"data-testid":"mosaic-grid-placeholder"})},x=(0,r.N)();if(!n)return(0,N.jsx)(T,{});if(0===n.assets.length)return null;var I=n.totalNumberOfResults-y+1,C=function(e){return E?x.prefixedPath(function(e){return o.Z.appendQueryParamsToString(e,{searchscope:E})}(e)):x.prefixedPath(e)};return(0,N.jsxs)("section",{className:l()(d,(t={},t[u]=i,t[p]=!i,t)),"data-testid":"mosaic-grid-assets",children:[(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("div",{"data-testid":"mosaic-grid-header",className:f,children:s}),S===B.SINGLE_ROW?null:(0,N.jsxs)("a",{href:v,onClick:w.trackViewAll,children:[c,">"]})]}),(0,N.jsx)("div",{className:S===B.SINGLE_ROW?h:m,children:n.assets.map((function(e,t){var i=function(e){var t=n.assets.length-1,i=n.totalNumberOfResults>y;return e===t&&i}(t);return(0,N.jsx)(P,{asset:e,href:i?v:C(e.landingUrl),trackOnClick:function(n){return i?w.trackViewAllOverlay():w.trackAssetClick(e,t+1,n)},overlay:i?(0,N.jsx)(U,{count:I,text:g}):null},e.id)}))})]})};z.defaultProps={data:null,isImage:!1,gridType:B.MULTI_ROW,searchScope:null};var W=(0,s.Z)(z,"mosaic_grid")},75015:function(e,t,n){"use strict";n.d(t,{N:function(){return i.NW}});var i=n(99919)},82650:function(e,t,n){"use strict";var i=n(84481);t.Z=function(e){var t=(0,i.useState)(!1),n=t[0],a=t[1],r=(0,i.useState)(!1),s=r[0],o=r[1],c=(0,i.useRef)(),l=function(){a(!0),o(!0)},d=function(){a(!1)};(0,i.useEffect)((function(){return e.current&&(e.current.addEventListener("mouseenter",l),e.current.addEventListener("mouseleave",d)),function(){e.current&&(e.current.removeEventListener("mouseenter",l),e.current.removeEventListener("mouseleave",d))}}),[]);return(0,i.useEffect)((function(){var e;c.current&&(n?null==(e=c.current.play())||e.catch((function(){})):c.current.pause())}),[n,c]),(0,i.useEffect)((function(){return function(){c.current&&(c.current.removeAttribute("src"),c.current.load())}}),[]),[s,c]}},49614:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var i=function(){var e,t=window.localStorage.getItem("search.lastSearchPAFilter"),n=window.tracking_data||{},i=null==n||null==(e=n.active_agreements)?void 0:e.PA;if(!t||!i)return"none";var a=i.find((function(e){return t===e.Id.toString()}));return(null==a?void 0:a.PaAgreementType)||"none"};function a(){return{creative_assets_type:window.localStorage.getItem("search.lastSearchCreativeAssetType"),pa_agreement_filter:i(),target_search_mix:window.localStorage.getItem("target_search_mix")}}},55770:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return e_}});var i=n(84481),a=n.n(i),r=n(33080),o=n(26953),c=n(95998),l=n(14791),d=n(53894),u=n(51155),_=n(6905),p=Object.freeze({active:"Active",cancelled:"Cancelled",expired:"Expired",paused:"Paused",pending:"Pending",suspended:"Suspended"});var f,m=function(e){if(e.subscription)switch(e.subscription.status){case p.paused:return p.paused;case p.suspended:return p.suspended;case p.expired:return p.expired}},h=function(e){if(e.subscription){switch(e.subscription.status){case p.paused:case p.suspended:case p.expired:return!0}return!1}},v=Object.freeze({PICK_PAYMENT_OPTION:"PICK_PAYMENT_OPTION",REDOWNLOAD_FOR_FREE:"REDOWNLOAD_FOR_FREE",PICK_PRICING_CLARITY_PAYMENT_OPTION:"PICK_PRICING_CLARITY_PAYMENT_OPTION",FREE_ADMIN_DOWNLOAD:"FREE_ADMIN_DOWNLOAD",INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP:"INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP",PURCHASE_AND_SELECT_LICENCES_STEP:"PURCHASE_AND_SELECT_LICENCES_STEP",CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS:"CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS",CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS:"CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS",CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS",CONFIRM_DOWNLOAD_BY_TEAM_CREDITS:"CONFIRM_DOWNLOAD_BY_TEAM_CREDITS",CONFIRM_REDOWNLOAD_FOR_FREE:"CONFIRM_REDOWNLOAD_FOR_FREE",MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION",TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS:"TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS",COMPLETE_DOWNLOAD:"COMPLETE_DOWNLOAD",COMPLETE_REDOWNLOAD:"COMPLETE_REDOWNLOAD",CHOOSE_ACCOUNT:"CHOOSE_ACCOUNT",TEAM_ACCOUNT_OUT_OF_CREDITS:"TEAM_ACCOUNT_OUT_OF_CREDITS",SELECT_ACCOUNT_TYPE:"SELECT_ACCOUNT_TYPE"}),g=((f={})[v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES]=function(){return"insufficient_credits"},f[v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION]=function(){return"insufficient_credits"},f[v.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION]=function(){return"asset_unavailable_with_plan"},f[v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS]=function(){return"asset_unavailable_with_plan"},f[v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING]=function(){return"insufficient_subscription_downloads"},f[v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION]=function(e){switch(m(e)){case p.expired:return"expired_subscription";case p.suspended:return"suspended_subscription";case p.paused:return"paused_subscription";default:return"blocked_subscription"}},f),w=Object.keys(g),y={INITIALIZE:"INITIALIZE",SET_AVAILABLE_CREDITS:"SET_AVAILABLE_CREDITS",SET_AGREEMENTS:"SET_AGREEMENTS",LOAD_SUBSCRIPTION:"LOAD_SUBSCRIPTION",SELECT_AGREEMENT_TYPE:"SELECT_AGREEMENT_TYPE",SET_SELECTED_ACCOUNT:"SET_SELECTED_ACCOUNT",SET_DISPLAY_ERROR:"SET_DISPLAY_ERROR",SET_LICENSES:"SET_LICENSES",SET_TOASTER:"SET_TOASTER",SET_BUY_AND_BURN_DOWNLOAD:"SET_BUY_AND_BURN_DOWNLOAD",CHECK_LICENSE:"CHECK_LICENSE",SELECT_ASSET_SIZE:"SELECT_ASSET_SIZE",SET_CTA_IN_PROGRESS:"SET_CTA_IN_PROGRESS",SELECT_PRICING_CLARITY_OPTION_TOGGLE:"SELECT_PRICING_CLARITY_OPTION_TOGGLE",GO_TO_BEGINNING:"GO_TO_BEGINNING",CANCEL_AND_BACK_TO_BEGINING:"CANCEL_AND_BACK_TO_BEGINING",GO_TO_FREE_ADMIN_DOWNLOAD:"GO_TO_FREE_ADMIN_DOWNLOAD",GO_TO_CONFIRM_DOWNLOAD:"GO_TO_CONFIRM_DOWNLOAD",GO_TO_COMPLETE_DOWNLOAD:"GO_TO_COMPLETE_DOWNLOAD",GO_TO_COMPLETE_REDOWNLOAD:"GO_TO_COMPLETE_REDOWNLOAD",GO_TO_NEXT_STEP:"GO_TO_NEXT_STEP",FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED:"FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED",SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD:"SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD",POST_ASSET_TO_CREATE_DOWNLOAD:"POST_ASSET_TO_CREATE_DOWNLOAD",REDIRECT_TO_URL:"REDIRECT_TO_URL",SET_DOWNLOAD_DATA:"SET_DOWNLOAD_DATA",SELECT_ACCOUNT_STEP:"SELECT_ACCOUNT_STEP",CONFIRM_DOWNLOAD_STEP:"CONFIRM_DOWNLOAD_STEP",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP",SET_SPECTRUM_DOWNLOADED_ASSET_ID:"SET_SPECTRUM_DOWNLOADED_ASSET_ID",SHOW_POST_DOWNLOAD_ONBOARDING:"SHOW_POST_DOWNLOAD_ONBOARDING",HIDE_POST_DOWNLOAD_ONBOARDING:"HIDE_POST_DOWNLOAD_ONBOARDING"},b=function(e){return function(t){return function(n){var i=e.getState(),a=t(n),r=e.getState();if(n.type===y.GO_TO_NEXT_STEP){var s,o,c,l=(null==(s=r.calc)?void 0:s.step)||{},d=l.warningBox,p=l.name;if(d&&p!==(null==(o=i.calc)||null==(c=o.step)?void 0:c.name)&&w.includes(p)){var f,m,h=function(e){return g[e.calc.step.name](e)}(r),v=(0,u.Z)({error_message_selection:"download_error",error_message_name:h,ui_element_location:"buy_card"}),b={name:"adpInteraction",payload:{adp_interaction:"ADP_Download_Error_Shown",adp_selection:h.replace(/^.|_./g,(function(e){return e.toUpperCase()})),sku:null==(f=r.asset)||null==(m=f.standardLicense)?void 0:m.minimum_sku,ui_element_location:"adp_buy_card_download_error"}};(0,_.j)(b,v)}}return a}}},S=[d.Z,b];"undefined"!=typeof window&&window.reduxLogger&&S.push(window.reduxLogger.createLogger({diff:!0,duration:!0,collapsed:!0,stateTransformer:function(e){return e.toJS?e.toJS():e}}));var E="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.qC,T=function(e,t){return void 0===t&&(t={}),(0,l.MT)(e,t,E(l.md.apply(void 0,S)))},x=n(9499),I=n.n(x),C={Small:"small_file_size",Medium:"medium_file_size",Large:"large_file_size",Xlarge:"xlarge_file_size",Xxlarge:"xxlarge_file_size",eps:"EPS",epsUnavailable:"EPS"},N=null,O=!1,A={formatAsset:function(e){var t;return"film"!==e.assetType&&function(e){if(N=e.findIndex((function(e){return"eps"===e.name})),O=N>=0){var t=e[N];t.teeShirtSize=t.name,t.isEps=!0}}(e.imageSizes),(t={agreements:e.agreements,allowedUseCodeKey:e.allowedUseCodeKey,artist:e.artist,assetDimensions:e.assetDimensions,assetFamily:e.family,assetId:e.id,assetQuality:e.quality,assetType:e.assetType,category:e.category,clipLength:e.clipLength,contributor:e.contributor,dateSubmitted:e.dateSubmitted,dateSubmittedFormatted:e.dateSubmittedFormatted,defaultMainImageURL:e.defaultMainImageURL,defaultMainWebPURL:e.defaultMainWebPURL,epsFileSizeIndex:N,exclusiveContent:e.exclusiveContent,experiences:e.experiences,filmCompUrl:e.filmCompUrl,filmPreviewDimensions:e.filmPreviewDimensions,downloadableFilmCompUrl:e.downloadableFilmCompUrl}).filmPreviewDimensions=e.filmPreviewDimensions,t.freeFile=e.isFreeFile,t.galleryComp1024Url=e.galleryComp1024Url,t.galleryHighResCompUrl=e.galleryHighResCompUrl,t.hasEpsFileSize=O,t.includedWithSubscription=(null!=e.agreements?e.agreements.indexOf("RF"):void 0)>=0,t.is360Image=e.is360Image,t.isEditorialUseOnly=e.isEditorialUseOnly,t.isEssentialImage=e.isEssentialImage,t.isFilm=e.isFilm,t.isHidden=e.isHidden,t.isIllustration=e.isIllustration,t.isImage=e.isImage,t.isIstockExclusive=e.isIstockExclusive,t.isVector=e.isVector,t.istockCollection=e.istockCollection,t.keywords=e.keywords,t.largeMainImageURL=e.largeMainImageURL,t.largeMainWebPURL=e.largeMainWebPURL,t.licenseType=e.licenseType,t.localizedCaption=e.localizedCaption,t.mainImageUrl=e.mainImageUrl,t.mainWebPUrl=e.mainWebPUrl,t.mediaType=e.mediaType,t.orderId=e.orderId,t.orientation=e.orientation,t.ratio=e.ratio,t.showCreditExpiryDisclaimer=e.showCreditExpiryDisclaimer,t.sizes=function(e,t,n){if("film"===t)return e;var i=[].concat(e);return"illustration"!==n||O||i.push({name:"epsUnavailable",teeShirtSize:"epsUnavailable",description:"eps_not_available",epsUnavailable:!0}),i}(e.imageSizes,e.assetType,e.mediaType),t.stackId=e.stackId,t.standardLicense=e.standardLicense,t.thumb612Url=e.thumb612Url,t.thumbUrl=e.thumbUrl,t.title=e.title,t.zoomedImageUrl=e.zoomedImageUrl,t.zoomedWebPUrl=e.zoomedWebPUrl,t},getSizeMap:function(){return C},getPreferredSize:function(e){return e.istock_user_preferred_download_size},getVideoPreferredSize:function(e){return{name:e.istock_user_preferred_video_download_size_name,definition:e.istock_user_preferred_video_download_size_definition}},getEpsPreferredSize:function(e){return e.istock_user_preferred_eps_download_size},setPreferredSize:function(e){var t,n="istock_user_preferred_download_size";"eps"===e&&(n="istock_user_preferred_eps_download_size"),I().post("/detail/preferences",{asset_detail_preferences:(t={},t[n]=e,t)})},setPreferredVideoSize:function(e,t){I().post("/detail/preferences",{asset_detail_preferences:{istock_user_preferred_video_download_size_name:e,istock_user_preferred_video_download_size_definition:t}})}},k=A,D="signature",j="essentials",P=function(e){if(e)return e.match(/premium|signature/i)},L={SIGNATURE:D,ESSENTIALS:j,isSignature:P,isEssentials:function(e){return!!(e?e.match(/essentials/i):void 0)},getAssetCollectionName:function(e){return P(e.istockCollection)?D:j}},R=L,F={subsInfo:{}},M=function(e){void 0===e&&(e={});var t=e.name||"";return F.subsInfo={isSignature:R.isSignature(t),isEssentials:R.isEssentials(t),downloadedCount:e.download_count||0,downloadLimit:e.download_limit||0,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0},F.subsInfo.downloadsRemaining=F.subsInfo.downloadLimit-F.subsInfo.downloadedCount},U=function(e){window.tracking_data.has_purchased=e.has_purchase_history,window.tracking_data.has_credits=e.has_credits,window.tracking_data.has_subscription=e.has_subscription,window.tracking_data.has_subs_downloads=e.subsInfo.downloadsRemaining>0,window.tracking_data.remembered=e.remembered,window.tracking_data.authenticated=e.authenticated},B={formatUser:function(e){return void 0===e&&(e={}),(F=e).credit_amount=F.credit_amount||0,F.authenticated=F.authenticated||!1,F.remembered=F.remembered||!1,F.team_member=F.team_member||!1,F.team_leader=F.team_leader||!1,F.has_credits=F.has_credits||!1,F.has_subscription=F.has_subscription||!1,F.team_credits=F.team_credits||0,F.team_name=F.team_name||"",F.free_trial_subscription_test_active=F.free_trial_subscription_test_active||!1,M(),"undefined"!=typeof window&&void 0!==window.tracking_data&&U(F),F}},z=n(43393),W=n.n(z),G=function(){function e(){}return e.isMappable=function(e){return null!==e&&"object"==typeof e&&!W().Iterable.isIterable(e)},e.mapArray=function(e){var t=this;return W().List(e.map((function(e){return t.mapJS(e)})))},e.mapHash=function(e){for(var t in e){var n=e[t];e[t]=this.mapJS(n)}return W().Record(e)()},e.mapJS=function(e){return this.isMappable(e)?Array.isArray(e)?this.mapArray(e):this.mapHash(e):e},e.fromJS=function(e){return this.mapJS(e)},e}(),V=G.fromJS({userDetails:{country_code:"",authenticated:!1,remembered:!1,anonymous:!0,has_subscription:!1,has_purchase_history:!1,team_member:!1,team_leader:!1,team_name:"",eligible_for_free_trial:!1,fast_checkout_sub:!1,fast_checkout_subs_pack_sku:"",istock_fast_checkout_larger_offer_credit_pack_sku:"",pricing_clarity_flow:!1,credit_amount:0,has_credits:!1,team_credits:0,subsInfo:{isSignature:!1,isEssentials:!1,downloadedCount:0,downloadLimit:0,autoRenews:!1,daysUntilExpiry:0,downloadsRemaining:0}},asset:{assetDimensions:{width:0,height:0},assetType:"",agreements:[],assetFamily:"",assetId:"",allowedUseCodeKey:"",dateSubmitted:"",dateSubmittedFormatted:"",epsFileSizeIndex:-1,freeFile:!1,hasEpsFileSize:!1,istockCollection:"",keywords:[],licenseType:"",mediaType:"",sizes:[],standardLicense:{license_type:"",description:"",credit_cost:Number.MAX_VALUE,is_purchase_required:!0,acquired:!1,is_acquired_and_not_repurchasable:!1,is_selected:!1},isIstockExclusive:!1,localizedCaption:null,mainImageUrl:"",defaultMainImageURL:"",zoomedImageUrl:"",thumbUrl:"",isEditorialUseOnly:!1,exclusiveContent:"",isHidden:!1,isIllustration:!1,isImage:!1,isFilm:!1,isEssentialImage:!1,isVector:!1},agreements:[],subscription:null,licenses:[],calc:{step:{name:v.PICK_PAYMENT_OPTION,viewLicenseSelection:!1,showFileTypeDropdown:!1,showPricingClarity:null,redownloadSection:null,showCreditCost:null,title:null},assetIsIllustration:!1,assetIsImage:!1,assetIsVideo:!1,assetCollectionName:"",assetCollectionIsSignature:!1,buyAndBurnDownload:!1,localePhoneNumber:void 0,redownloadForFree:!1,isFreeAdminDownload:!1,teamCreditsAvailable:0,includedWithSubscription:void 0,selectedAccount:void 0,selectedAccountCredits:0,selectedAccountHasAnyCredits:!1,selectedAccountHasEnoughCredits:!1,selectedAgreement:void 0,selectedAgreementType:void 0,selectedAgreementSize:void 0,selectedAssetSize:{},largestSizeAvailable:{},userIsTeamUser:!1,isTeamAccountSelected:!1,totalCreditCost:Number.MAX_VALUE,isInPricingClarity:!1,ctaInProgress:!1,showDropboxModal:void 0,showIncentivizationModal:void 0,hasSubscription:!1,isSubscriptionDownloadAllowed:!1,optionalLicenseIndexes:[],hasSelectedOptionalLicenses:!1,notAcquiredSelectedLicenses:[],hasAvailableCredits:!1},buyCardData:{},categories:{categoriesView:{ftlpCategory:"",parentKeywordCategory:"",matchingInspirePages:""}},downloadData:null,displayError:null,editable:!1,keywordsView:{},metaTags:{seoAlt:"",seoImageTitle:"",seoFilmAlt:"",seoFigCaption:""},redirectToUrl:null,postDownloadOnboarding:!1,mobileSimplification:!1,showVideoPnp:!1,searchPhrase:null,searchScope:null});var H=function(e){if(void 0===e&&(e={}),e.subscription){var t=e.subscription.sku;if(e.subscription.status===p.paused)switch(((e.calc||{}).step||{}).name){case v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case v.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:!function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Dismiss",account_selection:window.tracking_data.page_name,sku:e,ui_element_location:"adp_subscription_paused_message"})}(t)}}},Y=function(e){return{type:y.SET_SELECTED_ACCOUNT,selectedAccountName:e}},K=function(){return{type:y.GO_TO_NEXT_STEP}},Z="RoyaltyFreeSubscription",q="CreditPack",X="EasyAccess",Q={ROYALTY_FREE_SUBSCRIPTION:Z,CREDIT_PACK:q,EASY_ACCESS:X,ALL:[Z,q,X]},J=n(54179),ee={categoriesLink:function(e){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_Category_Link_Click",adp_selection:e})},singleDownload:function(e,t){return e&&(tracking_data.payment_source=e),t&&(tracking_data.extended_licenses=t,tracking_data.ui_element_location="extended_license"),null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("download",{download_payment_source:tracking_data.payment_source,download_type:tracking_data.download_type,products_string:tracking_data.products_string,downloaded_items:[{asset_family:null!=tracking_data.asset_details?tracking_data.asset_details.asset_family:void 0,asset_id:null!=tracking_data.asset_details?tracking_data.asset_details.asset_id:void 0,asset_size:null!=tracking_data.asset_details?tracking_data.asset_details.asset_size:void 0,asset_type:null!=tracking_data.asset_details?tracking_data.asset_details.asset_type:void 0,asset_usage:null!=tracking_data.asset_details?tracking_data.asset_details.asset_usage:void 0,date_submitted:null!=tracking_data.asset_details?tracking_data.asset_details.date_submitted:void 0,collection_code:null!=tracking_data.asset_details?tracking_data.asset_details.collection_code:void 0,istock_collection:null!=tracking_data.asset_details?tracking_data.asset_details.istock_collection:void 0,license_type:null!=tracking_data.asset_details?tracking_data.asset_details.license_type:void 0,media_type:null!=tracking_data.asset_details?tracking_data.asset_details.media_type:void 0,quality:null!=tracking_data.asset_details?tracking_data.asset_details.quality:void 0,release_info:null!=tracking_data.asset_details?tracking_data.asset_details.release_info:void 0}]}),delete tracking_data.asset_details.asset_size}},te=function(e,t){var n=function(e){return e.asset.freeFile?"free_download":e.calc.buyAndBurnDownload?"credits":e.calc.redownloadForFree?"redownload":e.calc.selectedAgreementType===Q.CREDIT_PACK?"credits":e.calc.selectedAgreementType===Q.ROYALTY_FREE_SUBSCRIPTION?"subscription":null}(e),i=(0,J.Z)({asset_details:tracking_data.asset_details,download_method:n,is_eps:t});return(0,_.r)(i),ee.singleDownload(n,function(e){return e.calc.hasSelectedOptionalLicenses?e.licenses.filter((function(e){return e.is_selected&&"Standard"!==e.license_type})).map((function(e){return e.license_type})).toArray():null}(e))},ne=function(e){return void 0===e&&(e=null),{type:y.SET_DISPLAY_ERROR,message:e}},ie=function(e){return{type:y.REDIRECT_TO_URL,url:e}},ae=function(e){return{type:y.SET_BUY_AND_BURN_DOWNLOAD,buyAndBurnDownload:e}},re=n(82056),se=function(e){return e.selectedAgreementType===Q.CREDIT_PACK&&e.hasSelectedOptionalLicenses?e.notAcquiredSelectedLicenses:null},oe=function(e){try{!function t(n){if(!(n>=e.length)){var i=e[n],a=i.includes(".png")?"BackgroundRemoved.png":"Original.jpeg",r=document.createElement("a");r.href=i,r.download=a,(document.body||document.documentElement).appendChild(r),r.click(),r.parentNode.removeChild(r),setTimeout((function(){t(n+1)}),5e3)}}(0)}catch(e){(0,re.r$)(e)}},ce=function(e,t,n,i,a,r){return function(s,o){var c,l,d=o(),u=d.asset,_=d.calc,p="image/eps"===(null==(c=_.selectedAgreementSize)?void 0:c.content_type);return I().post("/downloads/create-download",{data:{asset:{asset_id:u.assetId,asset_type:u.assetType,asset_collection:u.istockCollection},tokens:[_.selectedAgreementSize.download_token],licenses:null==(l=se(_))?void 0:l.toJS(),korrelation_id:e,credit_share:_.isTeamAccountSelected,modifications_visual_id:i&&a,use_asset_modification_url:i&&r}}).then((function(e){s(function(e){return{type:y.SET_DOWNLOAD_DATA,downloadData:e}}(e.data));var t=o(),i=t.downloadData,a=!1,r=(null==i?void 0:i.data).modifications_url;return n||!i.hasDownloadDestinations||r?"complete"===document.readyState?r?oe([r,i.downloadDestinationUrl]):window.location.href=i.downloadDestinationUrl:window.addEventListener("load",(function(){r?oe([r,i.downloadDestinationUrl]):window.location.href=i.downloadDestinationUrl})):a=i.dropboxEnabled,te(t,p),s(function(e,t){return{type:y.SET_TOASTER,forceDownload:e,dropboxEnabled:t}}(n,a)),t.calc.buyAndBurnDownload?s(ae(!1)):t.calc.redownloadForFree?s(function(e){return{type:y.GO_TO_COMPLETE_REDOWNLOAD,dropboxEnabled:e}}(a)):void s(function(e){return{type:y.GO_TO_COMPLETE_DOWNLOAD,dropboxEnabled:e}}(a))})).catch((function(e,n){403===e.status&&s(ie(t)),s(ne("download_failed"))}))}},le={PERSONAL:"personalAccount",TEAM:"teamAccount"},de=n(23967),ue=function(e){return void 0===e&&(e=document.referrer),null!=function(e){var t=new de.default,n=t.normalizeUrl(e)[1];return t.parseQuery(n)[0]}(e).phrase?window.giLocalStorage.setItem("spectrum.downloadAssetId",window.tracking_data.asset_details.asset_id):window.giLocalStorage.getItem("spectrum.downloadAssetId")!==window.tracking_data.asset_details.asset_id&&window.giLocalStorage.removeItem("spectrum.downloadAssetId"),{type:y.SET_SPECTRUM_DOWNLOADED_ASSET_ID}};var _e=function(){return function(e,t){if(t().userDetails.authenticated)return I().get("/downloads/subscription",{headers:{Accept:"application/json"}}).then((function(t){return e({subscription:t.data,type:y.LOAD_SUBSCRIPTION}),Promise.resolve(!0)})).catch((function(e){}))}},pe=function(e){return{type:y.SET_AGREEMENTS,agreements:e}},fe=function(){return function(e,t){var n=t(),i=n.agreements,a=n.asset;return 0!==i.size?Promise.resolve(!0):t().userDetails.authenticated?I().get("/downloads/asset-agreements/"+a.assetId,{headers:{Accept:"application/json"}}).then((function(t){return e(pe((null!=t.data?t.data.agreements:void 0)||[])),e(_e()),Promise.resolve(!0)})).catch((function(t){return e(pe([])),e(_e()),Promise.resolve(!1)})):(e(pe([])),e(_e()),Promise.resolve(!1))}},me=function(){return function(e){return I().get("/downloads/download-agreements-overview",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data,{type:y.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED,agreementOverview:n}));var n})).catch((function(t){return e(ne("download_failed"))}))}},he=function(){return function(e){return I().get("/downloads/customer/credit-balances",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data.personal_credits,i=t.data.team_credits,{type:y.SET_AVAILABLE_CREDITS,personalCredits:n,teamCredits:i}));var n,i})).catch((function(t){return e(ne("download_failed"))}))}},ve=function(){return function(e,t){if(e({type:y.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD}),!t().redirectToUrl)return e(ue()),t().userDetails.team_member||e(Y(le.PERSONAL)),e(fe()).then((function(n){return e(he()).then((function(){return t().calc.isFreeAdminDownload?e({type:y.GO_TO_FREE_ADMIN_DOWNLOAD}):e(me()).then((function(){if(!t().redirectToUrl)return e(K())}))}))})).catch((function(t){return e(ne("download_failed"))}))}},ge=function(e){return{type:y.SET_LICENSES,licenses:e}},we=function(e,t){return function(n,i){var a=i().licenses.toJS();return a.size>1?n(ge(a)):I().get(window.siteMap.cleanRelativePath("/asset-detail/"+e.assetId+"/licenses"),{params:{asset_type:e.assetType,allowed_use_code_key:e.allowedUseCodeKey,istock_collection:e.istockCollection,credit_share:t},headers:{Accept:"application/json"}}).then((function(e){var t=e.data||[];n(ge(t)),n({type:y.SET_CTA_IN_PROGRESS,inProgress:!1})})).catch((function(e){return n(ne("can_not_get_extended_licenses"))}))}},ye=function(){return function(e,t){return e(fe()).then((function(){if(function(e){return e.userDetails.team_member&&e.userDetails.has_purchase_history&&!e.calc.selectedAccount}(t()))return e(he()).then((function(){return e({type:y.SELECT_ACCOUNT_STEP,nextStepIsToDownloadWithLicenseSelection:!0})}));var n=t();e(we(n.asset,n.calc.isTeamAccountSelected))})).catch((function(t){e(ne("download_failed"))}))}},be=function(){return function(e,t){return e(ye()).then((function(){return e({type:y.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP})}))}},Se={initializeDataStep:function(e,t,n,i,a,r,s,o,c,l,d,u,_,p,f){return void 0===r&&(r={}),void 0===s&&(s={}),void 0===c&&(c={}),void 0===l&&(l={}),{type:y.INITIALIZE,asset:e,userDetails:t,preferredDownloadSize:n,preferredEpsDownloadSize:i,localePhoneNumber:a,buyCardData:r,categories:s,editable:o,keywordsView:c,metaTags:l,mobileSimplification:d,showVideoPnp:u,searchPhrase:_,searchScope:p,hasAvailableCredits:f}},cancelDownload:function(){return{type:y.CANCEL_AND_BACK_TO_BEGINING}},closeDownloadErrorMessage:function(){return function(e,t){H(t()),e({type:y.CANCEL_AND_BACK_TO_BEGINING})}},closeLicensePicker:function(){return{type:y.CANCEL_AND_BACK_TO_BEGINING}},selectAssetSize:function(e){return{type:y.SELECT_ASSET_SIZE,assetSize:e}},setCtaInProgress:function(e){return{type:y.SET_CTA_IN_PROGRESS,inProgress:e}},checkLicense:function(e){return{type:y.CHECK_LICENSE,licenseIndex:e}},selectPricingClarityOptionToggle:function(e){return{type:y.SELECT_PRICING_CLARITY_OPTION_TOGGLE,pricingOptionSelected:e}},setSelectedAgreementType:function(e){return{type:y.SELECT_AGREEMENT_TYPE,agreementType:e}},setRedirectUrl:function(e){return{type:y.REDIRECT_TO_URL,url:e}},goToInitialLoad:function(){return function(e,t){return e(fe()).then((function(t){return e({type:y.GO_TO_BEGINNING})})).catch((function(e){}))}},goToNextStep:K,setSelectedAccount:Y,initiateDownload:ve,pickOptionalLicenses:ye,performDownload:ce,goToInitiateDownloadAndSelectLicensesStep:be,showPostDownloadOnboarding:function(){return{type:y.SHOW_POST_DOWNLOAD_ONBOARDING}},hidePostDownloadOnboarding:function(){return{type:y.HIDE_POST_DOWNLOAD_ONBOARDING}}},Ee=Se,Te=n(72739);var xe=function(e,t){if(void 0===e&&(e=null),t.type===y.LOAD_SUBSCRIPTION)e=G.fromJS(t.subscription);return e},Ie=new Map;Ie.set(y.SHOW_POST_DOWNLOAD_ONBOARDING,!0),Ie.set(y.HIDE_POST_DOWNLOAD_ONBOARDING,!1);var Ce=function(e,t){var n;return null!=(n=Ie.get(t.type))?n:e},Ne=function(e,t){return e=e.set("displayError",t.message)},Oe=function(e,t){return e=e.setIn(["calc","ctaInProgress"],t.inProgress)},Ae=function(e,t){var n,i,a,r;return e=e.mergeIn(["calc"],{showDropboxModal:(n=t,i=n.forceDownload,a=n.dropboxEnabled,r=null!=giLocalStorage.getItem("dropboxOptOut"),!i&&!a&&!r)})},ke=function(e){return e.calc.optionalLicenseIndexes.map((function(t){return e.licenses.get(t)}))},De=function(e){return ke(e).reduce((function(e,t){return e||t.is_selected}),!1)},je=function(e){var t=Re(e),n=null!=e.calc.selectedAssetSize?e.calc.selectedAssetSize.get(t):void 0;return n?Pe(n):Le},Pe=function(e){var t=new RegExp("^"+e+"$","i");return function(e,n){return n.reduce((function(n,i){return n||null!=(null!=e[i]?e[i].match(t):void 0)}),!1)}},Le=function(){return!1},Re=function(e){return e.calc.assetIsImage||e.calc.assetIsIllustration?"teeShirtSize":e.calc.assetIsVideo?"name":null},Fe=function(e){var t=[];return e.calc.assetIsImage&&t.push("tee_shirt_size"),(e.calc.assetIsIllustration||e.calc.assetIsVideo)&&t.push("teams_size"),t},Me=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return e.is_free&&n(e,t)}))},Ue=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return n(e,t)}))},Be=function(e){var t;return e.calc.redownloadForFree&&!De(e)?t=function(e){var t=je(e),n=Fe(e),i=e.agreements.filter((function(e){return e.type===Q.ROYALTY_FREE_SUBSCRIPTION})),a=Me(i,n,t);if(!a){var r=e.agreements.filter((function(e){return e.type===Q.CREDIT_PACK}));a=Me(r,n,t)}return a}(e)||e.calc.selectedAgreementSize:e.calc.isFreeAdminDownload?t=function(e){var t=je(e),n=Fe(e),i=e.agreements.filter((function(e){return e.type===Q.EASY_ACCESS}));return Ue(i,n,t)}(e)||e.calc.selectedAgreementSize:e.calc.selectedAgreement&&(t=function(e){var t=je(e),n=Fe(e);return e.calc.selectedAgreement.authorized_sizes.find((function(e){return t(e,n)}))}(e)),e=e.setIn(["calc","selectedAgreementSize"],t)},ze=function(e){var t,n=e.find((function(e){return e.type===Q.CREDIT_PACK&&e.agreement_details.is_credit_share}));return(null==n||null==(t=n.agreement_details)?void 0:t.available_credits)||0},We=function(e){return e.some((function(e){return e.agreement_details.available_credits>0}))},Ge=function(e){return!!e.find((function(e){return e.authorized_sizes.find((function(e){return e.is_free}))}))},Ve=function(e,t){return e.some((function(e){return e.type===t}))},He=function(e,t){var n=t.agreements||e.agreements||[];return e=(e=e.set("agreements",G.fromJS(n))).mergeIn(["calc"],{includedWithSubscription:Ve(n,Q.ROYALTY_FREE_SUBSCRIPTION),redownloadForFree:!e.asset.freeFile&&Ge(n),isFreeAdminDownload:Ve(n,Q.EASY_ACCESS),teamCreditsAvailable:ze(n),hasAvailableCredits:We(n)}),e=Be(e)},Ye=function(e,t){if(!t)return null;var n=new RegExp("^"+t+"$","i");return e.find((function(e){return null!=e.teeShirtSize?e.teeShirtSize.match(n):void 0}))},Ke=function(e,t){var n=t.assetSize,i=n;return!n&&e.calc.assetIsImage&&(i=function(e,t){var n,i=e.sizes;if(e.hasEpsFileSize)return Ye(i,t.preferredEpsDownloadSize)||i.get(e.epsFileSizeIndex);if(null!=(n=i.last())&&n.epsUnavailable){var a=i.pop();return Ye(i,t.preferredDownloadSize)||a.last()}return Ye(i,t.preferredDownloadSize)||i.last()}(e.asset,t)),e=e.setIn(["calc","selectedAssetSize"],i),e=Be(e)},Ze=function(e,t){var n=e.calc.totalCreditCost<=e.calc.selectedAccountCredits;return e=e.setIn(["calc","selectedAccountHasEnoughCredits"],n)},qe=function(e){return function(e){return e.asset.freeFile?e.agreements.find((function(e){return e.type===Q.CREDIT_PACK})):null}(e)||function(e){return e.agreements.find((function(t){return t.type===e.calc.selectedAgreementType&&(function(e,t){return function(e){return!!e.agreement_details.is_credit_share}(t)===e.calc.isTeamAccountSelected||function(e){return!!e.agreement_details.is_shared_subscription}(t)===e.calc.isTeamAccountSelected}(e,t)||e.userDetails.team_leader)}))}(e)},Xe=function(e,t){return e=e.setIn(["calc","selectedAgreement"],qe(e)),e=Be(e)},Qe=function(e,t){var n=(null!=t?t.agreementType:void 0)||e.calc.selectedAgreementType;return e=e.setIn(["calc","selectedAgreementType"],function(e,t){return t===Q.ROYALTY_FREE_SUBSCRIPTION?e.calc.step.subsAvailable:t===Q.CREDIT_PACK&&e.calc.step.creditsAvailable}(e,n)?n:null),e=Xe(e)},Je=function(e,t){void 0===t&&(t=void 0);var n=null!=t?t.selectedAccountName:void 0,i=null,a=n===le.TEAM||!!e.userDetails.team_leader;return a?i=e.calc.teamCreditsAvailable:n===le.PERSONAL&&(i=e.userDetails.credit_amount),e=e.mergeIn(["calc"],{selectedAccount:n,selectedAccountCredits:i,selectedAccountHasAnyCredits:i>0,isTeamAccountSelected:a}),e=function(e){var t;return e.calc.isTeamAccountSelected&&e.calc.selectedAccountHasEnoughCredits&&(t=Q.CREDIT_PACK),!e.calc.isTeamAccountSelected&&e.calc.isSubscriptionDownloadAllowed&&e.calc.userIsTeamUser&&(t=Q.ROYALTY_FREE_SUBSCRIPTION),Qe(e,{agreementType:t})}(e=Ze(e))},$e=function(e,t){var n,i=t.downloadData,a=i.single_downloads&&i.single_downloads[0]?i.single_downloads[0].url:null,r=!!(i.download_destinations&&i.download_destinations[0]&&i.download_destinations[0].token);return e=e.set("downloadData",G.fromJS({data:i,hasDownloadDestinations:(null==(n=i.download_destinations)?void 0:n.length)>0,downloadDestinationUrl:a,dropboxEnabled:r}))},et=function(e){return function(){if("undefined"==typeof s||null===s)return!1;var t=$.siteCatalyst.pageTrackingVariables(),n=$.extend({},t);n.eVar77=!0,s.linkTrackVars=$.map(n,(function(e,t){return t})).join(","),s.linkTrackEvents="event197",s.events="event197",s.eVar77=e===le.PERSONAL?"MyAccount":"SharedCreditAccount",s.tl(!0,"o","Choose Account")}},tt={title:null,ctaClass:"",ctaTitle:null,ctaAction:"",showPricingClarity:!1,reasonForBox:"",creditsAvailable:!0,subsAvailable:!0,selectedAccount:void 0,viewLicenseSelection:!1},nt=function(e,t){for(var n=function(e){return e.calc.step.showSubTypeMessage}(e)&&!function(e){return e.calc.step.selectedAccount===le.TEAM}(e),i=arguments.length,a=new Array(i>2?i-2:0),r=2;r<i;r++)a[r-2]=arguments[r];var s=Object.assign.apply(Object,[{},tt,t,{showSubTypeMessage:n}].concat(Array.from(a))),o=G.fromJS(s);return e=e.setIn(["calc","step"],o),e=Qe(e,{agreementType:e.calc.selectedAgreementType||o.selectedAgreementType})},it=function(e,t){void 0===t&&(t={});return e=nt(e,{name:v.CHOOSE_ACCOUNT,title:e.calc.assetCollectionName+"_collection",ctaTitle:"choose_account",ctaClass:"primary-cta",selectedAccount:le.TEAM,ctaAction:t.nextStepIsToDownloadWithLicenseSelection?"goToInitiateDownloadAndSelectLicensesStep":"handleAccountSelection",showAccountChoices:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerTracking:et(e.calc.selectedAccount)}),e=Je(e,{selectedAccountName:e.calc.step.selectedAccount})},at=function(e){return Je(e,void 0)},rt=function(e,t){return e+t.credit_cost},st=function(e){return e.reduce(rt,0)},ot=function(e){var t=function(e){return e.licenses.filter((function(e){return e.is_selected&&!e.is_acquired_and_not_repurchasable}))}(e);return e=e.mergeIn(["calc"],{totalCreditCost:st(t),notAcquiredSelectedLicenses:t}),e=Ze(e)},ct=function(e){var t=e.licenses.withMutations((function(t){return e.calc.optionalLicenseIndexes.forEach((function(e){return t.setIn([e,"is_selected"],!1)}))}));return e=(e=e.set("licenses",t)).setIn(["calc","hasSelectedOptionalLicenses"],!1),e=(e=ot(e)).setIn(["calc","step","viewLicenseSelection"],!1)},lt=function(e){return void 0===e&&(e={}),function(){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",Object.assign({adp_interaction:e.adp_interaction||"ADP_Download_Button_Click",adp_selection:e.adp_selection,sku:e.sku,download_payment_source:e.download_payment_source,ui_element_location:e.ui_element_location},e.asset_size&&{asset_size:e.asset_size},{purchase_type:e.purchase_type}))}},dt=function(e){return"pricing"===e?"PnP_Checkout_Option":"checkoutSmarterFastCheckoutLastPurchase"===e||"checkoutSmarterFastCheckoutLargestPurchase"===e?"Smarter_Fast_Checkout_Option":"Fast_Checkout_Option"},ut=function(e){return"checkoutSmarterFastCheckoutLastPurchase"===e||"checkoutSmarterFastCheckoutLargestPurchase"===e?"smarter_fast_checkout":""},_t=function(e,t){switch(e){case"checkoutSmarterFastCheckoutLastPurchase":return t.userDetails.istock_smarter_fast_checkout_last_purchase_sku;case"checkoutSmarterFastCheckoutLargestPurchase":return t.userDetails.istock_smarter_fast_checkout_largest_purchase_sku;case"checkoutLargerCreditPack":return ft(t.userDetails);case"checkoutSubscription":return t.userDetails.fast_checkout_subs_pack_sku;case"checkoutWithAnnualMonthlyToggleOption":return t.userDetails.fast_checkout_subs_annual_pack_sku;default:return pt(t.asset)}},pt=function(e){return e.standardLicense.minimum_sku},ft=function(e){return e.istock_fast_checkout_larger_offer_credit_pack_sku},mt=function(e,t){return"checkout"===e?function(e,t){return function(e){return"film"==e.assetType}(t)?"adp_continue_to_checkout_button_single_clip_credit_pack_option":"checkoutLargerCreditPack"===e?"adp_continue_to_checkout_button_multi_credit_pack_option":"adp_continue_to_checkout_button-single_image_option"}(e,t):"pricing"===e?"adp_buy_card_view_plans_option":"checkoutSubscription"===e||"checkoutWithAnnualMonthlyToggleOption"===e||"checkoutLargerCreditPack"===e?function(e){return"checkoutLargerCreditPack"===e?"adp_continue_to_checkout_button_multi_clip_credit_pack_option":"adp_continue_to_checkout_button-subscription_option"}(e):"checkoutSmarterFastCheckoutLastPurchase"===e?"first_radio-last_purchased":"checkoutSmarterFastCheckoutLargestPurchase"===e?"second_radio-largest_purchased":void 0},ht=function(e,t){var n={sku:e.standardLicense.minimum_sku,adp_selection:"No_Checkout_Option",ui_element_location:"adp_buy_card_paid_download_start_cta",asset_size:null==t?void 0:t.name};return e.freeFile&&(n.ui_element_location="adp_buy_card_free_download_start_cta"),n},vt=function(e,t){return{adp_interaction:"ADP_PnP_Button_Click",sku:e.standardLicense.minimum_sku,adp_selection:"Buy_Credits",ui_element_location:"adp_buy_card_download_error_"+t}},gt=function(e,t){var n={sku:e.standardLicense.minimum_sku,adp_selection:"Download_Confirm",ui_element_location:t?"adp_extended_license_download_confirm_cta":"adp_buy_card_download_confirm_cta"};return e.freeFile&&(n.download_payment_source="free_download"),n},wt=function(e){var t=gt(e);return t.download_payment_source="redownload",t},yt=function(e,t){return{sku:_t(e,t),adp_selection:dt(e),ui_element_location:mt(e,t.asset),purchase_type:ut(e)}},bt=function(e){return{adp_selection:"ADP_Subscribe_Button_Option",ui_element_location:"adp_buy_card_download_error_insufficent_credits",sku:e.standardLicense.minimum_sku}},St=function(e){return{adp_selection:"Upgrade_to_Premium_Plus_Video_Sub",ui_element_location:"adp_buy_card_download_error_asset_unavailable_with_plan",sku:e.standardLicense.minimum_sku}},Et=function(e){return e.userDetails.premium_video_subscription_enabled},Tt=function(e){var t;return null==(t=e.subscription)?void 0:t.include_video},xt=function(e){return"TestA"===e.userDetails.credit_pack_price_test_offer},It=function(e){return"TestB"===e.userDetails.credit_pack_price_test_offer},Ct=function(e){return Et(e)?Ot():Nt(e)},Nt=function(e){return e.calc.hasSelectedOptionalLicenses&&jt(e.userDetails.country_code)?'redirectToPricing({inGeoLocPricingTest: "'+jt(e.userDetails.country_code)+'"})':"redirectToPricing"},Ot=function(){return"redirectToCreditPacks"},At=function(e){return!e.userDetails.has_purchase_history&&(t=e.userDetails.country_code,void 0===(n=["BRA"])&&(n=["AUT","BEL","BRA","DEU","IRL","NLD","CHE"]),n.includes(t)||Dt(e));var t,n},kt=function(e){return e.userDetails.smarter_fast_checkout_active},Dt=function(e){return jt(e.userDetails.country_code)||Pt(e)||Lt(e)},jt=function(e){return function(e){return["PER","IDN","COL"].includes(e)}(e)||function(e){return["RUS","THA","IND"].includes(e)}(e)||function(e){return["VNM","TUR","CHL","ARG","NGA","MYS","UKR"].includes(e)}(e)},Pt=function(e){return e.userDetails.fast_checkout_sub||e.userDetails.fast_checkout_sub_savings},Lt=function(e){return e.userDetails.pricing_clarity_flow&&e.calc.assetIsVideo},Rt={buildInsufficientCreditsHtmlTranslation:function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i=e.userDetails.istock_asset_credit_cost,a={zero:"<strong>",one:"</strong>",two:"<strong>",three:"</strong>",credit_cost:t,greaterthan1_credit_balance:n,credit_amount:i};return{tag:(e.calc.assetIsVideo?"video_":"image_")+(1===t?"insf_one_credit_cost":1===n?"insf_one_credit":"insf_credits"),translationVariables:a}},defaultCtaTitle:function(e){return e.asset.freeFile?"free_download_cta":At(e)||kt(e)?"continue_to_checkout":e.calc.assetIsVideo?"download_this_video_clip":"download_this_image"},buildConfirmDownloadPaidByCreditsStep:function(e,t){void 0===t&&(t=!1);return{name:"PLACEHOLDER",title:null,ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",showCreditCost:!0,confirmSection:!e.calc.step.viewLicenseSelection,selectedAgreementType:Q.CREDIT_PACK,isConfirmationState:!0,subsAvailable:!0,triggerTracking:function(){var n=e.userDetails.team_leader,i=e.calc.userIsTeamUser,a=e.userDetails.team_member&&e.calc.isTeamAccountSelected;return i&&!n&&(window.tracking_data.download_with_team_credits=a),lt(gt(e.asset,t))()}}},buildMustBuyStep:function(e){var t=xt(e),n=It(e),i=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,r="buy_credits";return(t||n)&&(r="continue_to_checkout"),{name:"PLACEHOLDER_BUY_CREDITS_NAME",ctaTitle:r,ctaClass:"primary-cta",ctaAction:e.calc.assetIsVideo&&(t||n)?"redirectToFastCheckout":Ct(e),ctaTranslationVariables:{credit_cost:i,selected_credits:a}}},buildStepDetailsToShowDownloadChoices:function(e){var t=(Tt(e)?"premium_video":function(e){var t,n;return null==(t=e.subscription)||null==(n=t.sku)?void 0:n.includes("PREM")}(e)?"premium":"basic")+"_subscription";return{showDownloadChoices:!0,showSubscriptionField:e.calc.selectedAccount===le.PERSONAL&&e.calc.hasSubscription,subTitleTranslation:t,subDownloadsTranslationValue:e.userDetails.subsInfo.downloadsRemaining}},hasPremiumVideoSub:Tt,isUsingTeamAccount:function(e){return e.userDetails.team_member&&e.calc.isTeamAccountSelected},inGeoLocPricingTest:jt,inFastCheckoutSub:Pt,smarterFasterCheckoutActive:kt,inVideoPricingClarityTest:Lt,inVideoPricingClarityPremiumVideoSub:function(e){return e.userDetails.pricing_clarity_flow&&e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow},premiumVideoEnabled:Et,selfServeUpgradeEnabled:function(e){return e.userDetails.self_serve_upgrade_enabled},ctaPricingActionData:Ct,ctaActionForIntiateDownload:function(){return"initiateDownload"},inMobileSimplification:function(e){return e.mobileSimplification},isPricingClarityDurationToggleDefaultAnnual:function(e){return e.userDetails.is_annual_monthly_toggle_annual_active},isUserInTestA:xt,isUserInTestB:It},Ft=Rt.ctaActionForIntiateDownload,Mt=Rt.defaultCtaTitle,Ut=function(e){return nt(e,{name:v.PICK_PAYMENT_OPTION,title:e.calc.assetCollectionName+"_collection",ctaClass:"super-cta",ctaTitle:Mt(e),ctaAction:Ft(e),showTshirtSizes:!0,confirmSection:!1,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,triggerTracking:function(){lt(ht(e.asset,e.calc.selectedAssetSize))()}},function(e){var t=e.calc.includedWithSubscription;return{showSubTypeMessage:t,showFileTypeDropdown:e.calc.assetIsVideo,showCreditCost:!t}}(e))},Bt=function(e,t){void 0===t&&(t={});var n=e.asset;return nt(e,{name:v.REDOWNLOAD_FOR_FREE,title:"previously_downloaded",ctaClass:"primary-cta",ctaTitle:"re-download_for_free",ctaAction:"createDownload",lightBlueWarning:!0,showTshirtSizes:!0,showFileTypeDropdown:!0,confirmSection:!1,persistentWarning:!0,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,reasonForBox:n.isIllustration?"download_no_charge_illustration":n.isFilm?"download_no_charge_video":"download_no_charge_photo",warningBox:!0,triggerTracking:lt(wt(e.asset))})},zt=Rt.inVideoPricingClarityPremiumVideoSub,Wt=Rt.inMobileSimplification,Gt=Rt.inVideoPricingClarityTest,Vt=Rt.inFastCheckoutSub,Ht=Rt.smarterFasterCheckoutActive,Yt=Rt.inGeoLocPricingTest,Kt=Rt.defaultCtaTitle,Zt=Rt.isPricingClarityDurationToggleDefaultAnnual,qt=v.PICK_PRICING_CLARITY_PAYMENT_OPTION,Xt="checkout",Qt="checkoutSmarterFastCheckoutLastPurchase",Jt="checkoutWithAnnualMonthlyToggleOption",$t="checkoutSubscription",en=["DEU","BRA"],tn=function(e){switch(!0){case Wt(e):return Xt;case Ht(e):return Qt;case zt(e):case Vt(e):return Zt(e)?Jt:$t;case Yt(e.userDetails.country_code):case en.includes(e.userDetails.country_code):return Xt;default:return"pricing"}},nn=function(e,t){return e.calc.step.name!==qt?tn(e):function(e,t){return t||tn(e)}(e,t.pricingOptionSelected)},an=function(e){return'redirectToCheckout({cartItem: "'+(1===e.asset.standardLicense.credit_cost?"oneCredit":"moreThanOneCredit")+'"})'},rn=function(e){return Vt(e)||Gt(e)||Ht(e)?"super-cta super-cta--full-width":"super-cta"},sn=function(e,t){var n=nn(e,t),i=function(e,t){switch(t){case Xt:return{ctaTitle:Kt(e),ctaAction:an(e)};case Qt:return{ctaTitle:Kt(e),ctaAction:"redirectToSmarterFastLastPurchaseCheckout()"};case"checkoutSmarterFastCheckoutLargestPurchase":return{ctaTitle:Kt(e),ctaAction:"redirectToSmarterFastLargestPurchaseCheckout()"};case"checkoutLargerCreditPack":return{ctaTitle:Kt(e),ctaAction:"redirectToCheckout()"};case $t:return{ctaTitle:Kt(e),ctaAction:"redirectToFastCheckoutWithSubscription()"};case Jt:return{ctaTitle:Kt(e),ctaAction:"redirectToFastCheckoutWithAnnualPack()"};default:return{ctaTitle:"download_method",ctaAction:"redirectToPricing()"}}}(e,n);return nt(e,{name:qt,title:e.calc.assetCollectionName+"_collection",ctaClass:rn(e),ctaTitle:i.ctaTitle,ctaAction:i.ctaAction,showPricingClarity:!0,showCreditCost:!0,showFileTypeDropdown:e.calc.assetIsVideo,pricingOption:n,viewLicenseSelection:e.calc.step.viewLicenseSelection,triggerTracking:lt(yt(n,e))})},on=function(e,t){return void 0===t&&(t={}),((e=e.setIn(["calc","isInPricingClarity"],function(e){return e.userDetails.pricing_clarity_flow}(e))).calc.isInPricingClarity||Ht(e))&&(e=sn(e,t)),e},cn=function(e){return e=at(e),e=ct(e),(e=on(e)).calc.isInPricingClarity||e.userDetails.smarter_fast_checkout_active||(e=Ut(e)),e.calc.redownloadForFree&&(e=Bt(e)),e},ln=function(e){if(e.calc.step.name===v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION||e.calc.step.name===v.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS){var t,n,i,a;e.subscription&&(t=e.subscription.sku,n=e.subscription.status);var r=window.tracking_data.page_name;switch(n){case"Suspended":e.subscription.can_unsuspend?(i="Unsuspend_Subscription_Notification_Dismiss",a=window.tracking_data.page_name,r="adp_unsuspend_subscription_message"):(i="Subscription_Suspended_Notification_Dismiss",a="adp_subscription_suspended_message");break;case"Expired":i="Account_Subscription_Expired_Warning_Dismiss",a="adp_subscription_expired_message"}i&&a&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:i,account_selection:r,sku:t,ui_element_location:a})}},dn=function(e,t){return ln(e),e=He(e,t),e=at(e),e=ct(e),(e=on(e)).calc.isInPricingClarity||(e=Ut(e)),e.calc.redownloadForFree&&(e=Bt(e)),e},un=function(e,t){return e=e.mergeIn(["userDetails"],{credit_amount:Math.max(0,t.personalCredits||0),team_credits:Math.max(0,t.teamCredits||0)}),e=Je(e,{selectedAccountName:e.calc.selectedAccount})},_n=function(e){return e=nt(e,{name:v.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP,title:e.calc.assetCollectionName+"_collection",ctaTitle:Rt.defaultCtaTitle(e),ctaClass:"super-cta",ctaAction:Rt.ctaActionForIntiateDownload(),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:function(){lt(ht(e.asset,e.calc.selectedAssetSize))()}})},pn=function(e,t){return nt(e,{name:v.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showCreditCost:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},fn=function(e,t){return nt(e,{name:v.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},mn=function(e){var t=v.PURCHASE_AND_SELECT_LICENCES_STEP;return e=nt(e,{name:t,title:e.calc.assetCollectionName+"_collection",ctaTitle:Rt.defaultCtaTitle(e),ctaClass:"super-cta",ctaAction:Rt.ctaPricingActionData(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:function(){lt({adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:"adp_buy_card_extended_license_view_plans_and_pricing_button"})()}})},hn=function(e,t){var n=e.licenses.getIn([t.licenseIndex,"is_selected"]);return e=(e=e.setIn(["licenses",t.licenseIndex,"is_selected"],!n)).setIn(["calc","hasSelectedOptionalLicenses"],De(e)),(e=ot(e)).calc.step.viewLicenseSelection&&(e=e.calc.isInPricingClarity?mn(e):_n(e)),e},vn=function(e,t){return function(){if("undefined"==typeof s||null===s)return!1;s.linkTrackEvents+=",event198",s.events+=",event198";var n=$.siteCatalyst.pageTrackingVariables(),i=$.extend({},n);return i.eVar62=!0,s.linkTrackVars+=$.map(i,(function(e,t){return t})).join(","),e&&(s.eVar62=t?"Leader Download":"Member Download"),s.tl(!0,"o","Download Image")}},gn=function(e){return nt(e,{name:v.FREE_ADMIN_DOWNLOAD,title:"Free admin download",ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!1,selectedAgreementType:Q.EASY_ACCESS,triggerTracking:vn(e.calc.userIsTeamUser,e.userDetails.isTeamLeader)})},wn=function(e,t){var n=t.subscription.isEssentials||t.subscription.isSignature;return e=e.mergeIn(["calc"],{hasSubscription:n,isSubscriptionDownloadAllowed:n&&t.includedWithSubscription&&t.subscription.downloadsRemaining>0})},yn=function(e){var t;return e.calc.assetIsImage&&(t=function(e){var t,n=e.sizes;return e.hasEpsFileSize?n.get(e.epsFileSizeIndex):null!=(t=n.last())&&t.epsUnavailable?n.pop().last():n.last()}(e.asset)),e=e.setIn(["calc","largestSizeAvailable"],t)},bn=function(e,t){var n=t.asset,i=t.userDetails,a=t.preferredDownloadSize,r=t.preferredEpsDownloadSize,s=t.localePhoneNumber,o=t.buyCardData,c=t.categories,l=t.editable,d=t.keywordsView,u=t.metaTags,_=t.mobileSimplification,p=t.showVideoPnp,f=t.searchPhrase,m=t.searchScope,h=t.hasAvailableCredits;n.sizes=n.sizes||[];var v=(e=e.merge({asset:G.fromJS(n),buyCardData:G.fromJS(o),categories:G.fromJS(c),editable:l,keywordsView:G.fromJS(d),licenses:G.fromJS([n.standardLicense]),metaTags:G.fromJS(u),mobileSimplification:_,showVideoPnp:p,searchPhrase:f,searchScope:m,userDetails:G.fromJS(i)})).calc.withMutations((function(e){e.merge(function(e,t){return wn(W().Map({calc:W().Map()}),{subscription:t.subsInfo,includedWithSubscription:!1}).toJS().calc}(0,i));var t=R.getAssetCollectionName(n);return e.merge({assetCollectionName:R.getAssetCollectionName(n),assetCollectionIsSignature:R.isSignature(t),assetIsIllustration:"illustration"===n.mediaType,assetIsImage:"image"===n.assetType,assetIsVideo:"film"===n.assetType,localePhoneNumber:s,userIsTeamUser:i.team_member||i.team_leader,hasSubscription:e.hasSubscription,hasAvailableCredits:h})}));return e=function(e){return Je(e)}(e=e.set("calc",v)),e=ot(e),e=cn(e),e=yn(e),Ke(e,{preferredDownloadSize:a,preferredEpsDownloadSize:r})},Sn=function(e,t){return e=on(e,{togglePricingOption:!0,pricingOptionSelected:t.pricingOptionSelected})},En=function(e,t){return e=e.set("redirectToUrl",t.url)},Tn=function(e,t){var n=t.licenses||[];return e=(e=e.set("licenses",G.fromJS(n))).setIn(["calc","optionalLicenseIndexes"],G.fromJS(function(e){return e.map((function(e,t){return"Standard"!==e.license_type?t:null})).filter((function(e){return null!==e}))}(n))),e=e.setIn(["calc","hasSelectedOptionalLicenses"],De(e)),e=(e=ot(e)).calc.isInPricingClarity?mn(e):_n(e)},xn=function(e,t){return e.userDetails.authenticated||(e.asset.freeFile?e=e.set("redirectToUrl","/sign-in?returnurl="+window.location.pathname+window.location.search+"&is_video="+e.calc.assetIsVideo):(e.userDetails.remembered||e.userDetails.has_purchase_history)&&(e=e.set("redirectToUrl","/sign-in?returnurl="+window.siteMap.download_balance_check+"?url="+window.location.pathname+window.location.search+"&is_video="+e.calc.assetIsVideo))),e},In={};In[p.suspended]=function(e){var t,n;e.subscription.can_unsuspend?(t="Unsuspend_Subscription_Notification_Shown",n="adp_unsuspend_subscription_message"):(t="Subscription_Suspended_Notification_Shown",n=window.tracking_data.page_name);window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:t,account_selection:n,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})},In[p.paused]=function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Shown",account_selection:window.tracking_data.page_name,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})},In[p.expired]=function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Account_Subscription_Expired_Warning_Shown",account_selection:window.tracking_data.page_name,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})};var Cn=function(e){if(e.subscription){var t=In[e.subscription.status];t&&t(e)}},Nn=function(e){var t=e.calc.assetCollectionName+"_download";return nt(e,{name:v.SELECT_ACCOUNT_TYPE,title:t,ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:Q.ROYALTY_FREE_SUBSCRIPTION,isConfirmationState:!0,triggerTracking:function(){var t=e.userDetails.team_leader,n=e.calc.userIsTeamUser,i=e.userDetails.team_member&&e.calc.isTeamAccountSelected;return n&&!t&&(window.tracking_data.download_with_team_credits=i),lt(gt(e.asset))()}},Rt.buildStepDetailsToShowDownloadChoices(e))};var On=function(){return{tag:"contact_your_administrator"}},An=function(e){return nt(e,{name:v.TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:Rt.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,showSubTypeMessage:!1,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:On()})},kn=function(e){return nt(e,{name:v.CONFIRM_REDOWNLOAD_FOR_FREE,title:"re_download_for_free",ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!1,redownloadSection:!0,showExtendedLicenses:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,isConfirmationState:!0,triggerTracking:lt(wt(e.asset))})},Dn=function(e){return nt(e,{name:v.TEAM_ACCOUNT_OUT_OF_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:Rt.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:On()})},jn=function(e){return nt(e,{name:v.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING,title:e.calc.assetCollectionName+"_download",hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:Q.ROYALTY_FREE_SUBSCRIPTION,showCreditCost:!1,creditsAvailable:!1,ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!e.calc.step.viewLicenseSelection,isConfirmationState:!0,subsAvailable:!0,triggerTracking:lt(gt(e.asset))},Rt.buildStepDetailsToShowDownloadChoices(e))},Pn=function(e){return nt(e,{name:v.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,title:e.calc.assetCollectionName+"_download",ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!0,isConfirmationState:!0,selectedAgreementType:Q.ROYALTY_FREE_SUBSCRIPTION,triggerTracking:lt(gt(e.asset))},function(e){var t=e.calc.includedWithSubscription;return e.calc.assetIsVideo,{showSubTypeMessage:t,showCreditCost:!t}}(e))},Ln=function(e){return nt(e,Rt.buildConfirmDownloadPaidByCreditsStep(e,!0),{name:v.CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS,viewLicenseSelection:!0})},Rn=function(e){return nt(e,Rt.buildConfirmDownloadPaidByCreditsStep(e),{name:v.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS,title:void 0,focusView:!0,paymentSelect:!0})},Fn=function(e){var t=Rt.premiumVideoEnabled(e)?"image_not_available_with_subscription":"image_only_with_sig_or_credits";return nt(e,Rt.buildConfirmDownloadPaidByCreditsStep(e),{name:v.CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:e.calc.assetCollectionName+"_download",reasonForBox:t,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},Rt.buildStepDetailsToShowDownloadChoices(e))},Mn=function(e){var t=Rt.hasPremiumVideoSub(e),n="look_no_downloads_"+e.calc.assetCollectionName+(t&&e.calc.assetIsVideo?"_video":"");return nt(e,Rt.buildConfirmDownloadPaidByCreditsStep(e),{name:v.CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:e.calc.assetCollectionName+"_download",reasonForBox:n,warningBox:!0,hideDetails:!0,showDownloadChoices:!0,showCreditCost:!1,confirmSection:!1,subsAvailable:!1},Rt.buildStepDetailsToShowDownloadChoices(e))},Un="urls.plans_and_pricing_images",Bn="urls.plans_and_pricing_images_credit_pack",zn="urls.plans_and_pricing_images_subscriptions",Wn="urls.plans_and_pricing_video",Gn="urls.plans_and_pricing_videos_credit_pack",Vn="urls.plans_and_pricing_videos_subscriptions",Hn={annualSelfUpgradeRoute:"urls.plans_and_pricing_self_serve",defaultPnpRoute:"urls.plans_and_pricing_subscriptions",pnpCreditsRoute:"urls.plans_and_pricing_credit_packs",getPricingRoute:function(e){return e?Wn:Un},getCreditsPricingRoute:function(e){return e?Gn:Bn},getSubscriptionPricingRoute:function(e){return e?Vn:zn},imagePnpRoute:Un,imagePnpCreditRoute:Bn,imagePnpSubsRoute:zn,videoPnpRoute:Wn,videoPnpCreditRoute:Gn,videoPnpSubsRoute:Vn},Yn=function(e){return void 0===e&&(e={}),function(){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_PnP_Button_Click",adp_selection:e.adp_selection,sku:e.sku,ui_element_location:e.ui_element_location})}},Kn=function(e){var t=Rt.premiumVideoEnabled(e),n=Rt.selfServeUpgradeEnabled(e),i=t&&"OneYear"===e.subscription.duration,a=i?"video_not_available_with_subscription":"video_not_available_with_subscription_no_link",r=null;return i&&(r=n?Hn.annualSelfUpgradeRoute:Hn.getSubscriptionPricingRoute(e.asset.isFilm)),nt(e,Rt.buildConfirmDownloadPaidByCreditsStep(e),{name:v.CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:e.calc.assetCollectionName+"_download",warningBox:!0,reasonForBox:t?a:"video_only_with_credits",reasonForBoxLink:r,triggerTracking:Yn(St(e.asset)),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},Rt.buildStepDetailsToShowDownloadChoices(e))},Zn=function(e){return nt(e,Rt.buildConfirmDownloadPaidByCreditsStep(e),{name:v.CONFIRM_DOWNLOAD_BY_TEAM_CREDITS,title:"confirm_download_team_account",confirmSection:!0,showTshirtSizes:!1,showCreditCost:!0,showSubTypeMessage:!1,showFileTypeDropdown:!1,selectedAgreementType:Q.CREDIT_PACK,isConfirmationState:!0,selectedAccount:le.TEAM})};var qn=function(){return{tag:"view_details_cta",url:window.siteMap.cleanRelativePath("/account")}},Xn={};Xn[p.suspended]=function(e){var t="your_subscription_suspended";if(e.subscription.can_unsuspend){return{additionalInfoHtml:{tag:"please_pay_your_outstanding_balance_to_continue_using_your_subscription"},reasonForBox:t,warningMessageClass:"warning-message--can-unsuspend",warningCta:{ctaClass:"warning-cta--can-unsuspend",tag:"pay_now",url:"/purchase/subscriptions/"+e.subscription.sku+"?unsuspend=true"}}}return{additionalInfoHtml:{tag:"download_subscription_phone",translationVariables:{phoneNumber:e.calc.localePhoneNumber}},reasonForBox:t}},Xn[p.paused]=function(e){return{additionalInfoHtml:{tag:"it_will_automatically_resume_on",translationVariables:{zero:"<strong>",resumeDate:new Date(e.subscription.resumed_date).toLocaleDateString(),one:"</strong>"}},reasonForBox:"your_subscription_paused",warningCta:qn()}},Xn[p.expired]=function(e){return{additionalInfoHtml:{tag:"your_subscription_has_expired"},warningClass:"expired-message",warningCta:{url:window.siteMap.cleanRelativePath("/account"),tag:"renew_today"}}};var Qn=function(e){if(e.subscription){var t=Xn[e.subscription.status];return t?t(e):null}},Jn=function(e){var t=(e.subscription||{}).downloads_remaining||0,n=(Rt.hasPremiumVideoSub(e)?"premium_video":e.calc.assetCollectionName)+"_subscription",i=Object.assign({name:v.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS,title:e.calc.assetCollectionName+"_download",focusView:!0,paymentSelect:!0,warningBox:!0,showDownloadChoices:!0,subsAvailable:!1,showSubscriptionField:!0,showCreditCost:!1,confirmSection:!1,subTitleTranslation:n,subDownloadsTranslationValue:t},Qn(e));return nt(e,Rt.buildConfirmDownloadPaidByCreditsStep(e),i)},$n=Rt.premiumVideoEnabled,ei=Rt.hasPremiumVideoSub,ti=Rt.buildInsufficientCreditsHtmlTranslation,ni=function(e){return function(e){return e.calc.assetIsVideo&&$n(e)&&!ei(e)}(e)?function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i=ti(e);return{tag:"premium_"+i.tag,translationVariables:Object.assign({},i.translationVariables,{credit_cost:t-n})}}(e):ti(e)},ii=function(e){var t=Rt.isUserInTestA(e),n=Rt.isUserInTestB(e),i=Rt.premiumVideoEnabled(e),a=Rt.selfServeUpgradeEnabled(e),r="OneYear"===e.subscription.duration,s=a?Hn.annualSelfUpgradeRoute:Hn.getSubscriptionPricingRoute(e.asset.isFilm),o=i&&r&&{id:"upgrade-to-premium",href:s},c=i&&r?Hn.annualSelfUpgradeRoute:null,l=i?"video_not_available_with_subscription_no_link":"video_only_with_credits",d=Rt.isUsingTeamAccount(e)?On():null,u=ni(e),_=v.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION;return i&&(r||(u.tag=u.tag+"_you_can_download"),o&&(u.tag=u.tag+"_link")),nt(e,Rt.buildMustBuyStep(e),{name:_,title:e.calc.assetCollectionName+"_download",warningBox:!0,reasonForBox:l,reasonForBoxLink:c,additionalInfoHtml:u,additionalInfoHtmlLink:o,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Rt.isUsingTeamAccount(e),showCreditCost:!0,premiumVideoEnabled:i,userInTestA:t,userInTestB:n,userHasAnnualSubscription:r,warningCta:d,triggerTracking:lt(vt(e.asset,"asset_not_available_with_sub"))})},ai=function(e){var t=Rt.premiumVideoEnabled(e),n=t?"image_not_available_with_subscription":"image_only_with_sig_or_credits",i=Rt.isUsingTeamAccount(e)?On():null,a=v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS,r=ni(e);if(t){var s=e.calc.totalCreditCost,o=e.calc.selectedAccountCredits;r.tag=1==o?"premium_video_insf_one_credit_you_can_download":"premium_video_insf_credits_you_can_download",r.translationVariables=Object.assign({},r.translationVariables,{credit_cost:s-o})}return nt(e,Rt.buildMustBuyStep(e),{name:a,title:e.calc.assetCollectionName+"_collection",showCreditCost:!0,warningBox:!0,reasonForBox:n,additionalInfoHtml:r,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Rt.isUsingTeamAccount(e),warningCta:i,triggerTracking:lt(vt(e.asset,"insufficient_credits_essentials_sub"))})},ri=function(e){var t=m(e)||"blocked",n=v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION,i=Object.assign({name:n,title:e.calc.assetCollectionName+"_download",ctaTitle:"buy_credits",ctaClass:"primary-cta",ctaAction:"redirectToPricing",warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Rt.isUsingTeamAccount(e),triggerTracking:lt(vt(e.asset,t.toLowerCase()+"_sub"))},Qn(e));return nt(e,i)},si=function(e){var t=Rt.premiumVideoEnabled(e),n=e.calc.assetIsVideo;v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION;return nt(e,Rt.buildMustBuyStep(e),{name:v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,title:"you_need_credits",showExtendedLicenses:!1,warningBox:!0,showCreditCost:!0,additionalInfoHtml:ni(e),focusView:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerSubscribeTracking:Yn(bt(e.asset)),showSubscribeToPremiumVideo:t&&n,ctaClass:t&&n?"hollow-cta":"primary-cta",triggerTracking:lt(vt(e.asset,"insufficient_credits_no_sub"))})},oi=function(e){var t=Rt.isUsingTeamAccount(e)?On():null,n=v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING;return nt(e,Rt.buildMustBuyStep(e),{name:n,title:"out_of_downloads",warningBox:!0,reasonForBox:"looks_like_no_downloads",additionalInfoHtml:ni(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Rt.isUsingTeamAccount(e),warningCta:t,triggerTracking:lt(vt(e.asset,"insufficient_sub_downloads"))})},ci=function(e){var t=v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES;return nt(e,Rt.buildMustBuyStep(e),{name:t,title:"you_need_credits",warningBox:!0,showCreditCost:!0,showSubTypeMessage:!1,additionalInfoHtml:Rt.buildInsufficientCreditsHtmlTranslation(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,ctaAction:Rt.ctaPricingActionData(e),triggerTracking:function(){lt(vt(e.asset,"insufficient_credits_extended_license"))()}})},li=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&e.calc.isSubscriptionDownloadAllowed},di=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed},ui=function(e){if(!e.calc.hasSelectedOptionalLicenses){if(e.asset.freeFile)return Pn(e);if(e.calc.redownloadForFree)return kn(e)}if(e.userDetails.team_member){if(!e.userDetails.has_purchase_history)return(e=Je(e,{selectedAccountName:le.TEAM})).calc.selectedAccountHasEnoughCredits?Zn(e):Dn(e);if(!e.calc.selectedAccount)return it(e);if(e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits)return Dn(e)}return e.calc.selectedAccount||(e=Je(e,{selectedAccountName:le.PERSONAL})),e.calc.hasSelectedOptionalLicenses?e.calc.selectedAccountHasEnoughCredits?Ln(e):e.userDetails.team_member&&e.calc.isTeamAccountSelected?An(e):ci(e):h(e)?(Cn(e),e.calc.selectedAccountHasEnoughCredits?Jn(e):ri(e)):!e.calc.hasSubscription&&e.userDetails.team_member&&e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits?Dn(e):e.calc.selectedAccountHasEnoughCredits&&li(e)?Nn(e):e.calc.selectedAccountHasEnoughCredits&&di(e)?Mn(e):e.calc.selectedAccountHasAnyCredits&&!e.calc.selectedAccountHasEnoughCredits&&li(e)?jn(e):!e.calc.assetIsVideo&&e.calc.assetCollectionIsSignature&&e.userDetails.subsInfo.isEssentials?e.calc.selectedAccountHasEnoughCredits?Fn(e):ai(e):!e.calc.selectedAccountHasEnoughCredits&&di(e)?oi(e):e.calc.assetIsVideo&&e.calc.hasSubscription&&!Rt.hasPremiumVideoSub(e)?e.calc.selectedAccountHasEnoughCredits?e.calc.isTeamAccountSelected?Rn(e):Kn(e):ii(e):e.calc.hasSubscription?e.calc.selectedAccountHasEnoughCredits||li(e)?Pn(e):si(e):e.calc.selectedAccountHasEnoughCredits?Rn(e):si(e)},_i=function(e,t){return e=e.mergeIn(["userDetails","subsInfo"],G.fromJS(t)),e=wn(e,{subscription:t,includedWithSubscription:e.calc.includedWithSubscription})},pi=function(e,t){var n=t.agreementOverview||{};if(null!=(null!=n.credit_pack_agreement?n.credit_pack_agreement.credits_available:void 0)&&(e=un(e,{personalCredits:n.credit_pack_agreement.credits_available||0})),(null!=n.royalty_free_subscription_agreements?n.royalty_free_subscription_agreements.length:void 0)>0){var i=n.royalty_free_subscription_agreements[0];if(null!=i.download_count&&null!=i.download_limit&&null!=i.name){var a=function(e){var t=e.name||"",n=e.download_count||0,i=e.download_limit||0;return{isSignature:R.isSignature(t),isEssentials:R.isEssentials(t),downloadedCount:n,downloadLimit:i,downloadsRemaining:i-n,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0}}(i);e=_i(e,a)}}return e=function(e){if(!(e.asset.freeFile||e.calc.redownloadForFree||e.userDetails.team_member||e.calc.selectedAccountHasAnyCredits||e.calc.hasSubscription||h(e))){var t=e.calc.assetIsVideo,n=function(e){return Rt.premiumVideoEnabled(e)&&t}(e)&&!e.showVideoPnp?Hn.getSubscriptionPricingRoute(t):Hn.getPricingRoute(t);e=e.set("redirectToUrl",n)}return e}(e)},fi=function(e,t){return e=e.mergeIn(["calc"],{buyAndBurnDownload:t.buyAndBurnDownload})},mi={};mi[y.INITIALIZE]=bn,mi[y.GO_TO_BEGINNING]=cn,mi[y.CANCEL_AND_BACK_TO_BEGINING]=dn,mi[y.SELECT_ASSET_SIZE]=Ke,mi[y.SET_CTA_IN_PROGRESS]=Oe,mi[y.GO_TO_NEXT_STEP]=ui,mi[y.SET_AGREEMENTS]=He,mi[y.SET_TOASTER]=Ae,mi[y.SET_BUY_AND_BURN_DOWNLOAD]=fi,mi[y.SELECT_AGREEMENT_TYPE]=Qe,mi[y.SET_LICENSES]=Tn,mi[y.GO_TO_FREE_ADMIN_DOWNLOAD]=gn,mi[y.CHECK_LICENSE]=hn,mi[y.SET_AVAILABLE_CREDITS]=un,mi[y.GO_TO_COMPLETE_DOWNLOAD]=pn,mi[y.GO_TO_COMPLETE_REDOWNLOAD]=fn,mi[y.SET_SELECTED_ACCOUNT]=Je,mi[y.SELECT_PRICING_CLARITY_OPTION_TOGGLE]=Sn,mi[y.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED]=pi,mi[y.SET_DISPLAY_ERROR]=Ne,mi[y.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD]=xn,mi[y.REDIRECT_TO_URL]=En,mi[y.SET_DOWNLOAD_DATA]=$e,mi[y.SELECT_ACCOUNT_STEP]=it,mi[y.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP]=_n,Object.freeze(mi);var hi=function(e,t){void 0===e&&(e=V);var n=mi[t.type];return n?n(e,t):e};function vi(e,t){return e}var gi=(0,Te.U)({agreements:vi,asset:vi,buyCardData:vi,calc:vi,categories:vi,displayError:vi,downloadData:vi,editable:vi,keywordsView:vi,licenses:vi,metaTags:vi,redirectToUrl:vi,mobileSimplification:vi,subscription:xe,userDetails:vi,postDownloadOnboarding:Ce,showVideoPnp:vi,searchPhrase:vi,searchScope:vi}),wi=function(e,t){return void 0===e&&(e=V),e=hi(e,t),e=gi(e,t)},yi=(n(29349),n(85893)),bi=function(e,t){var n=function(e){return Object.assign({},e,{asset:k.formatAsset(e.asset),userDetails:B.formatUser(e.userDetails),preferredDownloadSize:k.getPreferredSize(e.buyCardData.preferences),preferredEpsDownloadSize:k.getEpsPreferredSize(e.buyCardData.preferences)})}(t),i=n.asset,a=n.userDetails,r=n.preferredDownloadSize,s=n.preferredEpsDownloadSize,o=n.localePhoneNumber,c=n.buyCardData,l=n.categories,d=n.editable,u=n.keywordsView,_=n.metaTags,p=n.mobileSimplification,f=n.showVideoPnp,m=n.searchPhrase,h=n.searchScope,v=n.hasAvailableCredits;e.dispatch(Ee.initializeDataStep(i,a,r,s,o,c,l,d,u,_,p,f,m,h,v))},Si=function(e){var t=e.payload,n=e.children,i=e.testRecorder,a=T(wi,V);return i&&(i.getState=function(){return a.getState()}),bi(a,t),(0,yi.jsx)(c.zt,{store:a,children:n})};Si.defaultProps={testRecorder:null};var Ei=Si,Ti=n(58032),xi=n(94159),Ii=n(24735),Ci=n(39468),Ni=function(){var e=(0,c.v9)((function(e){return e.asset}));(0,i.useEffect)((function(){var t;"image"===e.assetType&&((t=(t=JSON.parse(localStorage.getItem("search.assetsViewedData"))||[]).filter((function(t){return t.id!==e.assetId}))).length>=100&&t.pop(),t.unshift({id:e.assetId,width:e.assetDimensions.width,height:e.assetDimensions.width,deliveryUrl:e.thumb612Url}),localStorage.setItem("search.assetsViewedData",JSON.stringify(t)))}),[])},Oi=n(49614),Ai=n(38130),ki=n(94184),Di=n.n(ki),ji=n(37141),Pi=n(39102),Li=n(99919),Ri=n(36178),Fi=(0,ji.Z)("plans_and_pricing","./PlansAndPricing"),Mi=function(e){var t,n=e.asset,a=(0,Ii.aF)(),r=(0,Li.W4)();return(0,yi.jsx)("div",{children:(0,yi.jsx)(i.Suspense,{fallback:(0,yi.jsx)(Ri.$,{}),children:(t=(0,yi.jsx)(Fi,{payload:{user:a,site:r,asset:n}}),(0,yi.jsx)(Pi.Z,{children:t}))})})},Ui="gW7HFfb7Cin1PoIVRY3Q",Bi="LcswaaqKmLnYFfq7WfUk",zi="wp3ztbULtfmWKUPyugTp",Wi="peHGEkbrpbJ7Y2woV2HA",Gi=n(55972),Vi=function(){var e=(0,Ai.T)(),t=(0,c.v9)((function(e){return e.asset.isImage})),n=(0,c.v9)((function(e){return e.buyCardData.orderId})),a=(0,Li.NW)().cleanPath("/account"),r=(0,i.useMemo)((function(){var i=t?"image":"video",r=[e(i+"_purchase_desired_size"),e(i+"_purchase_download"),e(i+"_purchase_locate",{zero:n,links:[a]})];return(0,yi.jsx)("ol",{"data-testid":"thank-you-"+i+"-steps",children:r.map((function(e,t){return 2!==t?(0,yi.jsx)("li",{children:e},e):(0,yi.jsx)("li",{children:(0,yi.jsx)(Gi.Z,{children:e})},e)}))})}),[t,n]);return(0,yi.jsxs)("div",{className:"confirmation-text",children:[(0,yi.jsx)("h2",{className:"main-thanks","data-testid":"main-thanks",children:e("asset_purchase_thank_you")}),r,(0,yi.jsx)("p",{className:Wi,"data-testid":"invoice",children:(0,yi.jsx)(Gi.Z,{children:e("invoice_available_time",{zero:"</a><b>",one:"</b>",links:[a]})})})]})},Hi=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],a=t?Bi:"",r=function(e){"Enter"===e.key&&n(!0)};return(0,yi.jsxs)("section",{className:"inline-purchase "+a,id:Ui,children:[(0,yi.jsxs)("div",{className:zi,children:[(0,yi.jsx)("div",{className:"close-button",id:"close-inline-purchase",onClick:function(){return n(!0)},onKeyPress:r,role:"button",tabIndex:0}),(0,yi.jsx)(Vi,{})]}),t?null:(0,yi.jsx)("div",{className:"grey-out",onClick:function(){return n(!0)},onKeyPress:r,role:"button",tabIndex:0})]})},Yi=(n(10518),["styles"]);function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ki.apply(this,arguments)}var Zi=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Yi);return a().createElement("svg",Ki({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 98"},t),a().createElement("path",{d:"M78.2 23.3L75 20.1 48.7 46.4 22.5 20.1l-3.3 3.2 26.3 26.3-27.2 27.2 3.2 3.3 27.2-27.3L76 80.1l3.2-3.3L52 49.6l26.2-26.3z"}))},qi="O7jjO1OCGh06gTa27jGT",Xi="ow0qGZRKCM7uQ_J7776T",Qi="g5wSC_AVt_E9HjViAQuN",Ji=function(e){var t=e.asset,n=e.show,i=e.closeModal,a=e.trackClick,r={zoomedImageUrl:t.zoomedImageUrl,zoomedWebPUrl:t.zoomedWebPUrl},s=(0,c.v9)((function(e){return e.metaTags.seoAlt})),o=(0,c.v9)((function(e){return e.metaTags.seoImageTitle})),l=function(e){"Enter"!==e.key&&"Escape"!==e.key||i()};return n?(0,yi.jsxs)("div",{role:"button",tabIndex:0,onClick:i,onKeyPress:l,className:qi,children:[(0,yi.jsx)("div",{role:"button",tabIndex:0,onKeyPress:a,onClick:a,onContextMenu:a,children:(0,yi.jsx)("img",{id:"zoom-image","data-testid":"img",src:r.zoomedImageUrl,alt:s,title:o,className:Xi})}),(0,yi.jsx)("div",{role:"button",tabIndex:0,className:Qi,onClick:i,onKeyPress:l,children:(0,yi.jsx)(Zi,{})})]}):null};Ji.defaultProps={closeModal:function(){},trackClick:function(){}};var $i=Ji,ea=function(){var e=(0,c.v9)((function(e){return e.asset})),t=(0,c.v9)((function(e){return e.metaTags.seoAlt})),a=(0,c.v9)((function(e){return e.metaTags.seoFilmAlt})),r=(0,c.v9)((function(e){return e.metaTags.seoImageTitle})),s=e.assetDimensions.width,o=e.assetDimensions.height,l=e.galleryComp1024Url,d=e.galleryHighResCompUrl;return(0,i.useEffect)((function(){var e,t,i,r;document.querySelector("body").classList.add("vr-asset"),function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}()&&(e=document.querySelector(".vr-image"),t=e.getAttribute("height"),i=e.getAttribute("width"),(r=document.createElement("div")).classList.add("viewer_360_image"),r.setAttribute("data-testid","panorama-image"),r.setAttribute("style","height: "+t+"px; width: "+i+"px"),r.id="panorama-image",r.alt=a,e.replaceWith(r),n.e(4933).then(n.t.bind(n,29470,23)).then((function(){return window.pannellum.viewer("panorama-image",{type:"equirectangular",autoLoad:!0,autoRotate:-1,hfov:120,showZoomCtrl:!0,showFullscreenCtrl:!0,preview:l,panorama:d})})))}),[]),(0,yi.jsx)("section",{className:"preview "+(e.is360Image&&"viewer-360-container"),children:(0,yi.jsx)("img",{className:"vr-image viewer_360_image",width:s,height:o,src:l,alt:t,title:r,"data-preview":l,"data-ratio":e.ratio,"data-alt":a,style:{maxWidth:s,maxHeight:o}})})},ta=function(e,t,n,i,a){var r=i||1.125;return"Vertical"===n?e>t?{width:t*r,height:e*r}:{height:t*r,maxWidth:a?void 0:"100%"}:{width:e*r,maxWidth:a?void 0:"100%"}},na="UcU8ureQnpvZvSsFIQQo",ia="mMKfHQUsRgcOswIcHIaA",aa=function(e){var t=e.asset,n=t.mainImageUrl,a=t.mainWebPUrl,r=t.defaultMainImageURL,s=t.defaultMainWebPURL,o=t.largeMainImageURL,l=t.largeMainWebPURL,d=e.trackClick,u=e.toggleModal,_=(0,c.v9)((function(e){return e.metaTags.seoImageTitle})),p=(0,c.v9)((function(e){return e.metaTags.seoImageTitle})),f=(0,i.useState)(!!a),m=f[0],h=f[1],v=(0,Ti.a5)().editDetails,g=null==v?void 0:v.dest,w=function(){d(),u()},y=(0,i.useContext)(Ti._y).loading;return(0,yi.jsx)("div",{role:"button",tabIndex:0,onClick:w,onKeyPress:function(e){"Enter"===e.key&&w()},onContextMenu:function(){d(),h(!1)},className:Di()(na,y&&ia),children:(0,yi.jsxs)("picture",{"data-testid":"hero-picture",children:[(0,yi.jsxs)(yi.Fragment,{children:[g?(0,yi.jsx)("source",{srcSet:URL.createObjectURL(g),type:"image/jpeg","data-testid":"cropped-image"}):null,m&&!g&&(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)("source",{srcSet:a,media:"(max-width: 1100px)",type:"image/webp"}),(0,yi.jsx)("source",{srcSet:s,media:"(max-width: 1530px)",type:"image/webp"}),(0,yi.jsx)("source",{srcSet:l,type:"image/webp"})]}),(0,yi.jsx)("source",{srcSet:n,media:"(max-width: 1100px)",type:"image/jpeg"}),(0,yi.jsx)("source",{srcSet:r,media:"(max-width: 1530px)",type:"image/jpeg"}),(0,yi.jsx)("source",{srcSet:o,type:"image/jpeg"})]}),(0,yi.jsx)("img",{"data-testid":"image-asset",src:r,alt:p,title:_,style:{maxHeight:668,maxWidth:"100%",objectFit:"contain"},fetchpriority:"high"})]})})};aa.defaultProps={trackClick:function(){}};var ra=aa,sa=function(e){var t=e.asset,n=e.trackClick,a=e.toggleModal,r=t.isImage,s=t.is360Image,o=t.filmCompUrl,l=t.orientation,d=t.filmPreviewDimensions,u=d.width,_=d.height,p=(0,c.v9)((function(e){return e.metaTags.seoImageTitle})),f=(0,Ii._P)("AdpPreviewSize"),m=f.isActive(),h=parseFloat(f.offerValue()),v=(0,i.useMemo)((function(){return ta(u,_,l,h,m)}),[u,_,l,h,m]);return s?(0,yi.jsx)(ea,{}):r?(0,yi.jsx)(ra,{asset:t,trackClick:n,toggleModal:a}):(0,yi.jsx)("video",{"data-testid":"video-asset",style:{width:v.width,height:v.height,maxWidth:v.maxWidth},src:o,alt:p,controls:"controls",controlsList:"nodownload",autoPlay:!0,loop:!0})};sa.defaultProps={trackClick:function(){}};var oa=sa,ca=["styles"];function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},la.apply(this,arguments)}var da=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,ca);return a().createElement("svg",la({xmlns:"http://www.w3.org/2000/svg",viewBox:"-15 -15 130 130"},t),a().createElement("path",{d:"M67.35 10.29v4h14.83l-21.2 21.19 2.83 2.83 21.2-21.2v14.84h4V10.29H67.35zM32 14.29v-4H10.34v21.66h4V17.11l21.2 21.2 2.83-2.83-21.2-21.19H32zM85.01 65.24v14.83l-21.2-21.2-2.83 2.83 21.2 21.2H67.35v4h21.66V65.24h-4zM35.54 58.87l-21.2 21.2V65.24h-4V86.9H32v-4H17.17l21.2-21.2-2.83-2.83z"}))},ua="grPu5hBCNNNGZ9kT07oh",_a="GNQT5my0fjBNGJibx49k",pa="CLKcR06MeB6QZKn5kKCE",fa="DmWOvctQRnwPbcdFnRhM",ma="AAime6IsRoZeZI_puk4x",ha="_tt5W_xAaiYqJia95F5J",va=function(e){var t=e.show,n=e.toggleModal;return t?(0,yi.jsx)("div",{role:"button",tabIndex:0,"data-testid":"zoom-in-overlay",className:pa,onClick:n,onKeyPress:function(e){"Enter"===e.key&&n()},children:(0,yi.jsx)("span",{children:(0,yi.jsx)(da,{})})}):null};va.defaultProps={show:null};var ga=va,wa=n(75015),ya=n(38098),ba=n(32383),Sa=function(e,t){void 0===t&&(t={});try{window.combinedGtmTracking.gtmPushTracking(e,t)}catch(e){}},Ea="iuUSOOQ8NxtLiV0v_0p3",Ta=function(){return(0,yi.jsx)("div",{"data-testid":"onboarding-overlay",className:Ea})},xa=n(10090),Ia=function(){var e;window.tracking_data&&(window.tracking_data.merchandising_units=["adp_tools_panel_post_download_intro"]),null==(e=window.combinedGtmTracking)||e.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Shown",merch_unit_selection:"adp_tools_panel_post_download_intro-shown",ui_element_location:"adp_tools_panel_top_overlay"})},Ca=n(90847);function Na(){Na=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,s=Object.create(r.prototype),o=new A(i||[]);return a(s,"_invoke",{value:I(e,n,o)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",m="completed",h={};function v(){}function g(){}function w(){}var y={};l(y,s,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(k([])));S&&S!==n&&i.call(S,s)&&(y=S);var E=w.prototype=v.prototype=Object.create(y);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,r,s,o){var c=u(e[a],e,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var r;a(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,a){n(e,i,t,a)}))}return r=r?r.then(a,a):a()}})}function I(t,n,i){var a=_;return function(r,s){if(a===f)throw new Error("Generator is already running");if(a===m){if("throw"===r)throw s;return{value:e,done:!0}}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var c=C(o,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===_)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=f;var l=u(t,n,i);if("normal"===l.type){if(a=i.done?m:p,l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=m,i.method="throw",i.arg=l.arg)}}}function C(t,n){var i=n.method,a=t.iterator[i];if(a===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=u(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var s=r.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(x.prototype),l(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var s=new x(d(e,n,i,a),r);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(E),l(E,c,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(i,a){return o.type="throw",o.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Oa(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}function Aa(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){Oa(r,i,a,s,o,"next",e)}function o(e){Oa(r,i,a,s,o,"throw",e)}s(void 0)}))}}var ka=function(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.calc.selectedAgreement}));return Aa(Na().mark((function n(){var i;return Na().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("RoyaltyFreeSubscription"===(null==t?void 0:t.type)){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,Ca.Z)("post_download_onboarding_client");case 5:i=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return");case 11:e(Ee.showPostDownloadOnboarding()),Ia(),i.dismiss();case 14:case"end":return n.stop()}}),n,null,[[2,8]])})))},Da=function(){var e=(0,c.I0)();return function(){var t;e(Ee.hidePostDownloadOnboarding()),null==(t=window.combinedGtmTracking)||t.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-close",ui_element_location:"adp_tools_panel_top_overlay"})}},ja="Xc9NMt5yrBJcz13LFAFb",Pa="tn2gkaUMkKAPIaiN87up",La="hxGvbGjfTMDGrPSLg8ZE",Ra="rMGpQv6630Y5ZaxZ8Uz7",Fa="EUqkhY00_WqNk6OAlLgR",Ma=function(e){var t=e.src,n=e.thumbnailSrc,a=e.alt,r=(0,i.useState)(!1),s=r[0],o=r[1];return(0,yi.jsxs)("div",{className:ja,children:[(0,yi.jsx)("video",{"data-testid":"video",className:Di()(Pa,s?Ra:Fa),autoPlay:!0,loop:!0,src:t,onLoadedData:function(){return o(!0)}}),(0,yi.jsx)("img",{"data-testid":"thumbnail",className:Di()(Pa,La,s?Fa:Ra),src:n,alt:a})]})},Ua=n.p+"static/post-download-onboarding-thumbnail-b24582a54bb3ac2018b9.png",Ba="r5dzD3s8qBdl0JZfyIpK",za="mkoqypVVYf0QbADac_gM",Wa="DjqO9t8jvFF5nES4UEhC",Ga="CgOl4IqyeBmyrorOp1uq",Va="Mn348R8IuK_Y1yvvohFc",Ha=["KO","NL","PL","PT-BR","PT-PT","RO","RU","SV","TH","TR","UK","VI","ZH-HK","CS","DE","EN-US","ES","FI","FR","HU","ID","IT","JA"],Ya=function(e){var t=e.children,n=(0,Ai.T)(),i=(0,xa.b)(),a=Da(),r=function(e){var t=e.toUpperCase();return Ha.includes(t)?"https://static.istockphoto.com/display-sets/istock/adp/"+t+".mp4":"https://static.istockphoto.com/display-sets/istock/adp/EN-US.mp4"}(i);return(0,yi.jsxs)("div",{"data-testid":"post-download-onboarding",className:Ba,children:[t,(0,yi.jsxs)("div",{className:za,children:[(0,yi.jsx)(Zi,{"data-testid":"close-icon",className:Va,onClick:a}),(0,yi.jsx)("div",{className:Wa,children:n("save_content_to_boards")}),(0,yi.jsx)(Ma,{src:r,thumbnailSrc:Ua,alt:n("save_your_favorite_images_and_videos")}),(0,yi.jsx)("div",{className:Ga,children:n("save_your_favorite_images_and_videos")})]})]})},Ka=n(55678),Za=n(17586),qa=["styles"];function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xa.apply(this,arguments)}var Qa=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,qa);return a().createElement("svg",Xa({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16.1",height:"16.2"},t),a().createElement("path",{fill:"#353838",d:"M16.1 7.4H8.8V.1H7.3v7.3H0v1.5h7.3v7.3h1.5V8.9h7.3z"}))},Ja=["styles"];function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$a.apply(this,arguments)}var er=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Ja);return a().createElement("svg",$a({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17"},t),a().createElement("path",{d:"M7.734-.001h1.531V0H7.734z"}),a().createElement("path",{fill:"#474747",d:"M15.16 7.735H-.001v1.53h7.735v.001h9.267V7.734z"}))},tr=["styles"];function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nr.apply(this,arguments)}var ir=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,tr);return a().createElement("svg",nr({width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{fill:"none"},a().createElement("path",{fill:"#474747",mask:"url(#mask-2)",d:"M7.582 16.619l-6.317-6.32 1.273-1.273 5.044 5.047 9.79-9.79 1.274 1.273z"})))},ar="XqXYdv_qe4tKrswPcx5n",rr="M47Vaf9ik0vAeexYoAnY",sr="l9wHWlOcaB1d69_5aXoc",or="LSk4pytz519N6LLri3SS",cr="T6phrwoVicX1aFyEoj_B",lr="HgOcvpB6sP3ZVIl7xgFN",dr="CBfPtt0JSbS2M49cmc4p",ur="Y4_KX7muuJCO7qy_MgGQ",_r="icWWmX3OLW9XQ1Yz_Oag",pr="zkmYVTPImrrIv_7lmtzL",fr=function(e){var t=e.assetIsInBoard,n=(0,Ai.T)();return t?(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsxs)("div",{className:ur,children:[(0,yi.jsx)(ir,{}),n("saved")]}),(0,yi.jsxs)("div",{className:_r,children:[(0,yi.jsx)(er,{}),n("remove")]})]}):(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)(Qa,{})," ",n("save")]})};fr.defaultProps={assetIsInBoard:null};var mr=fr,hr=function(e){var t,n=e.children,i=e.onClick,a=e.greenBorder,r=e.assetModificationIsActive,s=e.testid,o=e.disabled;return(0,yi.jsx)("button",{"data-testid":s,onClick:i,type:"button",className:Di()((t={},t[or]=!r,t[cr]=r,t[lr]=a,t)),disabled:o,children:n})};hr.defaultProps={greenBorder:!1,assetModificationIsActive:!1,onClick:function(){},testid:"button",disabled:!1};var vr=hr,gr=function(e){var t=e.asset,n=(0,o.$k)(),i=n.boards,a=n.toggleAsset,r=(0,ba.Ps)().addToaster,s=i.isAssetInBoard(t),l=(0,Ci.T)(),d=(0,c.v9)((function(e){return e.postDownloadOnboarding})),u="adp_tools_panel_top",p=(0,Ti.fV)(t),f=function(){if(s){var e=(0,Ka.Z)({ui_element_location:u,board_interaction:"remove_single_asset_from_board",asset_id:t.assetId,asset_type:t.assetType,asset_family:t.assetFamily});(0,_.r)(e),Sa("removeFromBoard",{removedItems:[t],board_name:i.defaultBoard.name,grid_slot_number:t.slot,ui_element_location:u}),l.sendBoardItemRemovedSignal(t,i.defaultBoard.id)}else{var n=(0,Za.Z)({ui_element_location:u,board_interaction:"add_to_existing_board",asset_id:t.assetId,asset_type:t.assetType,asset_family:t.assetFamily});(0,_.r)(n),Sa("addToBoard",{addedItems:[t],board_name:i.defaultBoard.name,grid_slot_number:t.slot,ui_element_location:u}),l.sendAssetAddedToBoardSignal(t,i.defaultBoard.id)}var c;d&&(null==(c=window.combinedGtmTracking)||c.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-clicked",ui_element_location:"adp_tools_panel_top_overlay"})),a(s?"remove_assets":"add_assets",i.defaultBoard.id,t.id),r((0,yi.jsx)(o.Vd,{uiLocation:u,theme:"istock",asset:t}))},m=(0,yi.jsxs)(vr,{disabled:!i.defaultBoard,onClick:function(){f()},greenBorder:d,assetModificationIsActive:p,testid:"boards-button",children:[(0,yi.jsx)("div",{className:dr,children:(0,yi.jsx)(o.KS,{uiLocation:u,theme:"istock",asset:t,modal:(0,yi.jsx)(o.Ns,{uiLocation:u,theme:"istock",asset:t})})}),(0,yi.jsx)(mr,{assetIsInBoard:i.isAssetInBoard(t)})]});return d?(0,yi.jsx)(Ya,{children:m}):m},wr=n(18930),yr=n(21499),br=n(80971),Sr=n(3415),Er=n(82211),Tr={container:"Dqs20PpUHyfeUwA7ohm3",header:"ed44G7C6JFYw4GiJK0Pg",footer:"pby3pmwl6sptMWcsw0Xw"},xr=function(e){var t=e.downloadLink,n=e.trackDownload,a=e.isFilm,s=e.type,o=e.typeCap,c=e.asset,l=(0,i.useState)(!1),d=l[0],u=l[1],p=(0,r.dd)().hideModal,f=(0,Ai.T)(),m=(0,Ii._P)("ADPPreviewCopy"),h=(0,Sr.Fg)().checkbox||{},v={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Shown",adp_selection:"ADP_Preview_"+o,ui_element_location:s+"_adp_modal"}};(0,_.j)(v,null);var g=function(){var e;e=!d,localStorage.setItem("assetDetail.hidePreviewLicense",e),u(!d)},w=function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Button_Click",adp_selection:"ADP_Preview_"+o,ui_element_location:s+"_adp_modal"}},t=(0,J.Z)({asset_details:{asset_id:null==c?void 0:c.id,asset_type:null==c?void 0:c.assetType,asset_family:null==c?void 0:c.assetFamily},download_method:"comp"});(0,_.j)(e,t),n(s+"_adp_modal"),p()},y=function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Dismiss",adp_selection:"ADP_Preview_"+o,ui_element_location:s+"_adp_modal_CTA"}},t=(0,Er.Z)({event:"close_modal",modal_content:"preview_"+s,modal_type:"detailed_modal_with_cta",cta_text:"cancel",ui_element_location:"modal_cta"});(0,_.j)(e,t),p()},b=function(e){"Enter"===e.key&&g()};return(0,yi.jsx)(r.u_,{header:m.isOfferActive("expA")?f("download_comp_verbose"):m.isOfferActive("expB")?f(a?"try_this_clip":"try_this_image"):f(a?"preview_this_clip":"preview_this_image"),headerClassName:Tr.header,footer:(0,yi.jsxs)("div",{className:Tr.footer,children:[(0,yi.jsx)("button",{className:"hollow-cta",type:"button",onClick:y,children:f("cancel")}),(0,yi.jsx)("a",{className:"cta primary-cta",role:"button",onClick:w,href:t,download:!0,children:f("download")})]}),onClose:function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Download_Comp_Dismiss",adp_selection:"ADP_Preview_"+o,ui_element_location:s+"_adp_modal_X"}},t=(0,Er.Z)({event:"close_modal",modal_content:"preview_"+s,modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:"modal_x"});(0,_.j)(e,t)},children:function(){return(0,yi.jsxs)("div",{className:Tr.container,"data-testid":"preview-modal-container",children:[(0,yi.jsx)("div",{className:Tr.body,children:f(a?"try_this_clip_disclaimer":"try_this_image_disclaimer")}),(0,yi.jsx)("div",{role:"checkbox","aria-checked":d,tabIndex:0,onClick:g,onKeyPress:b,children:(0,yi.jsxs)("label",{className:Di()(h.checkboxInline),htmlFor:"hide-preview-license","data-testid":"preview-checkbox",children:[(0,yi.jsx)("input",{className:Di()(h.checkboxInput),type:"checkbox",name:"hide-preview-license",checked:d,onChange:function(){}}),(0,yi.jsx)("span",{className:Di()(h.checkboxLabel_right),children:f("download_workflow.dont_show_message")})]})})]})}})},Ir=["styles"];function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cr.apply(this,arguments)}var Nr=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Ir);return a().createElement("svg",Cr({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{clipPath:"url(#a)",fill:"#353838"},a().createElement("path",{d:"M15.71 12.15v2.91H1.5v-2.91H0v4.41h17.21v-4.41h-1.5zM13.6 6.33l-1.06-1.06-3.18 3.18V0h-1.5v8.61L4.68 5.43 3.62 6.5l4.9 4.9 5.08-5.07z"})),a().createElement("defs",null,a().createElement("clipPath",{id:"a"},a().createElement("path",{fill:"#fff",d:"M0 0h17.21v16.56H0z"}))))},Or=function(e){var t,n=e.asset,i=e.userDetails,a=e.showEditor,s=(0,Ai.T)(),o=(0,r.dd)().showModal,c=(0,Ci.T)(),l=(0,Ti.L$)(),d=l.previewImage,u=l.loading,p="film"===n.assetType,f=p?"video":"image",m=p?"Video":"Image",h=(0,Ti.fV)(n),v=(0,wr.Z)(),g=a&&u,w=(0,Ii._P)("ADPPreviewCopy"),y=(t=w).isOfferActive("expA")?"download_comp":t.isOfferActive("expB")?"try":"preview",b=(0,Ti.a5)().editDetails,S=function(e){var t=p?(0,br.uq)(i):(0,br.gB)(i),a={name:"download",payload:Object.assign({ui_element_location:e},t)};(0,_.j)(a,null),c.sendAssetCompDownloadedSignal(n)};return(0,yi.jsxs)(vr,{onClick:function(){var e,t=function(e,t,n,i){if(t&&n)return(0,Ti.rY)(n);if(i)return URL.createObjectURL(i.dest);if("film"===e.assetType)return e.downloadableFilmCompUrl;var a=e.defaultMainImageURL.includes("?")?"&":"?";return""+e.defaultMainImageURL+a+"p=1"}(n,a,d,b),i=(0,yr.Z)({cta_interaction:"preview_asset_cta_clicked",cta_text:y,cta_url:t,ui_element_location:v}),r=null;if("true"===localStorage.getItem("assetDetail.hidePreviewLicense")){S("video_adp_tools_panel");(e=document.createElement("a")).href=t,e.download="",e.click()}else r={name:"adpInteraction",payload:{adp_interaction:m+"_ADP_Preview_Comp_Button_Click",adp_selection:"ADP_Preview_"+m,ui_element_location:f+"_adp_tools_panel_top"}},o((0,yi.jsx)(xr,{downloadLink:t,trackDownload:S,isFilm:p,type:f,typeCap:m,asset:n}));(0,_.j)(r,i)},testid:"preview-button",assetModificationIsActive:h,disabled:g,children:[(0,yi.jsx)(Nr,{}),s(y)]})};Or.defaultProps={showEditor:!1};var Ar=Or,kr=["styles"];function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dr.apply(this,arguments)}var jr=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,kr);return a().createElement("svg",Dr({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 16.443 16.132",fill:"#353838"},i),a().createElement("path",{className:n.st0||"st0",d:"M7.143 12.495h-.01l-2.412-.032a.751.751 0 01-.74-.74L3.947 9.31a.746.746 0 01.22-.54L12.718.22a.75.75 0 011.061 0l2.445 2.444a.75.75 0 010 1.06l-8.551 8.551a.75.75 0 01-.53.22zM5.47 10.973l1.365.018 7.797-7.797-1.384-1.383-7.797 7.796.019 1.366z"}),a().createElement("path",{className:n.st0||"st0",d:"M13.83 5.453a.747.747 0 01-.531-.22L11.235 3.17a.75.75 0 111.06-1.06l2.064 2.063a.75.75 0 01-.53 1.28zm-.322 10.679H2.209A2.212 2.212 0 010 13.922V3.056C0 1.837.991.845 2.209.845h5.65a.75.75 0 010 1.5h-5.65a.71.71 0 00-.709.71v10.868c0 .39.318.709.709.709h11.299a.71.71 0 00.709-.71V8.489a.75.75 0 011.5 0v5.435a2.212 2.212 0 01-2.21 2.209z"}))},Pr=function(e){var t=e.show,n=e.url,i=e.asset,a=(0,Ai.T)(),r=(0,Ti.fV)(i),s=(0,wr.Z)();return t?(0,yi.jsxs)(vr,{onClick:function(){var e,t,i;t={name:"adpInteraction",payload:{adp_interaction:"Image_ADP_Editor_Link_Click",adp_selection:null==(e=window.tracking_data)?void 0:e.page_name,ui_element_location:"adp_tools_panel_top"}},i=(0,yr.Z)({cta_interaction:"edit_image_cta_clicked",cta_text:"edit",cta_url:n,ui_element_location:s}),(0,_.j)(t,i),window.open(n)},assetModificationIsActive:r,children:[(0,yi.jsx)(jr,{}),a("edit")]}):null};Pr.defaultProps={show:null,url:""};var Lr=Pr,Rr=["styles"];function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fr.apply(this,arguments)}var Mr=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Rr);return a().createElement("svg",Fr({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{clipPath:"url(#clip0_1457_67460)",stroke:"#111",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a().createElement("path",{d:"M6.13 1L6 16a2 2 0 002 2h15"}),a().createElement("path",{d:"M1 6.13L16 6a2 2 0 012 2v15"})),a().createElement("defs",null,a().createElement("clipPath",{id:"clip0_1457_67460"},a().createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"}))))},Ur=function(e){var t=(0,Ti.a5)().setShowImageEditor;return e?(0,yi.jsx)(Ti.S2,{handleClick:function(){t(!0)},Icon:Mr,text:"Crop"}):null};Ur.defaultProps={show:null};var Br=Ur,zr=["styles"];function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wr.apply(this,arguments)}var Gr=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,zr);return a().createElement("svg",Wr({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("path",{d:"M2.16 12.723L6.855 10 2.16 7.278a3.75 3.75 0 01.908-6.9 3.75 3.75 0 014.215 5.52A3.75 3.75 0 015.49 7.473L8.355 9.13l10.68-6.18.75 1.305L9.855 10l9.93 5.76-.75 1.305-10.68-6.195-2.865 1.658a3.75 3.75 0 011.793 1.574 3.75 3.75 0 01-4.215 5.52 3.75 3.75 0 01-.908-6.9zm3.825-7.575a2.25 2.25 0 00-1.658-3.372A2.25 2.25 0 002.085 2.89a2.25 2.25 0 001.657 3.365 2.25 2.25 0 002.243-1.107zm-3.9 12a2.248 2.248 0 003.075.832 2.249 2.249 0 00.825-3.09 2.25 2.25 0 00-3.075-.825 2.25 2.25 0 00-.825 3.045v.038z",fill:"#0C0D0D"}))},Vr=["styles"];function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hr.apply(this,arguments)}var Yr=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Vr);return a().createElement("svg",Hr({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 4.022V0H0v5.25L.75 6H6V4.5H3a7.5 7.5 0 11-1.141 6.795l-1.431.453A9 9 0 101.5 4.022z",fill:"#0C0D0D"}))},Kr=n(3382),Zr="HXmsBzBRWi2521BIHgb7",qr="ZM4AyFZP8QOkEP24L5gR",Xr="QZwA7CM7Gmc8pKsSMip0",Qr="wIKMuvkT1VmpGrOgFjIw",Jr="cjIRSGnDE2CnSVOjQuHy",$r=function(){var e=(0,Ai.T)();return(0,yi.jsx)("div",{className:qr,"data-testid":"background-removal-tooltip",children:(0,yi.jsx)(Kr.lq,{className:Xr,localStorageKey:"bg_removal_tooltip",name:"BackgroundRemovalTooltip",placement:"bottom",children:(0,yi.jsxs)("div",{className:Qr,children:[(0,yi.jsx)("span",{className:Zr,children:e("remove_background_callout_pill_text")}),(0,yi.jsx)("span",{className:Jr,children:e("remove_background_callout_text")})]})})})},es="QvjzzwU6tBjCVNIDzVRY",ts="q4Eyacwj1NfX4HSYtvsn",ns="JRy_JPzKt2fSbFPOsyej",is="fTYuJF0wYsmyBlGxbH58",as="Oy8IuWcysU2_t5n0gEpg",rs=function(){var e=(0,Ai.T)();return(0,yi.jsx)("div",{className:ts,"data-testid":"modify-asset-tooltip",children:(0,yi.jsx)(Kr.lq,{className:ns,localStorageKey:"modify_asset_tooltip",name:"ModifyAssetTooltip",placement:"bottom",trackViewed:function(){(0,_.j)({name:"notificationTooltipInteraction",payload:{tooltip_interaction:"Viewed",tooltip_selection:"image_ADP_tooptip_Modify_With_Ai",ui_element_location:"image_adp_tooltip"}},null)},trackDismissed:function(){(0,_.j)({name:"notificationTooltipInteraction",payload:{tooltip_interaction:"Close",tooltip_selection:"image_ADP_tooptip_Modify_With_Ai",ui_element_location:"image_adp_tooltip"}},null)},children:(0,yi.jsxs)("div",{className:is,children:[(0,yi.jsx)("span",{className:es,children:"BETA"}),(0,yi.jsx)("span",{className:as,children:e("ai_tooltip_info")})]})})})},ss="L9c3N2Nd7if_6JaOrnVM",os=function(e){var t=e.handleRemoveBackground,n=e.handleModifyAsset,i=e.showEditor,a=e.asset,r=(0,Ti.b5)({asset:a}).availableModifications,s=(0,Ai.T)(),o=(0,Ti.$o)().briaModificationExperiencesAreActive,c=(0,Ti.AA)().backgroundRemoved,l=s((o?c.current:i)?"restore_background":"remove_background"),d=i?Yr:Gr,u=i?"Continue Modifying":"Modify with AI",_=i?Yr:jr,p=o?null:(0,yi.jsx)($r,{}),f=!o||(null==r?void 0:r.background.length)>0&&r.background.some((function(e){return e.modifications.includes("remove")}));return(0,yi.jsxs)(yi.Fragment,{children:[f&&(0,yi.jsxs)("div",{className:ss,children:[(0,yi.jsx)(Ti.jZ,{text:l,Icon:d,handleClick:function(){return t(a.assetId)}}),p]}),o&&(0,yi.jsxs)("div",{children:[(0,yi.jsx)(Ti.bA,{text:u,Icon:_,handleClick:function(){return n(a.assetId)},asset:a}),(0,yi.jsx)(rs,{})]})]})};os.defaultProps={handleRemoveBackground:function(){},handleModifyAsset:function(){},showEditor:null};var cs=os,ls=function(e){var t=e.asset,n=e.userDetails,i=e.handleRemoveBackground,a=e.handleModifyAsset,r=e.visualId,s=e.showEditor,o=e.modificationType,l=e.assetCanBeModified,d=(0,wa.N)(),u=t.assetId,_=(0,Ti.fV)(t),p=(0,c.v9)((function(e){return e.editable})),f=o&&l&&p&&null!==r,m=_?rr:ar,h=(0,Ti.wW)(t)?(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)(Br,{show:p}),p&&(0,yi.jsx)(Ti.cw,{assetId:u})]}):(0,yi.jsx)(Lr,{show:p,url:d.editImagePath(u),asset:Object.assign({id:u},t)});return(0,yi.jsxs)("div",{className:m,"data-testid":"actions-container",children:[(0,yi.jsxs)("div",{className:sr,children:[(0,yi.jsx)(gr,{asset:Object.assign({id:u},t)}),(0,yi.jsx)(Ar,{asset:Object.assign({id:u},t),userDetails:n,showEditor:s}),h]}),_&&(0,yi.jsx)("div",{className:pr,"data-testid":"modification-buttons-wrapper",children:f&&(0,yi.jsx)(cs,{handleRemoveBackground:i,handleModifyAsset:a,showEditor:s,asset:t})})]})};ls.defaultProps={handleRemoveBackground:function(){},handleModifyAsset:function(){},visualId:null,showEditor:null,modificationType:null,assetCanBeModified:null};var ds=(0,ya.Z)(ls,"tools_panel_top"),us=function(e){var t=e.caption;return(0,yi.jsx)("figcaption",{className:ha,"data-testid":"figcaption",children:t})};us.defaultProps={caption:""};var _s=us,ps=function(){return{categoriesLink:function(e){ee.categoriesLink(e)},singleDownload:function(e,t){(window.tracking_data||{}).download_type="comp download",ee.singleDownload(e,t)},setZoomStatus:function(e){(window.tracking_data||{}).adp_is_zoomed=e},setUiElementLocation:function(e){return null==window.combinedGtmTracking?null:window.combinedGtmTracking.setUIElementLocation(e)},setAssetDetailTrackingData:function(e,t){var n=window.tracking_data||{};n.asset_details||(n.asset_details={}),n.asset_details[e]=t},setTrackingDataElement:function(e,t){(window.tracking_data||{})[e]=t}}},fs=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],a=ps(),r=function(){t?(n(!1),a.setZoomStatus(void 0),document.querySelector("body").classList.remove("modal-visible")):(n(!0),a.setZoomStatus("zoom"),document.querySelector("body").classList.add("modal-visible"))},s=function(e){t&&"Escape"===e.key&&r()};return(0,i.useEffect)((function(){return window.addEventListener("keyup",s),function(){window.removeEventListener("keyup",s)}}),[t]),{open:t,toggleModal:r,sendDownloadCompTracking:function(){var e,t=(0,J.Z)({asset_details:null==(e=window.tracking_data)?void 0:e.asset_details,download_method:"comp",is_eps:!1});(0,_.r)(t),a.singleDownload("comp")}}},ms=function(e){var t,n=e.asset,i=e.userDetails,a=e.handleDismissal,r=e.handleRemoveBackground,s=e.handleModifyAsset,o=e.showEditor,l=e.showErrorMessage,d=e.visualId,u=e.modificationType,_=e.assetCanBeModified,p=(0,Ai.T)(),f=(0,Ii._P)("BackgroundRemovalFeedback").isActive,m=(0,Ti.Zo)(),h=m.toggleFeedbackModal,v=m.showFeedbackBanner,g=(0,Ti.a5)().showImageEditor,w=n.isImage,y=n.is360Image,b=n.isFilm,S=n.experiences,E=n.ratio,T=fs(w,S),x=T.open,I=T.toggleModal,C=T.sendDownloadCompTracking,N=(0,c.v9)((function(e){return e.postDownloadOnboarding})),O=(0,c.v9)((function(e){return e.metaTags.seoFigCaption})),A=w&&o&&!l,k=f()&&v&&A,D=Di()(ua,k&&fa),j=Di()(_a,((t={})[ma]="Horizontal"===n.orientation,t));return g?(0,yi.jsx)(Ti.F5,{imagePath:n.defaultMainImageURL,assetId:n.assetId}):(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsxs)("section",{className:b?j:D,"data-testid":"asset-card",children:[N&&(0,yi.jsx)(Ta,{}),l&&(0,yi.jsx)(Ti.OW,{text:p("background_removal_an_error_occurred"),Icon:Zi,handleDismissal:a}),(0,yi.jsx)(ds,{asset:n,userDetails:i,handleRemoveBackground:r,handleModifyAsset:s,visualId:d,showEditor:o,modificationType:u,assetCanBeModified:_}),(0,yi.jsx)($i,{asset:n,show:x,closeModal:I,trackClick:C}),(0,yi.jsxs)("figure",{role:"figure",children:[(0,yi.jsx)(oa,{asset:n,trackClick:C,toggleModal:I}),(0,yi.jsx)(_s,{caption:O}),(0,yi.jsx)(ga,{show:w&&!y,toggleModal:function(){return I()}}),A&&(0,yi.jsx)(Ti.ML,{visualId:d,assetId:n.assetId,aspectRatio:E})]})]}),k&&(0,yi.jsx)(Ti.vs,{text:p("rate_your_experience"),buttonText:p("give_feedback"),toggleModal:h})]})};ms.defaultProps={visualId:null,modificationType:null,assetCanBeModified:null};var hs=(0,i.memo)(ms),vs=function(e){var t=e.descriptionContent,n=e.editorialImage,i=(0,Ai.T)(),a=(0,c.v9)((function(e){return e.mobileSimplification})),r=(0,xa.b)(),s=t&&t.match(/[^\x00-\x7F]+/g),o=["ko","vi"].includes(r),l=s&&s.length>0;return!o||l?n?(0,yi.jsx)("section",{className:"editorial-caption","data-testid":"editorial-description-content",children:t}):t?(0,yi.jsx)("section",{className:"description "+(a?"simplification-test-margin":""),children:(0,yi.jsxs)("div",{className:"section-content",children:[a?(0,yi.jsx)("p",{className:"description-header",children:i("file_description")}):(0,yi.jsx)("h2",{children:i("file_description")}),(0,yi.jsx)("p",{"data-testid":"description-content",children:t})]})}):null:null},gs=vs;vs.defaultProps={descriptionContent:null};var ws={searchBar:"Tfz2TGD82STf7R6UpfPc"},ys=(0,ji.Z)("search_bar","./SearchBar"),bs=function(){var e=function(e,t){return{options:{hideOnScroll:!0,mobileMediaFilter:!0,peekyScroll:!0},searchParameters:{assettype:t||e.assetType,assetfiletype:e.isVector?"eps":null,family:e.assetFamily}}}((0,c.v9)((function(e){return e.asset})),(0,c.v9)((function(e){return e.searchScope}))),t=(0,Ii.aF)(),n=(0,Li.W4)(),i=(0,Ii.ag)();return(0,yi.jsx)("div",{className:ws.headerSearchBar,children:(0,yi.jsx)(ys,{config:e,user:t,experiences:i,siteName:n.nickname,locale:t.locale})})},Ss="UoALWQ90Q3abTzfxHYA4",Es="kiF1ERA25iBulfkeA2RH",Ts=function(e){var t=e.show,n=(0,Ai.T)();return t?(0,yi.jsx)("div",{className:Ss,"data-testid":"istock-exclusive",children:(0,yi.jsx)("span",{className:Es,children:n("only_from_istock")})}):null},xs=n(57561),Is="U0QAixDdezN2ssj131uy",Cs="x8wPOfs4tCJPGjn4Qkbo",Ns="xK0cpH1ZT3qYtRbvkl99",Os="Bez0nq4IPLfbrOzuvZZE",As="Ah4WgIQNM_jGg7mlwBZ0",ks="pJvS4Uw7WV6omszWW76f",Ds=function(e){var t,n=e.show,i=e.keywords;return n?(0,yi.jsx)("div",{className:Ns,children:n&&(0,yi.jsx)("h2",{"data-testid":"keywords",children:(t=i,t.slice(0,5).map((function(e){return e.text})).join(", "))})}):null},js=function(e){var t=e.asset,n=(0,Ai.T)(),a=t.title,r=t.keywords,s=t.isImage,o=t.isIllustration,c=t.isFilm,l=t.isIstockExclusive,d=(0,i.useState)(!1),u=d[0],_=d[1];return(0,yi.jsxs)("section",{className:Is,"data-testid":"asset-title",children:[(0,yi.jsxs)("div",{className:Os,children:[l&&(0,yi.jsx)("div",{className:ks,"data-testid":t.assetId,children:(0,yi.jsx)(Ts,{show:l})}),(0,yi.jsxs)(xs.ZT,{component:xs.dh.H1,variant:xs.O3.H6,"data-asset-id":t.assetId,className:As,children:[a?o?n("attributes.seo_title_illustrations",{title:a}):s?n("attributes.seo_title_photos",{title:a}):c?n("attributes.seo_title_videos",{title:a}):a:"",!u&&(0,yi.jsx)("button",{type:"button",className:Cs,title:n("see_full_title"),onClick:function(){return _(!0)},children:(0,yi.jsx)("span",{children:"..."})})]})]}),(0,yi.jsx)(Ds,{show:u,keywords:r})]})},Ps=n(97355),Ls="pdg7g3UG49eFBtbMMdZw",Rs="eEOt6ZGqipFaNm2I3TDc",Fs="qCXzjdeh_ml_vY5fqTVQ",Ms="P8J2KpxsMpYv4bU0urGP",Us="Bx9VgqugdY7mJ3NiMBPl",Bs="R5LqjvYFPXqMWgYhXQvA",zs="CEdBaudkkfTLYIVfna6j",Ws="vMo8CFNGGdoAizNcsh0D",Gs="Ai49p8ZFP9vKspDuA8Ar",Vs=function(e){var t=e.category,n=(0,Ci.T)();return(0,yi.jsx)("a",{onClick:function(){var e={name:"adpInteraction",payload:{ui_element_location:"category_pill_adp",adp_interaction:"ADP_Category_Browse_Click",adp_selection:t.text}},i=(0,Ps.M)({event_name:"search_by_category",search_selection:t.text,ui_element_location:"category_list"});(0,_.j)(e,i),n.sendAdpCategoryBrowseClickSignal()},className:Ws,"data-testid":"categoryPill",href:t.href,itemType:"http://schema.org/relatedLink",children:t.text})},Hs=function(){var e,t=(0,c.v9)((function(e){var t,n,i,a;return null==(t=e.categories)||null==(n=t.categoriesView)||null==(i=n.matchingInspirePages)||null==(a=i._tail)?void 0:a.array}))||[],n=(0,c.v9)((function(e){return e.categories.isKeywordsTestAboveSeries})),i=(0,c.v9)((function(e){var t;return null==(t=e.categories)?void 0:t.showRelated}))||!1,a=(0,c.v9)((function(e){var t,n,i;return null==(t=e.categories)||null==(n=t.relatedCategories)||null==(i=n._tail)?void 0:i.array}))||[],r=(0,c.v9)((function(e){return e.asset})),s=(0,Ai.T)(),o=i?[].concat(t,a):t,l=0===o.length?[]:o.map((function(e){return(0,yi.jsx)("li",{className:zs,children:(0,yi.jsx)(Vs,{category:e})},e.text)})),d=function(){return n?Gs:""};return l.length>0?(0,yi.jsx)("section",{className:Di()(Ls,d()),"data-testid":"inspire-page-list",children:(0,yi.jsxs)("div",{className:Di()(Ms,d(),(e={},e[Rs]=r.isImage,e[Fs]=r.isFilm,e)),children:[(0,yi.jsx)("h2",{className:Us,children:s("categories_no_colon")}),(0,yi.jsx)("ul",{className:Bs,children:l})]})}):null},Ys=function(e){var t=e.errorType,n=(0,Ai.T)();return t?(0,yi.jsx)("section",{className:"error",children:(0,yi.jsx)("div",{className:"error-bar",children:(0,yi.jsx)("span",{children:n("download_failed")})})}):null};Ys.defaultProps={errorType:null};var Ks=Ys,Zs=n(74074),qs=n(62496),Xs="ov7hidRfj6r17Xo7kOum",Qs="O5qkceU1kn1uYV6Mm03A",Js="n8gnpe9sVSlKqgA_16qm",$s="zmTx1zA9omVOPG4h0sP2",eo="YeOmFF70dJQ0KqaLlzN1",to="XoqGbbLH7NbLfbQSyVFs",no="uxSwFOww6uMkAE3ycR35",io="d8jDIwL6fQGL6g5Pa7pb",ao="nPIzDdpXYYh0blbGv1Pg",ro="F4h4tj92VxhM6ZFT1J2Z",so=function(e){var t=e.keyword,n=(0,Ai.T)(),i=(0,Zs.u)(),a=(0,Ii.aF)(),r=(0,qs.PL)(),s=(0,c.v9)((function(e){return e.asset.assetType})),o=(0,c.v9)((function(e){return e.asset.mediaType})),l=n("photos");"film"===s&&(l=n("videos")),"illustration"!==o&&"photo_and_illustration"!==o||(l=n("illustrations"));var d=t.text.replace(l,"").trim(),u={assettype:s,phrase:d},p=r.searchPath(u);return(0,yi.jsxs)("a",{onClick:function(){i.prepareEvent("search",{element_location:"keyword_button_adp",search_tools:"ADP_Keyword_Browse_Click"});var e={name:"adpInteraction",payload:{ui_element_location:"keyword_button_adp",search_type:"keyword-browse",adp_interaction:"ADP_Keyword_Browse_Click",adp_selection:d}},t=(0,Ps.M)({event_name:"search_by_keyword",search_selection:d,ui_element_location:"keyword_list"});(0,_.j)(e,t)},className:io,href:p,"data-search-bot":a.isBot?"Bot":"NotBot","data-search-link":"film"===s?"FilmKeywordLink":"KeywordLink",itemType:"http://schema.org/relatedLink",children:[t.text,(0,yi.jsx)("span",{className:ao,children:","})]})},oo=function(){var e,t,n=(0,Ai.T)(),a=(0,c.v9)((function(e){return e.keywordsView})),r=a?null==a||null==(e=a.list)?void 0:e.toArray():[],s=(0,i.useState)(!1),o=s[0],l=s[1],d=(0,c.v9)((function(e){return e.asset})),u=function(e){"Enter"===e.key&&l(!0)};return r.length>0?(0,yi.jsx)("section",{className:Xs,"data-testid":"keyword-list",children:(0,yi.jsxs)("div",{className:Di()($s,(t={},t[Qs]=d.isImage,t[Js]=d.isFilm,t)),children:[(0,yi.jsx)("h2",{className:eo,children:n("keywords")}),(0,yi.jsx)("ul",{className:to,children:function(){if(0===r.length)return[];var e=r.map((function(e,t){var n=(0,yi.jsx)("li",{className:no,children:(0,yi.jsx)(so,{keyword:e})},e.text);return!o&&t>=18?null:n}));if(!o){var t=(0,yi.jsx)("li",{className:no,children:(0,yi.jsx)("div",{"data-testid":"show-all-button",role:"button",tabIndex:0,className:ro,onKeyPress:u,onClick:function(){return l(!0)},children:n("see_all_keywords")})},"show-all");e.push(t)}return e}()})]})}):null},co="f9aaG6PqBGm15lt0zhS4",lo="Qy1Q9JW1QHFAUwgwD9Fq",uo="azxlQqzbRECAOMCrIiR4",_o="vFAy5w684KCLQQzgVz_d",po="hqcXtEwQxyYK4SihvtMI",fo="qjVPniXhZIZgddFIswnK",mo="FGGm7tPf4ZjbykwRd2QU",ho="QzTsMClEiL1JbmP3GFci",vo="JOIvcAEOMKEcZUQ45C9U",go="nfx40gwvPmIGqFhbpuxN",wo="Rixk6XimcuoPryIUe2hM",yo="rjYS_O606BS_7EhsmDUX",bo=function(){var e,t=(0,Ai.T)(),n=(0,Ii.aF)(),i=(0,wa.N)(),a=(0,qs.PL)(),r=(0,c.v9)((function(e){return e.asset.keywords})),s=(0,c.v9)((function(e){return e.asset.assetType})),o=(0,c.v9)((function(e){return e.asset.category})),l=(0,c.v9)((function(e){return e.asset.mediaType})),d=null==r||null==(e=r.first())?void 0:e.text,u={assettype:s,phrase:d};"illustration"===l&&(u.mediatype=l);var _,p="<a href="+a.searchPath(u)+">"+d+"</a>",f=r.size>0?t("rf_licenses_features",{keyword_link:p}):t("rf_licenses_features_no_link"),m=t("rf_licenses_best_option",{links:[{href:i.photos()},{href:i.illustrations()},{href:i.video()}]}),h=r.size>0?t("rf_possibilities",{keyword_link:p}):t("rf_possibilities_no_link"),v={links:[{href:i.royaltyFreeImages()},{href:i.faqUsingFiles(o)}]},g=t(function(e){switch(e){case Li.pE.ILLUSTRATIONS:return"learn_more_about_faq_illustrations";case Li.pE.VIDEOS:return"learn_more_about_faq_videos";default:return"learn_more_about_faq_photos"}}(o),v);return n.isBot||n.isFirstTimeVisitor?(0,yi.jsx)("section",{className:co,children:(0,yi.jsx)("div",{className:Di()(_o,(_={},_[lo]="image"===s,_[uo]="film"===s,_)),children:(0,yi.jsxs)("div",{className:po,children:[(0,yi.jsx)("h2",{className:fo,children:t("frequently_asked_questions_capitalized")}),(0,yi.jsx)("hr",{className:mo}),(0,yi.jsxs)("dl",{className:go,children:[(0,yi.jsx)("dt",{className:wo,children:t("what_is_a_rf_license")}),(0,yi.jsx)("dd",{className:yo,children:(0,yi.jsx)(Gi.Z,{children:f})}),(0,yi.jsx)("dt",{className:wo,children:t("what_kinds_rf_files_istock")}),(0,yi.jsx)("dd",{className:yo,children:(0,yi.jsx)(Gi.Z,{children:m})}),(0,yi.jsx)("dt",{className:wo,children:t("how_to_use_rf_assets")}),(0,yi.jsx)("dd",{className:yo,children:(0,yi.jsx)(Gi.Z,{children:h})})]}),(0,yi.jsx)("hr",{className:ho}),(0,yi.jsx)("p",{className:vo,children:(0,yi.jsx)(Gi.Z,{children:g})})]})})}):null},So=n(5146);function Eo(){Eo=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,s=Object.create(r.prototype),o=new A(i||[]);return a(s,"_invoke",{value:I(e,n,o)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",m="completed",h={};function v(){}function g(){}function w(){}var y={};l(y,s,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(k([])));S&&S!==n&&i.call(S,s)&&(y=S);var E=w.prototype=v.prototype=Object.create(y);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,r,s,o){var c=u(e[a],e,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var r;a(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,a){n(e,i,t,a)}))}return r=r?r.then(a,a):a()}})}function I(t,n,i){var a=_;return function(r,s){if(a===f)throw new Error("Generator is already running");if(a===m){if("throw"===r)throw s;return{value:e,done:!0}}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var c=C(o,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===_)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=f;var l=u(t,n,i);if("normal"===l.type){if(a=i.done?m:p,l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=m,i.method="throw",i.arg=l.arg)}}}function C(t,n){var i=n.method,a=t.iterator[i];if(a===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=u(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var s=r.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(x.prototype),l(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var s=new x(d(e,n,i,a),r);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(E),l(E,c,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(i,a){return o.type="throw",o.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function To(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}function xo(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){To(r,i,a,s,o,"next",e)}function o(e){To(r,i,a,s,o,"throw",e)}s(void 0)}))}}var Io=function(e,t){return e.filter((function(e){return e.id!==t}))},Co=function(e){return e.map((function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t(n)},n.onerror=function(){t()},n.src=e.thumb612Url||e.thumbUrl}))}))},No=function(e){return Promise.all(e).then((function(e){return e.filter((function(e){return e}))}))};function Oo(){return(Oo=xo(Eo().mark((function e(t){var n,i,a,r,s,o;return Eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=So.Z.appendQueryParamsToString("/asset-detail/mosaics/visual-search",t),e.next=4,I().get(n,{headers:{Accept:"application/json"}});case 4:return i=e.sent,a=Io(i.data.assets,t.id),r=Co(a),s=No(r),e.next=10,s;case 10:return o=e.sent.map((function(e,t){return Object.assign({},a[t],{image:e.src})})),e.abrupt("return",{assets:o,totalNumberOfResults:i.data.totalNumberOfResults});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Ao(e){return ko.apply(this,arguments)}function ko(){return(ko=xo(Eo().mark((function e(t){var n,i,a,r,s;return Eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I().get("/asset-detail/mosaics/get-stack/"+t.stackId+"?assettype="+t.assettype+"&pagesize="+t.pagesize,{headers:{Accept:"application/json"}});case 3:return n=e.sent,i=Io(n.data.assets,t.id),a=Co(i),r=No(a),e.next=9,r;case 9:return s=e.sent.slice(0,t.pagesize-1).map((function(e,t){return Object.assign({},i[t],{image:e.src})})),e.abrupt("return",{assets:s,totalNumberOfResults:n.data.totalNumberOfResults});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var Do=n(84688),jo=n(97871),Po=function(e,t,n,i){void 0===i&&(i=void 0);var a={name:"adpInteraction",payload:{adp_interaction:"mosaic_grid "+t,adp_selection:i?n+" "+i:n}};(0,_.j)(a,e)},Lo=function(e){var t=(0,Ci.T)(),n=(0,Zs.u)();t.sendItemSelectedSignal("subfold",e,"view_all_grid"),n.prepareEvent("search",{ui_element_location:"view_all_"+e+"_overlay_adp"});var i=(0,Ps.M)({event_name:"search_"+e,search_selection:"view_all_asset_overlay_cta",ui_element_location:"mosaic_grid"});Po(i,"view_all_overlay_click",e)},Ro=function(e,t,n,i){var a,r,s,o=null!=(a=e.assetId)?a:e.id,c=(0,Ci.T)(),l=(0,Ps.M)({event_name:n+"_click",search_selection:o,ui_element_location:"mosaic_grid",search_grid_slot_number:t}),d=(0,jo.Z)({asset_id:o,asset_type:"film"===e.assetType?"video":"image",asset_family:e.assetFamily,istock_collection:e.istockCollection,ui_element_location:i});r=d,void 0===s&&(s=null),(0,_.j)(s,r),Po(l,"click",n,t),c.sendItemSelectedSignal("subfold",n,o)},Fo={placeholderHeight:"aLEuO4fxsjJa5wvHUfPX"},Mo=n(6725),Uo=(0,Do.kF)({asyncImport:function(e){return Promise.resolve().then(n.bind(n,6725))},chunkName:function(e){return"MosaicGrid-MosaicGrid"},options:{}}),Bo=(0,ya.Z)((function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,a=(0,Ai.T)(),r=(0,c.v9)((function(e){return e.asset})),s=(0,i.useState)(null),o=s[0],l=s[1],d=(0,i.useState)(null),u=d[0],_=d[1],p=r.stackId||r.assetId;(0,i.useEffect)((function(){var e={id:r.assetId,stackId:p,assettype:"image",pagesize:5},i={id:r.assetId,stackId:p,assettype:"film",pagesize:5},a=!0;return r.isImage&&e.stackId&&(t(),Ao(e).then((function(e){a&&(l(e),e.assets.length>0?n("same_series_images"):n(null))}))),r.isFilm&&i.stackId&&(t(),Ao(i).then((function(e){a&&(_(e),e.assets.length>0?n("same_series_videos"):n(null))}))),function(){a=!1}}),[]);var f=function(e){return{trackViewAllOverlay:function(){Lo(e)},trackAssetClick:function(t,n,i){Ro(t,n,e,i)}}};return(0,yi.jsxs)(yi.Fragment,{children:[r.isFilm?(0,yi.jsx)(Uo,{data:u,containerStyles:Fo,header:a("same_series_videos"),linkText:a("view_all_video_clips"),viewAllUrl:"/search/stack/"+p+"?assettype=film",overlayText:a("videos"),tracking:f("same_series_videos"),inGridCount:4,gridType:Mo.MOSAIC_GRID_TYPES.SINGLE_ROW}):null,r.isImage?(0,yi.jsx)(Uo,{data:o,isImage:r.isImage,containerStyles:Fo,header:a("same_series_images"),linkText:a("view_all_photos"),viewAllUrl:"/search/stack/"+p+"?assettype=image",overlayText:a("photos"),tracking:f("same_series_images"),inGridCount:4,gridType:Mo.MOSAIC_GRID_TYPES.SINGLE_ROW}):null]})}),"similar_series"),zo={placeholderHeight:"dyci2fKWjtOQxtrC3X46"},Wo=(0,Do.kF)({asyncImport:function(e){return Promise.resolve().then(n.bind(n,6725))},chunkName:function(e){return"MosaicGrid-MosaicGrid"},options:{}}),Go=(0,ya.Z)((function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,a=(0,Ai.T)(),r=(0,qs.PL)(),s=(0,c.v9)((function(e){return e.asset})),o=s.assetId,l=s.assetType,d=s.mediaType,u=s.isImage,_=(0,c.v9)((function(e){return e.searchPhrase})),p=(0,c.v9)((function(e){return e.searchScope})),f=(0,i.useState)(null),m=f[0],h=f[1];(0,i.useEffect)((function(){var e={assetid:o,assettype:l,mediatype:d};_&&"image"===l&&(e.phrase=_);var i=!0;return t(),function(e){return Oo.apply(this,arguments)}(e).then((function(e){if(i){h(e);var t=u?"similar_images":"similar_videos";(null==e?void 0:e.assets.length)>0?n(t):n(null)}})),function(){i=!1}}),[]);var v=function(e){return{trackViewAll:function(){!function(e){var t=(0,Ci.T)(),n=(0,Zs.u)();t.sendItemSelectedSignal("subfold",e,"view_all"),n.prepareEvent("search",{ui_element_location:"view_all_"+e+"_adp"});var i=(0,Ps.M)({event_name:"search_"+e,search_selection:"view_all_cta",ui_element_location:"mosaic_grid"});Po(i,"view_all_click",e)}(e)},trackViewAllOverlay:function(){Lo(e)},trackAssetClick:function(t,n,i){Ro(t,n,e,i)}}};return(0,yi.jsx)(Wo,{data:m,isImage:u,containerStyles:zo,header:a(u?"similar_images":"similar_films"),linkText:a(u?"view_all_photos":"view_all_video_clips"),viewAllUrl:r.searchByAssetPath({assetid:o,assettype:l}),overlayText:a(u?"similar_images":"similar_films"),tracking:v(u?"similar_images":"similar_videos"),inGridCount:30,gridType:Mo.MOSAIC_GRID_TYPES.MULTI_ROW,searchScope:p})}),"similar_assets"),Vo="cDB0XfdgBlHwrSf1wGRq",Ho=function(){var e=(0,i.useState)([]),t=e[0],n=e[1],a=(0,i.useState)(0),r=a[0],s=a[1],o=function(){s((function(e){return e+1}))},c=function(e){n((function(t){return[].concat(t,[e])}))};return(0,i.useEffect)((function(){if(r>0&&t.length===r){var e=t.filter((function(e){return null!==e})).join(",");n=e,i=(0,Ps.M)({event_name:"search_grid_shown",search_selection:n,ui_element_location:"mosaic_grid"}),Po(i,"shown",n)}var n,i}),[t]),(0,yi.jsxs)("section",{className:Vo,children:[(0,yi.jsx)(Bo,{increaseGridCounter:o,addTrackedGrid:c}),(0,yi.jsx)(Go,{increaseGridCounter:o,addTrackedGrid:c})]})},Yo={};Yo[p.expired]=Zo((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Account_Subscription_Expired_Warning_Renew_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_expired_message"})})),Yo[p.paused]=Zo((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Suspended_Notification_CTA_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_paused_message"})})),Yo[p.suspended]=Zo((function(e){e.can_unsuspend&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Unsuspend_Subscription_Notification_CTA_Click",account_selection:"adp_unsuspend_subscription_message",sku:e.sku,ui_element_location:window.tracking_data.page_name})}));var Ko=function(e){};function Zo(e){return function(t){if(t)switch(t.name){case v.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case v.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:return e}return Ko}}var qo=function(e,t,n,i){var a;(void 0===n&&(n=!0),void 0===i&&(i=null),"checkout"===t)?a=n?"?":"&":a=e.search(/\?/)<0?"?":"&";return e+=a+(i?"fastcheckoutasset="+i:"in-pricing-clarity=true"),window.siteMap.cleanRelativePath(e)},Xo={getPricingUrl:function(e,t){return void 0===t&&(t=!0),qo(e,"pricing",t)},getCheckoutUrl:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=null),qo(e,"checkout",t,n)}},Qo=n(23369),Jo=function(){var e=(0,Ai.T)(),t=(0,c.I0)(),n=(0,c.v9)((function(e){return e.redirectToUrl})),a=(0,c.v9)((function(e){return e.calc.step.ctaTitle})),r=(0,wr.Z)(),s=(0,c.v9)((function(e){return e.calc})),o=s.isInPricingClarity,l=s.assetIsVideo,d=s.hasAvailableCredits,u=s.step,p=u.name,f=u.pricingOption,m=u.showPricingClarity,h=u.viewLicenseSelection,v=(0,c.v9)((function(e){return e.userDetails.fast_checkout_subs_annual_pack_sku})),g=(0,c.v9)((function(e){return e.userDetails})),w=g.fast_checkout_subs_pack_sku,y=g.istock_fast_checkout_larger_offer_credit_pack_sku,b=g.istock_smarter_fast_checkout_last_purchase_sku,S=g.istock_smarter_fast_checkout_largest_purchase_sku,E=g.premium_video_subscription_enabled,T=g.standard_asset_credit_pack,x=g.country_code,I=g.has_subscription,C=(0,c.v9)((function(e){return e.asset})),N=C.assetId,O=C.standardLicense,A=(0,c.v9)((function(e){return e.buyCardData})),k=A.mubRedirectUrl,D=A.pricingClarityPacks,j=(0,Ii._P)("PnpVideoFocusTest"),P=function(t){if(t===k||t.includes("sign-in"))return t;var n="/"+e(t);return function(e){return/(.*)JS translation missing(.*)/.test(e)?window.siteMap.cleanRelativePath("/plans-and-pricing"):e}(window.siteMap.cleanRelativePath(n))},L=function(){return j.isActive()&&l?(e=P(n),So.Z.appendQueryParamsToString(e,{videofocus:!0})):P(n);var e},R=function(e){return window.location.href=e};(0,i.useEffect)((function(){n&&R(L())}),[n]);var F=function(){return"checkoutLargerCreditPack"===f?y:T.product_sku},M=function(){return o&&m&&!h},U=function(e,t){var n=(0,yr.Z)({cta_interaction:"view_plans_and_pricing_cta_clicked",cta_text:e,cta_url:t,ui_element_location:r});(0,_.j)(null,n)},B=function(){var e=null==D?void 0:D[f];if(e){var t=Object.assign({},e.toJS(),{location_id:r}),n=(0,Qo.Z)({products:[t],ui_element_location:r});(0,_.j)(null,n)}};return{redirectToPricing:function(){"pricing"===f&&"PICK_PRICING_CLARITY_PAYMENT_OPTION"===p&&"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-subscription");var e=P(Hn.getPricingRoute(l));return M()&&!E?e=Xo.getPricingUrl(e):j.isActive()&&"TestA"===j.offerValue()&&l&&!d&&!I?e=P(Hn.videoPnpRoute):!l&&Rt.inGeoLocPricingTest(x)&&(e=P(Hn.defaultPnpRoute)),j.isActive()&&l&&!d&&!I?e=So.Z.appendQueryParamsToString(e,{videofocus:!0}):l&&d&&!I&&(e=P(Hn.videoPnpSubsRoute)),U(a,e),R(e)},redirectToFastCheckoutWithSubscription:function(){var e="/purchase/subscriptions/"+w;return e=Xo.getCheckoutUrl(e,!0,N),B(),R(e)},redirectToFastCheckoutWithAnnualPack:function(){var e="/purchase/subscriptions/"+v;return e=Xo.getCheckoutUrl(e,!0,N),B(),R(e)},redirectToSmarterFastLastPurchaseCheckout:function(){var e;return e=b.includes("CREDITPCK")?"/purchase/credits/"+b+"?sfcheckout=true":"/purchase/subscriptions/"+b+"?sfcheckout=true",e=Xo.getCheckoutUrl(e,!0,N),B(),R(e)},redirectToSmarterFastLargestPurchaseCheckout:function(){var e;return e=S.includes("CREDITPCK")?"/purchase/credits/"+S+"?sfcheckout=true":"/purchase/subscriptions/"+S+"?sfcheckout=true",e=Xo.getCheckoutUrl(e,!0,N),B(),R(e)},redirectToCheckout:function(){var e,t=1===O.credit_cost?"oneCredit":"moreThanOneCredit";if(["essentialsSubscription","signatureSubscription"].includes(t)){e="/purchase/subscriptions/"+{essentialsSubscription:"SUBISTOCK1M10",signatureSubscription:"SUBISTOCKPREM1M10"}[t],M()&&(e=Xo.getCheckoutUrl(e,!0,N))}else{var n=F();"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-creditPack"),e="/purchase/credits/"+n,M()&&(e=Xo.getCheckoutUrl(e,!0,N))}return B(),R(e)},handleAccountSelection:function(){return t(Ee.goToNextStep())},redirectToCreditPacks:function(){var e=Hn.getCreditsPricingRoute(l),t=P(e);return U(a,t),R(t)},translateCleanAndValidatePath:P,redirectToFastCheckout:function(){var e="/purchase/credits/"+F()+"?asset_type=film";return e=Xo.getCheckoutUrl(e,!1,N),R(e)},redirectToUrlFromState:function(){R(L())}}},$o=["styles"];function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ec.apply(this,arguments)}var tc=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,$o);return a().createElement("svg",ec({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("path",{d:"M10 19.5C4.776 19.5.5 15.224.5 10S4.776.5 10 .5s9.5 4.276 9.5 9.5-4.276 9.5-9.5 9.5z",fill:"#fff",stroke:"#AEDDD6"}),a().createElement("path",{d:"M9.145 5v5.922h1.71V5h-1.71zM11 13.094c0-.558-.436-.927-.994-.927-.56 0-1.006.369-1.006.927 0 .559.447.939 1.006.939.558 0 .994-.38.994-.939z",fill:"#02A388"}))},nc=n(91740),ic="s7zJ6flazXeb0i1UtVug",ac="YpbZgjd7r4dFQ5htn7BP",rc="MT19e4f4g7osxjGa14ce",sc="KW3Kdz6_SS6SmSmR7bul",oc="nvLTNVscW2f7ZO2VzdSQ",cc=["styles"];function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lc.apply(this,arguments)}var dc=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,cc);return a().createElement("svg",lc({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10z",fill:"#666E6E"}),a().createElement("path",{d:"M10 12.4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm.6-1.2H9.4L8.7 7V4.8c0-.1.1-.2.2-.2H11c.1 0 .2.1.2.2V7l-.6 4.2z",fill:"#fff"}))},uc=n(33176),_c="Y4FD6f8FxBaLutQol3K8",pc="e4wiKtVSGO_8Jm8QnhHl",fc="aiBo2I8GKiFYKvA1MS3w",mc="dHYSF5dr9VZc4DurQWPN",hc="IOvPEbM1g30GyUL4pXD4",vc="QKxLIZgNOzKPzIPrhX_Y",gc="JKSEqQMZA22nl9TixXFN",wc="K_BroTWzNiH7MJZOObIk",yc="ERyIVRSgtC1MXTTeboU6",bc="sbHky8ZLIEpFcKZvtRQl",Sc="zjAhVEAOetjA2NRWwVIg",Ec="Pz6NQQghsn_UJ_dpKKzd",Tc="ceQbTDLlCsDJV1l1OKbn";function xc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ic(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Cc=(0,ya.Z)((function(e){var t,n,i=e.onReasonForWarningClick,a=e.handleReasonForWarningClick,r=e.handleAdditionalInfoWarningClick,s=e.handleAdditionalInfoWarningKeyDown,o=e.warningCtaClicked,l=(0,Ai.T)(),d=(0,xa.b)(),u=(0,c.I0)(),_=(0,c.v9)((function(e){return e.calc.step.userInTestB})),p=(0,c.v9)((function(e){return e.calc.step.reasonForBox})),f=(0,c.v9)((function(e){return e.calc.step.warningCta})),m=(0,c.v9)((function(e){return e.userDetails})),h=(0,c.v9)((function(e){return e.calc.step.persistentWarning})),v=(0,c.v9)((function(e){return e.calc.step.premiumVideoEnabled})),g=(0,c.v9)((function(e){return e.calc.step.userHasAnnualSubscription})),w=(0,c.v9)((function(e){return e.calc.step.reasonForBoxLink})),y=(0,c.v9)((function(e){return e.calc.step.additionalInfoHtml})),b=Jo().translateCleanAndValidatePath,S=function(){u(Ee.closeDownloadErrorMessage())},E=function(){var e=y.translationVariables.credit_amount,t=null==m?void 0:m.standard_asset_credit_pack;return t&&"undefined"!==t.price&&(e=(0,uc.xG)(t.price,d,m.currency_code,{minimumFractionDigits:0})),e};return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsxs)("section",{className:pc,children:[!h&&(0,yi.jsx)("div",{className:"adp-file-cancel-button-wrapper "+fc,"data-testid":"warning-box-close",children:(0,yi.jsx)("div",{role:"button",tabIndex:0,className:"adp-confirm-close-btn",onClick:S,onKeyDown:function(e){"Enter"===e.key&&S()}})}),(0,yi.jsx)("div",{className:rc,children:(0,yi.jsxs)("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:a,className:"title "+vc,"data-testid":"reason-for-warning",children:[(0,yi.jsx)("div",{className:mc+" "+(g?hc:""),children:(0,yi.jsx)(dc,{className:oc})}),(0,yi.jsx)("div",{children:(0,yi.jsx)(Gi.Z,{children:(n={},w&&(n.links=[{href:b(w),id:"reason-for-warning"}]),l(v?g?"video_not_available_with_annual_subscription_test_group":"video_not_available_with_monthly_subscription_test_group":p,n))})})]})})]}),(0,yi.jsx)("section",{className:Ec,"data-testid":"warning-box",children:(0,yi.jsxs)("div",{className:"download-box "+Tc,"data-testid":"warning-box-warning",children:[(0,yi.jsxs)("div",{className:"warning-message "+Sc,"data-testid":"warning-message",onClick:r,onKeyDown:s,children:[_&&(0,yi.jsx)("div",{children:(0,yi.jsx)("span",{className:_c,children:l("exclusive_offer_title_testb")})}),(0,yi.jsxs)("div",{children:[_&&(0,yi.jsxs)("span",{className:gc,children:[E(),(0,yi.jsx)("span",{className:wc})]}),(0,yi.jsx)("span",{className:bc,children:function(){var e=E(),t=null==m?void 0:m.standard_asset_credit_pack;if(_&&null!=t&&t.alternate_prices)for(var n,i=xc(t.alternate_prices);!(n=i()).done;){var a=n.value;if("VIDEO_PRICING_TEST"===a.name){e=(0,uc.xG)(a.price,d,m.currency_code,{minimumFractionDigits:0});break}}return l("amount_for_clip",{clip_amount:e})}()}),(0,yi.jsx)("br",{}),(0,yi.jsx)("span",{className:yc,children:(t={credit_units:y.translationVariables.credit_cost},l("when_you_buy_credits",t))})]})]}),f&&(0,yi.jsxs)("div",{className:"warning-cta "+f.ctaClass,"data-testid":"warning-cta",children:[f.url&&(0,yi.jsx)("a",{className:"warning-cta__text",href:f.url,onClick:o,"data-testid":"warning-cta-url",children:l(f.tag)+" >"}),!f.url&&(0,yi.jsx)("span",{className:"warning-cta__text",children:l(f.tag)})]})]})})]})}),"test_user_warning_box"),Nc=(0,ya.Z)((function(){var e=(0,c.v9)((function(e){return e.calc.step.userInTestA})),t=(0,c.v9)((function(e){return e.calc.step.userInTestB})),n=(0,c.I0)(),i=(0,Ai.T)(),a=(0,c.v9)((function(e){return e.calc.step})),r=(0,c.v9)((function(e){return e.subscription})),s=(0,c.v9)((function(e){return e.calc.step.warningClass})),o=(0,c.v9)((function(e){return e.calc.step.reasonForBox})),l=(0,c.v9)((function(e){return e.calc.step.reasonForBoxLink})),d=(0,c.v9)((function(e){return e.calc.step.warningMessageClass})),u=(0,c.v9)((function(e){return e.calc.step.warningCta})),p=(0,c.v9)((function(e){return e.calc.step.additionalInfoHtml})),f=(0,c.v9)((function(e){return e.calc.step.additionalInfoHtmlLink})),m=(0,c.v9)((function(e){return e.calc.step.persistentWarning})),h=(0,c.v9)((function(e){return e.calc.step.triggerTracking})),v=(0,c.v9)((function(e){return e.calc.step.lightBlueWarning})),g=Jo().translateCleanAndValidatePath,w=(0,wr.Z)(),y=function(){n(function(e,t){if(e){var n=Yo[e.status];n&&n(t)(e)}}(r,a))},b=function(){return h()},S=function(e,t){var n=(0,yr.Z)({cta_interaction:"view_plans_and_pricing_cta_clicked",cta_text:e,cta_url:t,ui_element_location:w});(0,_.j)(null,n)},E=function(e){"reason-for-warning"===e.target.id&&b(),null!=l&&l.includes("urls.plans_and_pricing")&&S(o,g(l))},T=function(e){"Enter"===e.key&&b()},x=function(e){var t;if("A"===e.target.tagName&&null!=f&&null!=(t=f.href)&&t.includes("urls.plans_and_pricing")){var n=g(f.href);S(p.tag,n)}},I=function(){var e={};return l&&(e.links=[{href:g(l),id:"reason-for-warning"}]),i(o,e)};return e||t?(0,yi.jsx)(Cc,{warningCtaClicked:y,onReasonForWarningClick:E,handleAdditionalInfoWarningClick:x,handleAdditionalInfoWarningKeyDown:x,handleReasonForWarningClick:T}):(0,yi.jsxs)("section",{className:"download-box "+(v?ac:""),"data-testid":"warning-box",children:[!m&&(0,yi.jsx)("div",{className:"adp-file-cancel-button-wrapper","data-testid":"warning-box-close",children:(0,yi.jsx)(nc.h,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",onClick:function(){n(Ee.closeDownloadErrorMessage())}})}),(0,yi.jsxs)("div",{className:"box "+s,"data-testid":"warning-box-warning",children:[v?(0,yi.jsxs)("div",{className:rc,"data-testid":"light-blue-warning",children:[(0,yi.jsx)(tc,{className:oc}),o&&(0,yi.jsx)("div",{role:"button",tabIndex:0,onClick:E,onKeyDown:T,className:"title "+sc,"data-testid":"reason-for-warning",children:(0,yi.jsx)(Gi.Z,{children:I()})})]}):(0,yi.jsxs)("div",{children:[(0,yi.jsx)("div",{className:"error-icon"}),o&&(0,yi.jsx)("div",{role:"button",tabIndex:0,onClick:E,onKeyDown:T,className:"title "+(p?ic:""),"data-testid":"reason-for-warning",children:(0,yi.jsx)(Gi.Z,{children:I()})})]}),p&&(0,yi.jsx)("div",{className:"warning-message "+d,"data-testid":"warning-message",onClick:x,onKeyDown:function(e){"Enter"===e.key&&x()},children:(0,yi.jsx)(Gi.Z,{children:(f&&(p.translationVariables.links=[Object.assign({},Object.fromEntries(f),{href:g(f.href)})]),i(p.tag,p.translationVariables))})}),u&&(0,yi.jsxs)("div",{className:"warning-cta "+u.ctaClass,"data-testid":"warning-cta",children:[u.url&&(0,yi.jsx)("a",{className:"warning-cta__text",href:u.url,onClick:y,"data-testid":"warning-cta-url",children:i(u.tag)+" >"}),!u.url&&(0,yi.jsx)("span",{className:"warning-cta__text",children:i(u.tag)})]})]})]})}),"warning_box"),Oc=n(69406),Ac=n(63988),kc=function(e){var t=e.postContent,n=e.className,i=e.preContent,a=e.checked,r=e.children,s=e.onChange,o=e.value,l=e.name,d=e.id,u=(0,c.v9)((function(e){return e.userDetails.smarter_fast_checkout_active})),p=(0,c.v9)((function(e){return e.userDetails.istock_smarter_fast_checkout_last_purchase_sku})),f=(0,c.v9)((function(e){return e.userDetails.istock_smarter_fast_checkout_largest_purchase_sku})),m=(0,c.v9)((function(e){return e.userDetails.istock_smarter_fast_checkout_raw_largest_purchase_sku})),h=(0,c.v9)((function(e){return e.asset.isImage}));return(0,yi.jsxs)("div",{className:Di()("purchase-choice",n,{"purchase-choice--selected":a,"radio-button-selected":a}),"data-testid":"radio-button",children:[(0,yi.jsxs)("label",{htmlFor:d,children:[i,(0,yi.jsxs)("div",{className:"purchase-choice__control",children:[(0,yi.jsx)("div",{className:"radio-button",children:(0,yi.jsx)("input",{onChange:function(){s(),function(){if(u){var e="secondRadio"===d,t=[p];e&&(t=[f,m]);var n=function(e,t,n){var i="first_radio-last_purchased",a="adp_buy_card_purchase_choice_one";return t&&(i="second_radio-largest_purchased_upsell",a="adp_buy_card_purchase_choice_two"),{name:"adpInteraction",payload:{adp_interaction:e?"Image_ADP_Purchase_Choice_Selected":"Video_ADP_Purchase_Choice_Selected",adp_selection:i,ui_element_location:a,sku:n}}}(h,e,t);(0,_.j)(n)}}()},"data-testid":"radio-button--input__"+d,type:"radio",value:o,name:l,id:d,checked:a})}),(0,yi.jsx)("div",{children:r})]})]}),t&&t]})};kc.defaultProps={className:"",preContent:null,postContent:null,checked:!1,id:null,onChange:function(){},value:null};var Dc=kc,jc=function(e){var t=e.option,n=e.selectedPricingOption,i=e.selectPricingClarityOptionToggle,a=(0,c.v9)((function(e){return e.buyCardData.pricingClarityTranslations.firstRadioContent})),r=""!==a.sub_content,s=void 0!==(null==a?void 0:a.tertiary_content);return(0,yi.jsx)(Dc,{onChange:function(){n!==t&&i(t)},value:"checkout",checked:n===t,name:"purchase-choice",id:"firstRadio",children:(0,yi.jsxs)("div",{className:"purchase-type",children:[(0,yi.jsx)("div",{className:"purchase-type__text purchase-type--bold","data-testid":"first-radio-content",children:(0,yi.jsx)(Gi.Z,{children:null==a?void 0:a.main})}),r&&(0,yi.jsx)("div",{className:"purchase-type__sub-text purchase-type__sub-text--savings","data-testid":"first-radio-sub-content",children:(0,yi.jsx)(Gi.Z,{children:null==a?void 0:a.sub_content})}),s&&(0,yi.jsx)("div",{className:"purchase-type__ter-text","data-testid":"first-radio-tertiary-content",children:(0,yi.jsx)(Gi.Z,{children:a.tertiary_content})})]})})};jc.defaultProps={selectedPricingOption:null};var Pc=jc,Lc={badge:"MnOXttMlK_n19IlHSCSb"},Rc=function(e){var t=e.children,n=e.className,i=[Lc.badge,n].join(" ");return(0,yi.jsx)("span",{className:i,children:t})};Rc.defaultProps={className:""};var Fc=Rc,Mc=function(e){var t=e.option,n=e.selectedPricingOption,a=e.selectPricingClarityOptionToggle,r=e.showNewCustomerPPVOffer,s=e.postContent,o=e.secondRadioContent,l=e.radioButtonTitle,d=e.radioButtonSubContent,u=(0,c.v9)((function(e){return e.userDetails.fast_checkout_sub_savings})),p=(0,Ai.T)(),f=void 0!==(null==o?void 0:o.tertiary_content);return(0,i.useEffect)((function(){if(r){window.tracking_data.merchandising_units="ppv_new_customer_offer_adp_module";(0,_.j)({name:"merchUnitInteraction",payload:{merch_unit_interaction:"Shown",merch_unit_selection:"new_customer_ppv_offer_pill",ui_element_location:"adp_buy_card"}})}}),[]),(0,yi.jsxs)(Dc,{onChange:function(){n!==t&&a(t)},name:"purchase-choice",value:t,id:"secondRadio",checked:n===t,postContent:s,children:[r?(0,yi.jsx)(Fc,{className:"purchase-choice__badge",children:(0,yi.jsx)(Gi.Z,{children:p("new_customer_price")})}):null,(0,yi.jsx)("div",{className:"purchase-type "+(u?"purchase-type--bold":""),"data-test-id":"second-radio-main-content",children:(0,yi.jsx)(Gi.Z,{children:l})}),(0,yi.jsx)("div",{className:"purchase-type__sub-text "+(u?"purchase-type__sub-text--savings":""),"data-testid":"second-radio-sub-content",children:(0,yi.jsx)(Gi.Z,{children:d})}),f&&(0,yi.jsx)("div",{className:"purchase-type__ter-text","data-testid":"second-radio-tertiary-content",children:(0,yi.jsx)(Gi.Z,{children:o.tertiary_content})})]})};Mc.defaultProps={selectPricingClarityOptionToggle:function(){},selectedPricingOption:null,showNewCustomerPPVOffer:!1,postContent:null,radioButtonTitle:"",radioButtonSubContent:"",secondRadioContent:null};var Uc=Mc,Bc=(0,ya.Z)((function(){var e=(0,Ai.T)(),t=(0,wr.Z)(),n=(0,Ii._P)("AnnualMonthlySubscriptionADPToggle").isOfferActive("ExpB"),a=(0,i.useState)(n),r=a[0],s=a[1],o=(0,c.v9)((function(e){return e.buyCardData.showPricingClarityDurationToggle})),l=o&&!n,d=(0,c.v9)((function(e){return e.calc.step.pricingOption})),u=(0,c.v9)((function(e){return e.userDetails.videoPricingClarityVariance})),p=(0,c.v9)((function(e){return e.userDetails.new_customer_ppv_offer})),f=(0,c.v9)((function(e){return e.buyCardData.pricingClarityTranslations.secondRadioContent})),m=(0,c.v9)((function(e){return e.buyCardData.pricingOptions.firstRadioOption})),h=(0,c.v9)((function(e){return e.buyCardData.pricingOptions.secondRadioOption})),v=0!==f.size,g=v?o?r?$t:Jt:h:null,w=(0,c.v9)((function(e){return e.buyCardData.pricingClarityPacks})),y=(0,c.I0)(),b=function(e){y(Ee.selectPricingClarityOptionToggle(e))},S=(0,i.useState)(l?f.main_content_annual:f.main),E=S[0],T=S[1],x=(0,i.useState)(l?f.sub_content_annual:f.sub_content),I=x[0],C=x[1],N=function(e){var n=e.map((function(e){return w[e]})).filter((function(e){return!!e})).map((function(e){return Object.assign({},e.toJS(),{location_id:t})})),i=(0,Ac.Z)({products:n,ui_element_location:t});(0,_.j)(null,i)};(0,i.useEffect)((function(){if(o){var e=r?$t:Jt;if(e!==d){var t=r?[f.main,f.sub_content]:[f.main_content_annual,f.sub_content_annual],n=t[0],i=t[1];b(e),C(i),T(n),N([g])}}}),[r]);return(0,i.useEffect)((function(){N([m,g])}),[]),(0,yi.jsxs)("section",{className:"pricing-clarity","data-testid":"pricing-clarity-options",children:[u&&(0,yi.jsx)("hr",{"data-testid":"hr"}),(0,yi.jsx)(Pc,{option:m,selectedPricingOption:d,selectPricingClarityOptionToggle:b}),v&&(0,yi.jsx)(Uc,{option:g,selectedPricingOption:d,selectPricingClarityOptionToggle:b,showNewCustomerPPVOffer:p,secondRadioContent:f,radioButtonTitle:E,radioButtonSubContent:I,postContent:o?(0,yi.jsx)("div",{className:"toggle-wrapper","data-testid":"duration-toggle",children:(0,yi.jsx)(Oc.rs,{id:"annual-monthly",className:"custom-switch",checked:r,onChange:function(e){var t=e.target.checked;s(t)},checkedLabel:e("month_to_month"),uncheckedLabel:e("annual_plan")})}):null}),(0,yi.jsx)("hr",{})]})}),"pricing_clarity_options"),zc=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,i=(0,c.v9)((function(e){return e.calc.totalCreditCost})),a=(0,c.v9)((function(e){return e.calc.selectedAccountCredits})),r=(0,c.v9)((function(e){return e.calc.step.creditsAvailable})),s=(0,Ai.T)(),o=Q.CREDIT_PACK,l=function(){n!==o&&r&&t(o)};return(0,yi.jsx)("div",{role:"radio","aria-checked":n===o,tabIndex:0,className:"purchase-choice "+(n===o&&"purchase-choice--selected radio-button-selected")+" "+(!r&&"purchase-choice--unavailable radio-button-disabled"),onClick:l,onKeyPress:function(e){"Enter"===e.key&&l()},"data-testid":"radio-button",children:(0,yi.jsxs)("div",{className:"purchase-choice__control",children:[(0,yi.jsx)("div",{className:"radio-button",children:(0,yi.jsx)("input",{type:"radio","data-testid":"radio",value:"credits",name:"purchase-choice",id:"credits"})}),(0,yi.jsxs)("label",{htmlFor:"credits","data-testid":"label",children:[(0,yi.jsxs)("div",{className:"purchase-type",children:[i>1&&(0,yi.jsx)("span",{children:s("more_than_one_credit",{zero:i})}),1===i&&(0,yi.jsx)("span",{children:s("one_credit")})]}),(0,yi.jsx)("div",{className:"amount-remaining",children:s("credit_balance_available",{credit_balance:a})})]})]})})};zc.defaultProps={selectedAgreementType:null};var Wc=zc,Gc=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,i=(0,c.v9)((function(e){return e.calc.step.subsAvailable})),a=(0,c.v9)((function(e){return e.calc.step.subDownloadsTranslationValue})),r=(0,c.v9)((function(e){return e.calc.step.subTitleTranslation})),s=(0,Ai.T)(),o=Q.ROYALTY_FREE_SUBSCRIPTION,l=function(){n!==o&&i&&t(o)};return(0,yi.jsx)("div",{className:"purchase-choice "+(n===o&&"purchase-choice--selected radio-button-selected")+" "+(!i&&"purchase-choice--unavailable radio-button-disabled"),onClick:l,onKeyPress:function(e){"Enter"===e.key&&l()},"data-testid":"radio-button",role:"radio",tabIndex:0,"aria-checked":n===o,children:(0,yi.jsxs)("div",{className:"purchase-choice__control",children:[(0,yi.jsx)("div",{className:"radio-button",children:(0,yi.jsx)("input",{type:"radio",value:"subscription",name:"purchase-choice",id:"subscription","data-testid":"radio"})}),(0,yi.jsxs)("label",{htmlFor:"subscription","data-testid":"label",children:[(0,yi.jsx)("div",{className:"purchase-type",children:s(r)}),(0,yi.jsx)("div",{className:"amount-remaining",children:s("subscription_downloads_remaining",{downloads_remaining:a})})]})]})})};Gc.defaultProps={selectedAgreementType:null};var Vc=Gc,Hc=function(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.calc.selectedAgreementType})),n=(0,c.v9)((function(e){return e.calc.step.showSubscriptionField})),i=(0,Ai.T)(),a=function(t){e(Ee.setSelectedAgreementType(t))};return(0,yi.jsxs)("section",{className:"adp-download-choices","data-testid":"download-choices",children:[(0,yi.jsx)("div",{className:"title",children:i("how_will_you_pay")}),(0,yi.jsx)("hr",{}),n&&(0,yi.jsx)(Vc,{selectedAgreementType:t,onSetSelectedAgreementType:a}),(0,yi.jsx)("hr",{}),(0,yi.jsx)(Wc,{selectedAgreementType:t,onSetSelectedAgreementType:a}),(0,yi.jsx)("hr",{})]})},Yc=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,i=(0,Ai.T)(),a=le.PERSONAL,r=function(){n(a)};return(0,yi.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":t===a,className:"account-choice-container "+(t===a?"selected radio-button-selected":""),onClick:r,onKeyPress:function(e){"Enter"===e.key&&r()},"data-testid":"radio-button",children:[(0,yi.jsx)("div",{className:"radio-button",children:(0,yi.jsx)("input",{type:"radio",name:"account-choice",value:a,"data-testid":"radio",id:"personal"})}),(0,yi.jsx)("label",{"data-testid":"label",htmlFor:"personal",children:(0,yi.jsx)("div",{className:"account-type",children:i("download_using_my_account")})})]})};Yc.defaultProps={selectedAccount:null};var Kc=Yc,Zc=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,i=(0,c.v9)((function(e){return e.userDetails.team_name})),a=le.TEAM,r=(0,Ai.T)(),s=function(){n(a)};return(0,yi.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":t===a,className:"account-choice-container "+(t===a?"selected radio-button-selected":""),onClick:s,onKeyPress:function(e){"Enter"===e.key&&s()},"data-testid":"radio-button",children:[(0,yi.jsx)("div",{className:"radio-button",children:(0,yi.jsx)("input",{type:"radio",name:"account-choice",value:a,id:"team","data-testid":"radio"})}),(0,yi.jsx)("div",{className:"company-icon"}),(0,yi.jsx)("label",{"data-testid":"label",htmlFor:"team",children:(0,yi.jsx)("div",{className:"account-type",children:r("download_on_behalf_of_the_team",{name:i})})})]})};Zc.defaultProps={selectedAccount:null};var qc=Zc,Xc=function(){var e=(0,c.v9)((function(e){return e.calc.selectedAccount})),t=(0,c.I0)(),n=(0,i.useState)(e),a=n[0],r=n[1],s=function(e){t(Ee.setSelectedAccount(e)),r(e)};return(0,yi.jsxs)("section",{className:"adp-account-choices","data-testid":"account-choices",children:[(0,yi.jsx)("hr",{}),(0,yi.jsx)(Kc,{selectedAccount:a,setSelectedAccountChoiceOption:s}),(0,yi.jsx)("hr",{}),(0,yi.jsx)(qc,{selectedAccount:a,setSelectedAccountChoiceOption:s}),(0,yi.jsx)("hr",{})]})},Qc=["styles"];function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jc.apply(this,arguments)}var $c=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Qc);return a().createElement("svg",Jc({xmlns:"http://www.w3.org/2000/svg",width:"60",height:"44.5",viewBox:"0 0 60 44.5"},t),a().createElement("path",{fill:"#FFF",d:"M19.75 22.302l2.851-2.851 5.701 5.702L39.705 13.75l2.851 2.851-14.254 14.253z"}))},el=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=null),void 0===n&&(n=!1);var i=(0,c.I0)(),a=ps(),r=(0,Ci.T)(),s=(0,c.v9)((function(e){return e.calc.step})).dropboxEnabled,o=(0,c.v9)((function(e){return e.buyCardData})).mubRedirectUrl,l=(0,c.v9)((function(e){return e})).asset,d=(0,c.v9)((function(e){return e.calc})),u=d.selectedAssetSize,_=d.selectedAgreementSize,p=d.selectedAgreementType;return{createDownload:function(){return _?(a.setAssetDetailTrackingData("asset_size",u.name),r.sendAssetDownloadedSignal(l,{agreement_type:p}),i(ce(window.korrelationId,o,s,e,t,n))):i(ne("download_failed"))}}},tl=n(75328),nl=n(31465),il=n(3871),al=n(66931),rl="gTohuItovlNtAwu_K5ti",sl="FsO0VaojVsVdZGuz3txe";function ol(){ol=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,s=Object.create(r.prototype),o=new A(i||[]);return a(s,"_invoke",{value:I(e,n,o)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",m="completed",h={};function v(){}function g(){}function w(){}var y={};l(y,s,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(k([])));S&&S!==n&&i.call(S,s)&&(y=S);var E=w.prototype=v.prototype=Object.create(y);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,r,s,o){var c=u(e[a],e,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var r;a(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,a){n(e,i,t,a)}))}return r=r?r.then(a,a):a()}})}function I(t,n,i){var a=_;return function(r,s){if(a===f)throw new Error("Generator is already running");if(a===m){if("throw"===r)throw s;return{value:e,done:!0}}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var c=C(o,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===_)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=f;var l=u(t,n,i);if("normal"===l.type){if(a=i.done?m:p,l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=m,i.method="throw",i.arg=l.arg)}}}function C(t,n){var i=n.method,a=t.iterator[i];if(a===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=u(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var s=r.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(x.prototype),l(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var s=new x(d(e,n,i,a),r);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(E),l(E,c,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(i,a){return o.type="throw",o.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function cl(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}var ll={"super-cta":al.hZ.PRIMARY,"primary-cta":al.hZ.SECONDARY,"hollow-cta":al.hZ.HOLLOW},dl=function(e){var t,n=e.showEditor,i=e.modificationsVisualId,a=e.validateEpsPickerAndSave,r=e.isEpsFormatTest,s=e.epsFormatCtaTitle,o=(0,Ti.$o)().briaModificationExperiencesAreActive,l=Jo(),d=(0,Ai.T)(),u=(0,c.I0)(),p=(0,wa.N)(),f=el(n,i,o),m=(0,c.v9)((function(e){return e.calc.ctaInProgress})),h=(0,c.v9)((function(e){return e.calc.step.ctaAction})),g=(0,c.v9)((function(e){return e.calc.step.ctaClass})),w=null!=(t=ll[g])?t:al.hZ.PRIMARY,y=(0,c.v9)((function(e){return e.calc.step.ctaTitle})),b=(0,c.v9)((function(e){return e.redirectToUrl})),S=(0,c.v9)((function(e){return e.calc.step.ctaTranslationVariables})),E=(0,c.v9)((function(e){return e.calc.step.completeSection})),T=(0,c.v9)((function(e){return e.calc.step.confirmSection})),x=(0,c.v9)((function(e){return!e.calc.step.hideDownloadButton})),I=(0,c.v9)((function(e){return e.calc.step.name})),C=(0,c.v9)((function(e){return e.calc.step.triggerTracking})),N=(0,c.v9)((function(e){return e.asset})),O=(0,c.v9)((function(e){return e.calc.selectedAssetSize})),A=(0,c.v9)((function(e){return e.userDetails.free_trial_subscription_test_active})),k=(0,c.v9)((function(e){return e.mobileSimplification})),D=ka(),j=(0,c.v9)((function(e){return e.calc.selectedAccount===le.TEAM})),P=(0,wr.Z)(),L=(0,Ti.x4)().trackModifications,R=A&&k,F=function(){var e,t=(e=ol().mark((function e(t){var n,i,s,o,c;return ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L(),!r||a()){e.next=4;break}return e.abrupt("return");case 4:if("initiateDownload"===h?(n=(0,tl.Z)({asset_details:{asset_id:N.assetId,asset_type:N.assetType,asset_family:N.assetFamily,asset_category:N.category,asset_size:O.name},download_selection:N.freeFile?"free_download":"paid_download",ui_element_location:I===v.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP?"download_actions_licenses":"download_actions"}),(0,_.j)(null,n)):"handleAccountSelection"===h&&(i=(0,nl.Z)({event_name:"choose_account",member_interaction:"choose_account",member_selection:j?"team_account":"personal_account",ui_element_location:P}),(0,_.j)(null,i)),u(Ee.setCtaInProgress(!0)),C&&C(),s=h.split("(")[0],!R){e.next=14;break}return o={name:"merchUnitInteraction",payload:{merch_unit_interaction:"Shown",merch_unit_selection:"free_trial_sub_mobile-cta",ui_element_location:"free_trial_sub_mobile_cta"}},c=(0,il.Z)({event_name:"view_promotion",notification_description:"free_trial_sub",ui_element_location:"mobile_cta",item_id:"SUBISTOCKPREM10AF",creative_name:"mobile_cta",item_name:"istock_free_trial_subscription",item_category:"subscription"}),(0,_.j)(o,c),window.location=p.addFreeTrial({ftsfastcheckout:!0}),e.abrupt("return");case 14:if(!Ee[h]){e.next=24;break}if(!b){e.next=20;break}return e.next=18,l.redirectToUrlFromState();case 18:e.next=22;break;case 20:return e.next=22,u(Ee[h]());case 22:e.next=32;break;case 24:if("createDownload"!==s){e.next=30;break}return D(),e.next=28,f[h]();case 28:e.next=32;break;case 30:return e.next=32,l[s]();case 32:if("pickOptionalLicenses"!==s){e.next=34;break}return e.abrupt("return");case 34:u(Ee.setCtaInProgress(!1));case 35:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){cl(r,i,a,s,o,"next",e)}function o(e){cl(r,i,a,s,o,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),M=E?(0,yi.jsx)(al.zx,{"data-testid":"complete-button",disabled:E,className:sl,variant:w,size:al.tS.LARGE,fullWidth:!0,children:(0,yi.jsx)("span",{className:"white-checkmark",children:(0,yi.jsx)($c,{})})}):(0,yi.jsx)(al.zx,{id:"download-button",type:"submit","data-testid":"download-button",onClick:F,disabled:m,className:sl,variant:w,size:al.tS.LARGE,fullWidth:!0,children:m?(0,yi.jsx)(Ri.$,{"data-testid":"spinner",className:rl}):y?R?d("download_for_free"):function(){if(r){var e=s(),t=e.download,n=e.confirm;return d("initiateDownload"===h?t:n)}return d(y,S)}():null}),U=T?(0,yi.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,yi.jsx)(nc.h,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){u(Ee.cancelDownload())}})}):null;return(0,yi.jsx)("section",{className:"adp-file-confirm-cancel-wrapper","data-testid":"confirm-cancel-wrapper",children:x&&(0,yi.jsxs)("div",{className:"adp-file-download-button-wrapper",children:[M,U]})})};dl.defaultProps={showEditor:!1,modificationsVisualId:null,validateEpsPickerAndSave:function(){},isEpsFormatTest:!1,epsFormatCtaTitle:void 0};var ul=dl,_l=function(){var e=(0,Ai.T)(),t=(0,c.v9)((function(e){return e.asset})),n=(0,c.v9)((function(e){return e.userDetails.has_subscription})),i=(0,c.v9)((function(e){return e.calc.hasAvailableCredits})),a=(0,Ii._P)("PnpVideoFocusTest"),r=(0,wa.N)(),s=(0,wr.Z)(),o=function(){var s=r.cleanPath(e("urls.plans_and_pricing_images"));return t.isFilm&&(s=r.cleanPath(e("urls.plans_and_pricing_video")),!a.isActive()||n||i||(s=So.Z.appendQueryParamsToString(s,{videofocus:!0}))),s};return(0,yi.jsx)("a",{className:"hollow-cta adp-plans-and-pricing-cta","data-testid":"pnp-cta",href:o(),onClick:function(){var e={name:"adpInteraction",payload:{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:"adp_buy_card_view_plans_and_pricing_button",istock_collection:t.istockCollection}},n=(0,yr.Z)({cta_interaction:"view_plans_and_pricing_cta_clicked",cta_text:"view_plans_and_pricing",cta_url:o(),ui_element_location:s});(0,_.j)(e,n)},children:e("view_plans_and_pricing")})},pl="M36zwv59j_huVvhClpXQ",fl=function(){var e=(0,c.v9)((function(e){return e.buyCardData.licenseOverviewPath})),t=(0,Ai.T)();return(0,yi.jsx)("div",{className:pl,"data-testid":"redownload-agreement",children:(0,yi.jsx)(Gi.Z,{children:t("redownload_free_agreements",{links:[{href:""+e,target:"new"}]})})})},ml="Hyfv_ewT6G9DUJopl4wc",hl="V03aNKWQWBid0o8p3OJw",vl=function(e){var t,n,i,a=e.showEditor,r=e.modificationsVisualId,s=e.isEpsFormatTest,o=e.epsFormatCompleteDownload,l=(0,Ti.$o)().briaModificationExperiencesAreActive,d=(0,c.v9)((function(e){return e.calc.step.dropboxEnabled})),u=(0,c.v9)((function(e){return e.asset})),_=el(a,r,l),p=d?"download_again":"issues_download_again",f=(0,Ai.T)(),m=(0,yi.jsx)(Gi.Z,{children:f("you_have_successfully_downloaded")});return(0,yi.jsxs)("section",{className:"adp-content-animation-fade","data-testid":"complete-download",children:[a?(0,yi.jsx)(Ti.xI,{downloadCompletionText:m,firstListItemText:f("one_original_image"),secondListItemText:f("one_modified_image"),checkDownloadsText:f("please_check_your_downloads_folder"),redownloadLink:(0,yi.jsx)(Gi.Z,{children:f(p,{links:[{href:"#",id:"redownload-for-free"}]})})}):(0,yi.jsx)("div",{className:ml,children:(0,yi.jsx)(Gi.Z,{children:f(s?(t=o(),n=t.dropbox,i=t.local,d?n:i):d&&u.isFilm?"successful_download_dropbox_video":d&&u.isIllustration?"successful_download_dropbox_illustration":d?"successful_download_dropbox_photo":u.isFilm?"successful_download_local_video":u.isIllustration?"successful_download_local_illustration":"successful_download_local_photo",{start_strong:"<strong class="+hl+">",end_strong:"</strong>"})})}),(0,yi.jsx)("div",{onClick:function(e){"redownload-for-free"===e.target.id&&_.createDownload()},onKeyPress:function(e){"Enter"===e.key&&_.createDownload()},role:"button",tabIndex:0,children:(0,yi.jsx)("span",{id:"download-again",children:(0,yi.jsx)(Gi.Z,{children:f(p,{links:[{href:"#",id:"redownload-for-free"}]})})})})]})},gl=vl;vl.defaultProps={showEditor:!1,modificationsVisualId:null,isEpsFormatTest:!1,epsFormatCompleteDownload:void 0};var wl="t3cvXnZLl8qc0i9uF2rU",yl="DL3rzyL3kPMkV6jZv0au";function bl(){bl=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,s=Object.create(r.prototype),o=new A(i||[]);return a(s,"_invoke",{value:I(e,n,o)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",p="suspendedYield",f="executing",m="completed",h={};function v(){}function g(){}function w(){}var y={};l(y,s,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(k([])));S&&S!==n&&i.call(S,s)&&(y=S);var E=w.prototype=v.prototype=Object.create(y);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,r,s,o){var c=u(e[a],e,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var r;a(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,a){n(e,i,t,a)}))}return r=r?r.then(a,a):a()}})}function I(t,n,i){var a=_;return function(r,s){if(a===f)throw new Error("Generator is already running");if(a===m){if("throw"===r)throw s;return{value:e,done:!0}}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var c=C(o,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===_)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=f;var l=u(t,n,i);if("normal"===l.type){if(a=i.done?m:p,l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=m,i.method="throw",i.arg=l.arg)}}}function C(t,n){var i=n.method,a=t.iterator[i];if(a===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=u(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var s=r.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(x.prototype),l(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var s=new x(d(e,n,i,a),r);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(E),l(E,c,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(i,a){return o.type="throw",o.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Sl(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}var El=function(){var e=Jo(),t=(0,Ai.T)(),n=(0,c.v9)((function(e){return e.calc.step.triggerSubscribeTracking})),i=function(){var t,i=(t=bl().mark((function t(i){return bl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),n&&n(),t.next=4,e.redirectToPricing();case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(e){Sl(r,i,a,s,o,"next",e)}function o(e){Sl(r,i,a,s,o,"throw",e)}s(void 0)}))});return function(e){return i.apply(this,arguments)}}();return(0,yi.jsx)("div",{className:"subscribe-to-premium-video","data-testid":"subscribe-to-premium-video",children:(0,yi.jsx)("div",{className:wl,children:(0,yi.jsx)("button",{className:yl,type:"submit","data-testid":"subscribe-to-premium-video-button",onClick:i,children:(0,yi.jsx)("span",{"data-testid":"title",children:t("subscribe_to_premium_plus_video")})})})})},Tl=function(e){var t=e.showEditor,n=e.modificationsVisualId,a=e.validateEpsPickerAndSave,r=e.isEpsFormatTest,s=e.epsFormatCtaTitle,o=e.epsFormatCompleteDownload,l=(0,c.v9)((function(e){return e.userDetails.fast_checkout_sub})),d=(0,c.v9)((function(e){return e.userDetails.fast_checkout_sub_savings})),u=(0,c.v9)((function(e){return e.userDetails.video_pricing_clarity_variance})),_=(0,c.v9)((function(e){return e.calc.step.showAccountChoices})),p=(0,c.v9)((function(e){return e.calc.step.showDownloadChoices})),f=(0,c.v9)((function(e){return e.calc.step.showPricingClarity})),m=(0,c.v9)((function(e){return e.calc.step.showSubscribeToPremiumVideo})),h=(0,c.v9)((function(e){return e.userDetails.smarter_fast_checkout_active})),v=(0,c.v9)((function(e){return e.calc.step.viewLicenseSelection})),g=(0,c.v9)((function(e){return e.calc.step.warningBox})),w=(0,c.v9)((function(e){return e.buyCardData.licenseOverviewPath})),y=(0,c.v9)((function(e){return e.calc.redownloadForFree})),b=(0,c.v9)((function(e){return e.calc.step.completeSection})),S=(0,Ai.T)(),E=ps(),T=(0,yi.jsx)(Gi.Z,{children:S("your_download_includes")});return(0,i.useEffect)((function(){E.setTrackingDataElement("downloadActions",f&&!v?"clarity":"default")}),[f,v]),(0,yi.jsxs)("section",{className:"adp-file-download","data-testid":"download-pricing",children:[g&&(0,yi.jsx)(Nc,{}),!v&&(!!f||h&&!y)&&(0,yi.jsx)(Bc,{}),p&&(0,yi.jsx)(Hc,{}),_&&(0,yi.jsx)(Xc,{}),m&&(0,yi.jsx)(El,{}),(0,yi.jsx)(ul,{showEditor:t,modificationsVisualId:n,validateEpsPickerAndSave:a,isEpsFormatTest:r,epsFormatCtaTitle:s}),!f&&!h||y||!(l||d||u||h)?null:(0,yi.jsx)(_l,{"data-testid":"pnp-cta-container"}),v&&(0,yi.jsx)("span",{className:"not_sure_license","data-testid":"not-sure-license-link",children:(0,yi.jsx)(Gi.Z,{children:S("not_sure_what_license",{links:[{href:""+w,target:"new"}]})})}),b&&(0,yi.jsx)(gl,{showEditor:t,modificationsVisualId:n,isEpsFormatTest:r,epsFormatCompleteDownload:o}),y&&!b&&(t?(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)(Ti.qR,{title:T,firstListItemText:S("one_original_image"),secondListItemText:S("one_modified_image"),allowMultipleFileText:S("allow_multiple_files_saved")}),(0,yi.jsx)(fl,{})]}):(0,yi.jsx)(fl,{}))]})},xl=Tl;Tl.defaultProps={showEditor:!1,modificationsVisualId:null,validateEpsPickerAndSave:function(){},isEpsFormatTest:!1,epsFormatCtaTitle:void 0,epsFormatCompleteDownload:void 0};var Il=function(){var e=(0,Ai.T)();return(0,yi.jsx)("div",{className:"adp-content-animation-fade redownload","data-testid":"redownload",children:(0,yi.jsx)("div",{className:"adp-btn-flow-text",children:(0,yi.jsx)("small",{children:e("you_already_downloaded")})})})},Cl=function(e){var t=e.isEpsFormatTest,n=e.epsFormatTypeCreditAgreement,i=(0,c.v9)((function(e){return e.buyCardData.licenseAgreement})),a=(0,Ai.T)();return(0,yi.jsx)("div",{className:"adp-content-animation-fade","data-testid":"license-disclaimer",children:(0,yi.jsx)("div",{className:"adp-btn-flow-text",id:"license-agreement-link",children:(0,yi.jsx)("small",{children:(0,yi.jsx)(Gi.Z,{children:a(t?n():"credit_license_agreement",{links:[{href:i}]})})})})})};Cl.defaultProps={isEpsFormatTest:!1,epsFormatTypeCreditAgreement:null};var Nl=Cl,Ol="jsInk_jaLG5L1eWJUGwv",Al="wD_iemGyRxuzLPJPx9RM",kl="dTR7tSm1CMo1uDAXlF0d",Dl="mrnZDo7dSPNM6rO5uGiB",jl=function(e){var t=e.children,n=(0,Ii.aF)(),a=Dl,r=n.isBot?null:kl;return(0,i.useEffect)((function(){var e=document.querySelector(".footer-copyright");return e&&e.classList.add(a),function(){e&&e.classList.remove(a)}}),[]),(0,yi.jsxs)("div",{className:Ol+" "+r,id:"mobile-cta-modal","data-testid":"mobile-cta-modal",children:[t,(0,yi.jsx)("div",{className:Al,children:(0,yi.jsx)(ul,{})})]})},Pl="_ynfpD1jAx8yxSkFXhMo",Ll="HByGNe2mceGIAElzYJQa",Rl="Gjx9S7UusukrilRMBjd6",Fl="RvunXRIKW7OhmgZcedbW",Ml=function(e){var t=e.assetSizes,n=(0,Ai.T)(),i=[{title:"size_format_4k",content:"maintain_high_quality_output"},{title:"size_format_hd",subTitle:"size_format_prores",content:"high_quality_full_hd_file"},{title:"size_format_hd",content:"most_commonly_used_format"},{title:"size_format_hd_web",content:"ideal_for_full_screen_web_projects"},{title:"web",content:"good_for_small_web_projects"}];(!Object.keys(t).length||null!=t&&t.some((function(e){return"Web"!==e.label})))&&i.pop();return(0,yi.jsx)(r.u_,{modalClassName:Pl,onClose:function(){var e=(0,Er.Z)({event:"close_modal",modal_content:"video_size_and_format",modal_type:"detailed_modal",cta_text:void 0,ui_element_location:"modal_x"});(0,_.j)({name:"adpInteraction",payload:{adp_interaction:"Video_ADP_Modal_Dismiss",adp_selection:"video_adp_modal_x",ui_element_location:"video_adp_size_and_format_modal"}},e)},children:function(){return(0,yi.jsx)(yi.Fragment,{children:(0,yi.jsxs)("div",{className:Ll,"data-testid":"sizes-formats-modal-body",children:[(0,yi.jsx)("h2",{children:n("video_sizes_and_formats")}),(0,yi.jsx)("p",{children:n("find_the_right_format")}),(0,yi.jsx)(yi.Fragment,{children:i.map((function(e){var t=e.title,i=e.subTitle,a=e.content;return(0,yi.jsxs)("div",{className:Rl,children:[(0,yi.jsxs)("div",{children:[(0,yi.jsx)("h3",{children:n(t)}),i&&(0,yi.jsx)("h3",{className:Fl,children:n(i)})]}),(0,yi.jsx)("p",{children:n(a)})]},a)}))})]})})}})},Ul={helpMeChoose:"o7tmlqNtSNyby0nRKTyt",noWrap:"v0LqeTgWALD9FCOxvNCY",flexBreak:"S3SOehgGqVF6u17eYj29",sizeDescriptionContainer:"qGMaEeDDkgAmYaBsFOSD"},Bl=["image","raster","vector","film"],zl=["Web","SD","HD_Web","HD","4K"],Wl=function(e,t,n){return t.find((function(t){return n?t.name===e:t.teeShirtSize===e}))},Gl=function(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.asset})),n=(0,c.v9)((function(e){return e.calc.step})),a=(0,c.v9)((function(e){return e.calc.selectedAssetSize})),s=(0,c.v9)((function(e){return e.buyCardData.preferences})),o=(0,Ai.T)(),l=t.assetType,d=(0,c.v9)((function(e){return e.userDetails.authenticated})),u=(0,r.dd)().showModal,p=(0,wr.Z)(),f=t.sizes.toArray().filter((function(e){return null!=e.description})),m=Bl.includes(l)&&(n.showTshirtSizes||t.isFilm&&!d),h=(0,i.useState)(null),v=h[0],g=h[1];(0,i.useEffect)((function(){if(!a||"epsUnavailable"===a.name){var n=function(e,t,n){if(!n)return Wl(e,t,n);if(e){var i=e.name,a=e.definition,r=t.find((function(e){return e.name===i}));if(r)return r;var s=t.filter((function(e){return e.definition===a}));if(1===s.length)return s[0];if(s.length>1)return s.find((function(e){return"H.264"===e.codec}))||s[0];var o=zl.findIndex((function(e){return e===a}));if(-1===o)return null;for(var c,l=function(){var e=zl[d],n=t.filter((function(t){return t.definition===e}));return 1===n.length?{v:n[0]}:n.length>1?{v:n.find((function(e){return"H.264"===e.codec}))||n[0]}:void 0},d=o;d<zl.length;d+=1)if(c=l())return c.v}}(t.isFilm?k.getVideoPreferredSize(s):k.getPreferredSize(s),f,t.isFilm),i=f.length-1;"epsUnavailable"===f[i].name&&(i=f.length-2),n&&"epsUnavailable"!==n.name?e(Ee.selectAssetSize(n)):e(Ee.selectAssetSize(f[i]))}}),[]);var w,y=function(e){var n=e.target.attributes.name.value;return Wl(n,f,t.isFilm)},b=function(){return v||a},S=function(e){g(y(e))},E=function(){g(null)},T=function(n){var i;"epsUnavailable"!==(i=y(n)).name&&(e(Ee.selectAssetSize(i)),t.isFilm||k.setPreferredSize(i.teeShirtSize),t.isFilm&&k.setPreferredVideoSize(i.name,i.definition))},x=function(){var e,t="size-description";return null!=(e=b())&&e.epsUnavailable&&(t+=" eps-unavailable-warning"),t},I=function(e){var t="tile";return a===e&&(t+=" selected-tile"),e.epsUnavailable&&(t+=" no-eps"),t},C=function(e){return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsxs)("span",{children:[e.pixels,"",e.codec]}),(0,yi.jsx)("span",{className:"divider",children:"|"}),(0,yi.jsxs)("span",{className:Ul.noWrap,children:[e.frameRate," fps",(0,yi.jsx)("span",{className:"divider",children:"|"})]}),(0,yi.jsx)("span",{className:Ul.noWrap,children:e.contentType}),e.hasFileSize&&(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)("span",{className:"divider",children:"|"}),(0,yi.jsx)("span",{className:Ul.noWrap,children:e.fileSize})]})]})},N=function(){var e=(0,yr.Z)({cta_interaction:"help_me_choose_clicked",cta_text:"help_me_choose",cta_url:void 0,ui_element_location:p});return(0,_.j)({name:"adpInteraction",payload:{adp_interaction:"Video_ADP_Help_Me_Choose_Link_Click",adp_selection:"video_adp_help_me_choose",ui_element_location:"video_adp_buy_card_help_me_choose_link"}},e),u((0,yi.jsx)(Ml,{assetSizes:f}))},O=function(e){"Enter"===e.key&&N()},A=function(e){"Enter"===e.key&&T(e)},D=function(e){if(t.isFilm)return e.label;var n=k.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?n:o(n)};return m?(0,yi.jsx)("section",{className:"adp-fade-and-slide adp-set-max-height","data-testid":"AssetSizeTileSelector",children:(0,yi.jsxs)("div",{className:"sizes",children:[(0,yi.jsx)("ol",{className:l+" tiles",children:f.map((function(e){var n=t.isFilm?e.name:e.teeShirtSize;return(0,yi.jsx)("li",{"aria-label":D(e),className:I(e),children:(0,yi.jsx)("div",{role:"radio",tabIndex:0,"aria-checked":a===e,onClick:T,onKeyPress:A,onMouseOver:S,onFocus:S,onMouseOut:E,onBlur:E,id:"download-size-"+n,name:n,children:D(e)})},n)}))}),(w=b(),w?t.isFilm?(0,yi.jsxs)("div",{className:Di()(x(),Ul.assetMetaData,Ul.sizeDescriptionContainer),children:[C(w),(0,yi.jsx)("div",{className:Ul.flexBreak}),(0,yi.jsx)("div",{role:"button",tabIndex:0,className:Di()(Ul.helpMeChoose,Ul.noWrap),"data-testid":"HelpMeChooseLink",onClick:N,onKeyPress:O,children:o("help_me_choose")})]}):(0,yi.jsxs)("div",{className:x(),children:[" ",w.epsUnavailable?o(w.description):w.description," "]}):null)]})}):null},Vl=function(){return!(0,c.v9)((function(e){return e.calc.step.viewLicenseSelection}))&&(0,yi.jsx)("section",{className:"size-options adp-licenses adp-fade-and-slide","data-testid":"size-options",children:(0,yi.jsx)(Gl,{})})},Hl=function(){var e=(0,c.v9)((function(e){return e.calc.step.showSubTypeMessage})),t=(0,c.v9)((function(e){return e.calc.step.dropboxEnabled})),n=(0,c.v9)((function(e){return e.asset.freeFile})),i=(0,Ai.T)();return(0,yi.jsxs)(yi.Fragment,{children:[e&&!n&&(0,yi.jsx)("div",{className:"adp-warning-box sub-type-message","data-testid":"info-subs",children:(0,yi.jsx)("span",{children:i("available_with_your_subscription")})}),t&&(0,yi.jsx)("div",{className:"adp-warning-box dropbox-message sub-type-simple-message","data-testid":"info-dropbox",children:(0,yi.jsx)("span",{children:i("download_workflow.download_will_be_saved_to_dropbox")})})]})},Yl="tXdiSc_DcwQodaWMcBgM",Kl="m0LNKvsjmSPI0xjGPzau",Zl="un7DUzLsnqcne4woRQ4I",ql="zNNi9wkKIKbQl7zsw3sg",Xl=function(){var e=(0,Zs.u)(),t=(0,c.v9)((function(e){return e.calc.step.ctaClass})),n=(0,c.v9)((function(e){return e.userDetails.authenticated})),i=(0,c.v9)((function(e){return e.mobileSimplification})),a=(0,c.v9)((function(e){return e.userDetails.prem_concurrent_cta})),r=(0,c.v9)((function(e){return e.buyCardData.signInPath})),s=(0,Sr.Fg)().link||{},o=(0,Ai.T)(),l=(0,wa.N)(),d=function(t,n){e.trackEvent("adpInteraction",{adp_interaction:t,adp_selection:n,ui_element_location:"adp_buy_card_start_free_trial_cta"})},u=function(){d("ADP_Buy_Card_Sign_in_Button_Click","adp_sign_in"),window.location=l.cleanPath("/sign-in?returnurl="+window.location.pathname+window.location.search)},_=function(){d("ADP_Download_Button_Click","Free_Trial_Option"),window.location=a?l.addFreeTrial({premium:!0,ftsfastcheckout:!0}):l.addFreeTrial({ftsfastcheckout:!0})};return(0,yi.jsxs)("section",{"data-testid":"free-trial-subs-buyCard",children:[(0,yi.jsx)("h4",{className:Yl,children:o("get_image_for_free")}),(0,yi.jsx)("p",{"data-testid":"learn-more-link",className:Kl+" "+s.textLink,children:(0,yi.jsx)(Gi.Z,{children:o("download_image_free_trial_learn_more",{links:[{href:l.cleanPath(o("urls.plans_and_pricing_free_trial_subscription"))}]})})}),i?!n&&(0,yi.jsx)("div",{"data-testid":"sign-in-cta",children:(0,yi.jsx)(Gi.Z,{children:o("already_member_sign_in",{links:[{href:r}]})})}):(0,yi.jsxs)("div",{"data-testid":"free-trial-cta",children:[(0,yi.jsx)("button",{className:t+" "+Zl,id:"download-free-trial-button",type:"button","data-testid":"download-free-trial-button",onClick:_,children:o("download_for_free")}),!n&&(0,yi.jsx)("button",{className:ql,id:"download-free-trial-button",type:"button",onClick:u,"data-testid":"signIn-button",children:o("sign_in")})]})]})},Ql=function(){var e=(0,Ai.T)(),t=(0,c.v9)((function(e){return e.asset}));return(0,yi.jsx)("div",{className:"adp-free-file adp-content-animation-fade","data-testid":"free-file",children:(0,yi.jsx)("span",{children:t.isIllustration?e("free_illustration_otm"):t.isFilm?e("free_video_otm"):e("free_photo_otw")})})},Jl=function(e){var t=e.totalCreditCost,n=(0,Ai.T)(),i=Number(t);if(!i)return null;var a=i>1?n("more_than_one_credit",{zero:i}):n("one_credit");return(0,yi.jsx)("span",{children:a})},$l=function(e){var t=e.title,n=e.canPeekAtCost,i=e.showCreditCost,a=e.redownloadSection,r=(0,c.v9)((function(e){return e.buyCardData})).geoPricingPromoPolicy,s=r.showTestA,o=r.showTestB,l=(0,c.v9)((function(e){return e.calc.totalCreditCost})),d=(0,Ai.T)();return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"header-geo-promo",children:(0,yi.jsx)("span",{children:d("new_lower_prices")})}),(0,yi.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:[s&&(0,yi.jsxs)("span",{className:"card-title__sub-title","data-testid":"test-a",children:[t&&(0,yi.jsx)("span",{"data-testid":"title",children:d(t)}),t&&(i||n)&&(0,yi.jsx)("span",{children:" | "}),(i||n)&&(0,yi.jsx)("span",{"data-testid":"credit-cost",children:(0,yi.jsx)(Jl,{totalCreditCost:l})})]}),o&&(0,yi.jsx)("span",{className:"card-title__sub-title","data-testid":"test-b",children:a&&t?(0,yi.jsx)("span",{"data-testid":"title",children:d(t)}):(0,yi.jsx)("span",{"data-testid":"subtitle",children:d("high_quality_for_projects")})})]})]})};$l.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,redownloadSection:null};var ed=$l,td=n(18050),nd=["styles"];function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},id.apply(this,arguments)}var ad=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,nd);return a().createElement("svg",id({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),a().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__bg"]||"icons-unisporkal-istock-tooltip-svg__bg",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"}),a().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__border"]||"icons-unisporkal-istock-tooltip-svg__border",d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"}),a().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__icon"]||"icons-unisporkal-istock-tooltip-svg__icon",d:"M12.834 13.443v.112h-2.158v-.252c0-1.71 2.34-1.835 2.34-3.264 0-.616-.45-.98-1.262-.98-.658 0-1.33.238-1.877.84l-1.19-1.415c.91-.854 1.947-1.302 3.277-1.302 1.976 0 3.349.98 3.349 2.69 0 2.31-2.48 2.52-2.48 3.57zm-1.065.714c.728 0 1.33.603 1.33 1.331a1.33 1.33 0 11-1.33-1.33z"}))},rd="bKL2hIUxRhzeBpub_cgF",sd=function(e){var t=e.className,n=Di()(rd,t);return(0,yi.jsx)(ad,{className:n})};sd.defaultProps={className:""};var od=sd,cd="kdZrypqPcxYUebEMLyDp",ld="a4SeezPVDeTi7mWep0Ui",dd=function(e){var t=e.title,n=e.canPeekAtCost,i=e.showCreditCost,a=e.showPricingClarity,r=(0,Ai.T)(),s=(0,c.v9)((function(e){return e.userDetails.team_name})),o=(0,c.v9)((function(e){return e.buyCardData.downloadActionsPolicy.showInfoTooltip})),l=(0,c.v9)((function(e){return e.buyCardData.pricingClarityTranslations.tooltipText})),d=(0,c.v9)((function(e){return e.calc.totalCreditCost}));return(0,yi.jsxs)(yi.Fragment,{children:[(i||n)&&(0,yi.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,yi.jsx)("div",{className:"download-actions__header",children:(0,yi.jsx)(Jl,{totalCreditCost:d})})}),t&&(0,yi.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:[(0,yi.jsx)("span",{"data-testid":"title",children:r(t,{teamName:s})}),a&&(0,yi.jsx)("span",{children:o&&(0,yi.jsx)(td.u,{"data-testid":"info-tooltip",className:ld,content:l,children:(0,yi.jsx)(od,{className:cd})})})]})]})};dd.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,showPricingClarity:null};var ud=dd,_d=function(e){var t=e.title,n=(0,Ai.T)(),i=(0,c.v9)((function(e){return e.userDetails.team_name})),a=(0,c.v9)((function(e){return e.asset.assetCost}));return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,yi.jsx)("div",{className:"download-actions__header",children:a})}),t&&(0,yi.jsx)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:(0,yi.jsx)("span",{"data-testid":"title",children:n(t,{teamName:i})})})]})};_d.defaultProps={title:null};var pd=_d,fd=function(e){var t=e.showEditor,n=e.isEpsFormatTest,i=e.epsFormatTitleDownload,a=(0,c.v9)((function(e){return e.asset})),r=(0,c.v9)((function(e){return e.calc.step.title})),s=(0,c.v9)((function(e){return e.calc.step.name})),o=(0,c.v9)((function(e){return e.calc.step.showCreditCost})),l=(0,c.v9)((function(e){return e.calc.step.showPricingClarity})),d=(0,c.v9)((function(e){return e.calc.step.redownloadSection})),u=(0,c.v9)((function(e){return e.calc.selectedOptionalLicenses})),_=(0,c.v9)((function(e){return e.calc.selectedAgreementType})),p=(0,c.v9)((function(e){return e.buyCardData.geoPricingPromoPolicy.show})),f=u&&_,m=(0,c.v9)((function(e){return e.mobileSimplification})),h=(0,Ai.T)(),v="COMPLETE_DOWNLOAD"===s?(0,yi.jsx)(Gi.Z,{children:h("your_download_is_complete")}):h(r),g=(0,c.v9)((function(e){return e.calc.step})).completeSection;return t?(0,yi.jsx)(Ti.e6,{title:v}):a.freeFile?(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)(Ql,{}),r&&(0,yi.jsx)("h2",{id:"card-title","data-testid":"title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:h(r)})]}):p?(0,yi.jsx)(ed,{title:r,canPeekAtCost:f,showCreditCost:o,redownloadSection:d}):m?(0,yi.jsx)(pd,{title:r}):(0,yi.jsx)(ud,{title:n&&g?i():r,canPeekAtCost:f,showCreditCost:o,showPricingClarity:l})};fd.defaultProps={showEditor:!1,isEpsFormatTest:!1,epsFormatTitleDownload:void 0};var md=fd,hd="ITe3EojEowNtmkiK79On",vd=function(){var e=(0,c.v9)((function(e){return e.buyCardData.restrictedUsesPath})),t=(0,Ai.T)();return(0,yi.jsxs)("section",{className:"editorial-use-only","data-testid":"editorial-use-only",children:[(0,yi.jsx)(Gi.Z,{children:t("editorial_use_only_with_link",{links:[{href:""+e,target:"_blank",rel:"noopener noreferrer"}]})}),(0,yi.jsx)(td.u,{content:t("editorial_use_clarification"),children:(0,yi.jsx)(od,{className:hd})})]})},gd=function(){var e=(0,c.v9)((function(e){return e.asset})),t=(0,c.v9)((function(e){return e.calc.hasSelectedOptionalLicenses})),n=(0,c.v9)((function(e){return e.calc.selectedAgreementType})),i=(0,c.v9)((function(e){return e.calc.step.showCreditCost})),a=t&&n,r=(0,c.v9)((function(e){return e.calc.totalCreditCost}));return(0,yi.jsx)(yi.Fragment,{children:e.freeFile?(0,yi.jsx)(Ql,{}):i||a?(0,yi.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-credit-cost",children:(0,yi.jsx)("div",{className:"download-actions__header",children:(0,yi.jsx)(Jl,{totalCreditCost:r})})}):null})},wd="mYBkt5RleZd5SvNvAGsQ",yd="rSdZF1J6Jjnxhi71p6BC",bd="JfX9VvvG5YXwBqOHFENQ",Sd="gxbSGKPNgW1agrnD9g91",Ed="NFewzkaSWd7_cENynmj1",Td="YvwlaNWqE8of9mfE366e",xd="lncPfMCyzhBqOLYKy3aP",Id="sem1lo74ysNecGf_kxsy",Cd="wuLKuLie0XLRvynrxylL",Nd=function(){var e=(0,c.v9)((function(e){return e.licenses})).toArray(),t=(0,Ai.T)(),n=(0,c.I0)(),a=(0,Sr.Fg)().checkbox||{};(0,i.useEffect)((function(){document.querySelector("#licenses-close-btn").focus()}),[]);var r=function(e){var t=[];return e.is_acquired_and_not_repurchasable&&t.push(yd),e.is_selected&&t.push(bd),(e.is_purchase_required||e.is_acquired_and_not_repurchasable)&&t.push(Sd),t.join(" ")},s=(0,yi.jsxs)("header",{className:"el-header",children:[(0,yi.jsx)("h2",{children:t("add_licenses")}),(0,yi.jsx)(nc.h,{id:"licenses-close-btn",className:"el-close-btn",ariaLabel:"close license picker",onClick:function(){n(Ee.closeLicensePicker())}})]}),o=(0,yi.jsxs)("div",{className:Di()("el-title",Td),children:[(0,yi.jsx)("div",{children:t("license_types")}),(0,yi.jsx)("div",{children:t("istock_credits")})]}),l=(0,yi.jsx)("ul",{"data-testid":"license-list",children:e.map((function(e,t){var i=e.is_purchase_required||e.is_acquired_and_not_repurchasable;return(0,yi.jsx)("li",{className:Di()(Ed,r(e)),"data-testid":"license-listitem",children:(0,yi.jsxs)("label",{htmlFor:"el_"+t,className:xd,children:[(0,yi.jsx)("input",{id:"el_"+t,type:"checkbox",className:Di()(a.checkboxInput,i?a.defaultChecked:"",Id),disabled:Boolean(i),defaultChecked:i,onChange:function(){return function(e){n(Ee.checkLicense(e))}(t)}}),(0,yi.jsxs)("div",{className:Cd,"data-testid":"license-description",children:[e.description,e.sub_description&&(0,yi.jsx)("p",{className:wd,"data-testid":"license-sub-description",children:e.sub_description})]}),(0,yi.jsx)("span",{className:"el-credit-cost",children:e.credit_cost})]})},""+e.license_type)}))});return(0,yi.jsxs)("section",{className:"adp-licenses","data-testid":"adp-licenses",children:[s,(0,yi.jsxs)("div",{children:[o,(0,yi.jsx)("hr",{}),l]})]})},Od=function(e){return"eps"===e.format?"eps":"jpeg"===e.format&&""!==e.size&&e.size},Ad=function(){var e,t=(0,c.I0)(),n=(0,c.v9)((function(e){return e.asset})).sizes,a=(0,c.v9)((function(e){return e.buyCardData.preferences})),r=k.getEpsPreferredSize(a),s=(e=r)?"eps"===e?e:"jpeg":"",o=(0,i.useState)(""),l=o[0],d=o[1],u=(0,i.useState)(Object.assign({format:s,size:""},"eps"!==r&&{size:r})),p=u[0],f=u[1],m=n.toArray();return{errorElem:l,pickerOptions:p,setSelected:function(e){d("");var n=Object.assign({},p,e);f(n);var i,a=Od(n),r="";a&&(r=m.filter((function(e){return e.teeShirtSize===a})),t(Ee.selectAssetSize(r[0])),k.setPreferredSize(null==(i=r[0])?void 0:i.teeShirtSize))},validateEpsPickerAndSave:function(){if(""===p.format?((0,_.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Download_Error_Shown",adp_selection:"ADP_File_Type_Error",ui_element_location:"adp_buy_card_download_error"}},null),d("format"),0):"jpeg"!==p.format||p.size||((0,_.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Download_Error_Shown",adp_selection:"ADP_File_Size_Error",ui_element_location:"adp_buy_card_download_error"}},null),d("size"),0)){var e=Od(p);return k.setPreferredSize(e),!0}return!1},epsFormatCtaTitle:function(){return"eps"===p.format?{download:"download_eps",confirm:"confirm_eps_download"}:"jpeg"===p.format?{download:"download_jpeg",confirm:"confirm_jpeg_download"}:{download:"download_illustration",confirm:"confirm_illustration_download"}},epsFormatCompleteDownload:function(){return"eps"===p.format?{dropbox:"successful_download_dropbox_eps_file",local:"successful_download_local_eps_file"}:{dropbox:"successful_download_dropbox_jpeg_file",local:"successful_download_local_jpeg_file"}},epsFormatTitleDownload:function(){return"eps"===p.format?"eps_download_complete":"jpeg_download_complete"},epsFormatTypeCreditAgreement:function(){return"eps"===p.format?"credit_license_agreement_for_eps":"credit_license_agreement_for_jpeg"}}},kd="SZupAPXHv9lwE4bHCnsh",Dd="H2YLK8XGNKtJ73S2beSK",jd="aZjghFc_EfeKZ3zoHVsg",Pd="lrWt7GlujgxII793DNvb",Ld="kJrQ8UxwAS0BaY2jd6kQ",Rd=function(e){var t,n=e.errorElem,i=(0,Ai.T)(),a="format"===n,r=a?"select_file_type_above":"select_file_size_above";return(0,yi.jsx)("section",{"data-testid":"vector-"+n+"-error-banner",className:Di()(jd,(t={},t[Ld]=a,t)),children:(0,yi.jsx)("span",{className:Pd,children:i(r)})})};Rd.defaultProps={errorElem:""};var Fd=Rd,Md="fhVykPXUvWLQ_4CHdMqV",Ud="iH6kD78V6BOobcFbUxUW",Bd="a7Uf4MIj08i2PkWU18od",zd=function(e){var t,n,a,r=e.size,s=e.selected,o=e.setSelected,c=(0,Ai.T)(),l=(0,i.useState)(!1),d=l[0],u=l[1];return(0,yi.jsx)("button",{type:"button","data-testid":"jpeg-size-option",onMouseEnter:function(){u(!0)},onMouseLeave:function(){u(!1)},onClick:function(e){e.stopPropagation(),o({size:r.teeShirtSize})},className:Di()(Md,(t={},t[Bd]=d,t[Ud]=s,t)),children:(n=r,a=k.getSizeMap()[n.teeShirtSize],c(a))})},Wd=function(e){var t,n,i=e.pickerOptions,a=e.errorElem,r=e.setSelected,s=(0,c.v9)((function(e){return e.asset})).sizes,o=i.size,l="size"===a,d=Array.from(s).filter((function(e){return!0!==e.isEps})),u=(t=o)?null==(n=d.filter((function(e){return e.teeShirtSize===t}))[0])?void 0:n.description:"";return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)("section",{"data-testid":"jpeg-size-options",className:kd,children:d.map((function(e){return(0,yi.jsx)(zd,{size:e,selected:o===e.teeShirtSize,setSelected:r},e.teeShirtSize)}))}),o&&(0,yi.jsx)("section",{"data-testid":"jpeg-size-details",className:Dd,children:u}),l&&(0,yi.jsx)(Fd,{errorElem:a})]})};Wd.defaultProps={pickerOptions:{format:"jpeg",size:""},errorElem:"",setSelected:function(){}};var Gd=Wd,Vd="NOg5aJnAnpuiBR0ocdDS",Hd="_8lQ3dOKZZycl9kurd8r",Yd="RX4NIVexP91oNlrpcQh0",Kd="RHnGInCTXn2qLXHVPJsw",Zd="fIhh1pLZd10WS629EGg_",qd="m8gSKFreN1AxHI0YC6W8",Xd="vcsuBKPoBGDCQsSXd7qR",Qd="lVqzYL7ojvRfxvYckZQw",Jd="nXnXnDfEs9QNb_dWKWEJ",$d="qEEtfKuAngkCL5kqu2X4",eu="XKVzhOYAppZCuOjGl8cq",tu="CiIZHu0zkDMOf2daQQdI",nu="UxrzRcRPko5ZSBWIEkd5",iu="xQ_jDxkTWlHiQ7BDi_mg",au="sOIAq9mBM91w6mfmsPwA",ru="ou8YqaeUZ06nXKha5ZoC",su=function(e){var t,n,a,r,s,o,c=e.value,l=e.heading,d=e.description,u=e.selected,_=e.setSelected,p=e.error,f=e.children,m=u===c,h=""===u,v="vector-format-option-"+c,g=(0,i.useState)(!1),w=g[0],y=g[1];return(0,yi.jsxs)("div",{role:"radio","aria-label":l,"data-testid":v,className:(n=m,a=h,r=w,s=p,Di()(Zd,((o={})[qd]=n,o[Xd]=!n&&!a,o[Qd]=a,o[$d]=r,o[Jd]=s,o))),tabIndex:0,"aria-checked":m,onClick:function(){_({format:c})},onKeyDown:function(e){32===e.keyCode&&_({format:c})},onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},name:v,children:[(0,yi.jsx)("span",{"data-testid":v+"-radio",className:Di()(eu,(t={},t[nu]=m,t[$d]=w,t[tu]=m&&f,t))}),(0,yi.jsxs)("div",{className:iu,children:[(0,yi.jsx)("span",{className:au,children:l}),(0,yi.jsx)("span",{className:ru,children:d}),m&&f]})]},c)};su.defaultProps={selected:void 0,setSelected:function(){},children:void 0,error:!1};var ou=su,cu=function(e){var t,n=e.errorElem,i=e.pickerOptions,a=e.setSelected,r=(0,Ai.T)(),s=""!==n,o=i.format,c=""!==o;return(0,yi.jsxs)("section",{"data-testid":"vector-format-options",className:Di()(Vd,(t={},t[Hd]=c,t[Yd]=s,t)),role:"radiogroup",children:[(0,yi.jsx)(ou,{value:"jpeg",heading:r("jpeg_file"),description:r("jpeg"===o?"choose_preferred_file_type":"pixel_based"),selected:o,setSelected:a,error:"size"===n,children:(0,yi.jsx)(Gd,{pickerOptions:i,errorElem:n,setSelected:a})}),!c&&(0,yi.jsx)(lu,{isError:s&&"format"===n}),(0,yi.jsx)(ou,{value:"eps",heading:r("eps_file"),description:r("vector_based_requires_software"),selected:o,setSelected:a})]})};cu.defaultProps={errorElem:"",pickerOptions:{format:"",size:""},setSelected:function(){}};var lu=function(e){var t,n=e.isError;return(0,yi.jsx)("div",{className:Di()(Kd,(t={},t[Yd]=n,t)),"data-testid":"vector-format-divider"})};lu.defaultProps={isError:!1};var du=cu,uu="YvRnAIqISUDf57rcrbwY",_u="PgyBWPUAKXUfCQsD0p53",pu=function(e){var t,n=e.errorElem,i=e.setSelected,a=e.pickerOptions,r="format"===n;return(0,yi.jsxs)("section",{"data-testid":"vector-format-size-picker",className:Di()(uu,(t={},t[_u]=r,t)),children:[(0,yi.jsx)(du,{errorElem:n,pickerOptions:a,setSelected:i}),r&&(0,yi.jsx)(Fd,{errorElem:n})]})};pu.defaultProps={errorElem:"",setSelected:function(){},pickerOptions:""};var fu=pu,mu=function(e){var t=e.showEditor,n=e.visualId,i=(0,c.v9)((function(e){return e.asset})),a=(0,c.v9)((function(e){return e.calc.step.showTshirtSizes})),r=(0,c.v9)((function(e){return e.calc.step.completeSection})),s=(0,c.v9)((function(e){return e.calc.step.isConfirmationState})),o=(0,c.v9)((function(e){return e.calc.step.redownloadSection})),l=(0,c.v9)((function(e){return e.calc.step.viewLicenseSelection})),d=(0,c.v9)((function(e){return e.calc.redownloadForFree})),u=(0,Ai.T)(),_=(0,c.v9)((function(e){return e.userDetails.free_trial_subscription_test_active})),p=Ad(),f=p.errorElem,m=p.pickerOptions,h=p.setSelected,v=p.validateEpsPickerAndSave,g=p.epsFormatCtaTitle,w=p.epsFormatCompleteDownload,y=p.epsFormatTitleDownload,b=p.epsFormatTypeCreditAgreement,S=(0,yi.jsx)(Gi.Z,{children:u("your_download_includes")});return(0,yi.jsx)("div",{className:"download-actions","data-testid":"eps-download-actions",children:(0,yi.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[l?(0,yi.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,yi.jsx)(gd,{}),(0,yi.jsx)(Nd,{})]}):!_&&(0,yi.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,yi.jsx)(md,{showEditor:t,isEpsFormatTest:!0,epsFormatTitleDownload:y}),i.isEditorialUseOnly&&(0,yi.jsx)("div",{className:"editorial-bubble",children:(0,yi.jsx)(vd,{})}),!d&&!r&&(0,yi.jsx)(Hl,{}),a&&(0,yi.jsx)(fu,{errorElem:f,setSelected:h,pickerOptions:m})]}),(!_||l)&&(0,yi.jsx)(xl,{showEditor:t,modificationsVisualId:n,validateEpsPickerAndSave:v,isEpsFormatTest:!0,epsFormatCtaTitle:g,epsFormatCompleteDownload:w}),o&&!i.freeFile&&(0,yi.jsx)(Il,{}),s&&(t?(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)(Ti.qR,{title:S,firstListItemText:u("one_original_image"),secondListItemText:u("one_modified_image"),allowMultipleFileText:u("allow_multiple_files_saved")}),(0,yi.jsx)(Nl,{isEpsFormatTest:!0,epsFormatTypeCreditAgreement:b})]}):(0,yi.jsx)(Nl,{isEpsFormatTest:!0,epsFormatTypeCreditAgreement:b}))]})})};mu.defaultProps={visualId:null};var hu=mu,vu=function(e){var t=e.showEditor,n=e.visualId,i=e.showEPSFileTypeTest,a=(0,c.v9)((function(e){return e.asset})),r=(0,c.v9)((function(e){return e.calc.step.completeSection})),s=(0,c.v9)((function(e){return e.calc.step.isConfirmationState})),o=(0,c.v9)((function(e){return e.calc.step.redownloadSection})),l=(0,c.v9)((function(e){return e.calc.step.viewLicenseSelection})),d=(0,c.v9)((function(e){return e.calc.redownloadForFree})),u=(0,c.v9)((function(e){return e.mobileSimplification})),_=(0,c.v9)((function(e){return e.userDetails.istock_asset_credit_cost})),p=(0,c.v9)((function(e){return e.calc.totalCreditCost})),f=(0,Ai.T)(),m=(0,c.v9)((function(e){return e.userDetails.free_trial_subscription_test_active})),h=(0,yi.jsx)(Gi.Z,{children:f("your_download_includes")});return i?(0,yi.jsx)(hu,{showEditor:t}):(0,yi.jsxs)("div",{className:"download-actions","data-testid":"download-actions",children:[(0,yi.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[l?(0,yi.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,yi.jsx)(gd,{}),(0,yi.jsx)(Nd,{})]}):!m&&(0,yi.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,yi.jsx)(md,{showEditor:t}),a.isEditorialUseOnly&&(0,yi.jsx)("div",{className:"editorial-bubble",children:(0,yi.jsx)(vd,{})}),!d&&!r&&(0,yi.jsx)(Hl,{}),(0,yi.jsx)(Vl,{})]}),!u&&(!m||l)&&(0,yi.jsx)(xl,{showEditor:t,modificationsVisualId:n}),m&&!l&&(0,yi.jsx)(Xl,{}),o&&!a.freeFile&&(0,yi.jsx)(Il,{}),s&&(t?(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)(Ti.qR,{title:h,firstListItemText:f("one_original_image"),secondListItemText:f("one_modified_image"),allowMultipleFileText:f("allow_multiple_files_saved")}),(0,yi.jsx)(Nl,{})]}):(0,yi.jsx)(Nl,{}))]}),u&&(0,yi.jsx)(jl,{children:!m&&(0,yi.jsxs)("div",{"data-testid":"mobile-cta-header",children:[(0,yi.jsx)("span",{children:_})," |"," ",(0,yi.jsx)("span",{className:"grey-cta-modal-text",children:(0,yi.jsx)(Jl,{totalCreditCost:p})})]})})]})};vu.defaultProps={visualId:null,showEPSFileTypeTest:null};var gu=(0,ya.Z)(vu,"download_actions"),wu=n(27868),yu=n(20056),bu="On2k0dR0Tp4fpe8sBNJo",Su=function(e){var t=e.editable,n=e.isFilm,a=(0,Ai.T)(),r=(0,i.useMemo)((function(){return t&&!n}),[t,n]),s=(0,i.useMemo)((function(){return t&&n}),[t,n]);return(0,yi.jsxs)(yu.a,{className:bu,children:[s&&(0,yi.jsx)(yu.H,{"data-testid":"create-video-projects-with-editor",children:a("create_video_projects_with_editor")}),(0,yi.jsx)(yu.H,{children:a("save_and_share")}),(0,yi.jsx)(yu.H,{children:a("track_download_history")}),(0,yi.jsx)(yu.H,{children:a("complete_purchase_faster")}),r&&(0,yi.jsx)(yu.H,{"data-testid":"and-much-more",children:a("and_much_more")})]})};Su.defaultProps={editable:!1};var Eu=Su,Tu="igP1hF6TJ_LwGwzHGcR1",xu="pA3UD7eDxqfWHJJonR7g",Iu="um_Dm5NZkXLBd6DxbGOX",Cu=function(){var e=(0,c.v9)((function(e){return e.asset.isFilm})),t=(0,c.v9)((function(e){return e.asset.isEditorialUseOnly})),n=(0,c.v9)((function(e){return e.editable})),i=(0,c.v9)((function(e){return e.calc.step.viewLicenseSelection})),a=(0,c.v9)((function(e){return e.buyCardData.signInPath})),r=(0,Ai.T)(),s=(0,Zs.u)(),o=Di()("download-actions",Tu),l=e?"sign-in__test sign-in__extra-space":"sign-in__test";return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)("div",{className:o,"data-testid":"sign-in-actions",children:(0,yi.jsx)("form",{className:"istock-download-form",children:i?(0,yi.jsx)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:(0,yi.jsx)(gd,{})}):(0,yi.jsxs)("section",{className:"adp-licenses adp-fade-and-slide","data-testid":"header",children:[(0,yi.jsx)(md,{}),(0,yi.jsx)("hr",{}),t&&(0,yi.jsx)("div",{className:"editorial-bubble",children:(0,yi.jsx)(vd,{})}),(0,yi.jsx)(xs.ZT,{component:xs.dh.H4,variant:xs.O3.H3,className:xu,children:r("sign_in_better_experience_colon")}),(0,yi.jsx)(Eu,{isFilm:e,editable:n}),(0,yi.jsx)(wu.r,{buttonStyleProps:{size:al.tS.LARGE,variant:al.hZ.SECONDARY,fullWidth:!0},className:Iu,href:a,onClick:function(){s.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_Sign_in_Button_Click",adp_selection:"adp_sign_in",ui_element_location:"adp_buy_card"})},"data-testid":"sign-in-cta",children:r("sign_in")})]})})}),(0,yi.jsx)("hr",{className:l})]})},Nu="MklU8GfoUOI6JU5Yg3qs",Ou=function(e){var t=e.ftlpCategory,n=e.parentKeywordCategory,a=(0,Ai.T)(),r=a(t.text),s=(0,Ci.T)(),o=(0,i.useCallback)((function(e){var t={name:"adpInteraction",payload:{adp_interaction:"ADP_Category_Link_Click",adp_selection:e}},n=(0,Ps.M)({event:"search_interaction",event_name:"search_category_clicked",search_interaction:"search_category_clicked",search_selection:e,ui_element_location:"category_list",search_grid_slot_number:"download_actions"});(0,_.j)(t,n),s.sendAdpCategoryLinkClickSignal()}),[s]),c=(0,i.useCallback)((function(){return o(r)}),[o,r]),l=(0,i.useCallback)((function(){return o(n.text)}),[o,n.text]);return(0,yi.jsxs)("div",{className:Nu,itemScope:!0,itemType:"https://schema.org/BreadcrumbList","data-testid":"asset-categories",children:[(0,yi.jsx)("span",{children:a("categories")}),(0,yi.jsx)("span",{itemScope:!0,itemProp:"itemListElement",itemType:"https://schema.org/ListItem",children:(0,yi.jsxs)(wu.r,{href:t.href,itemProp:"item","data-testid":"category-link-1",onClick:c,children:[(0,yi.jsx)("meta",{itemProp:"position",content:"1"}),(0,yi.jsx)("span",{itemProp:"name",children:r})]})}),(0,yi.jsx)("span",{children:"|"}),(0,yi.jsx)("span",{itemScope:!0,itemProp:"itemListElement",itemType:"https://schema.org/ListItem",children:(0,yi.jsxs)(wu.r,{href:n.href,itemProp:"item","data-testid":"category-link-2",onClick:l,children:[(0,yi.jsx)("meta",{itemProp:"position",content:"2"}),(0,yi.jsx)("span",{itemProp:"name",children:n.text})]})})]})},Au="DBlmRr9bCFZnhv34CY2d",ku="LnOLJ4WPBg1pjxPKMDBE",Du="cWU9wH5uj9cM5CMFEMVC",ju=function(){var e,t,n=(0,qs.PL)(),i=(0,c.v9)((function(e){return e.asset})),a=(0,c.v9)((function(e){return e.calc.isInPricingClarity})),r=(0,c.v9)((function(e){return e.calc.largestSizeAvailable})),s=(0,c.v9)((function(e){return e.userDetails.istock_asset_credit_cost})),o=(0,c.v9)((function(e){return e.buyCardData.assetBuyCardContentPolicy.downloadSavingsDisclaimer})),l=(0,c.v9)((function(e){return e.categories.categoriesView})),d=(0,c.v9)((function(e){return e.asset.contributor.display_name})),u=(0,c.v9)((function(e){return e.asset.contributor.picture_url})),_=(0,c.v9)((function(e){return e.asset.contributor.member_name})),p={artists:i.artist,assettype:i.assetType,family:i.assetFamily},f=_?n.contributorPath(_,(t={},i.isFilm&&(t.assettype=i.assetType),i.mediaType&&"unknown"!==i.mediaType&&(t.mediatype=i.mediaType),t)):n.searchPath(p),m=(0,Ai.T)(),h=i.assetId,v=i.dateSubmitted,g=i.dateSubmittedFormatted,w=i.exclusiveContent,y=i.isIllustration,b=i.isFilm,S=i.isEssentialImage,E=ps(),T=a,x=l&&(null==(e=l.parentKeywordCategory)?void 0:e.text),I=l&&l.ftlpCategory.text&&x,C=r?r.description:"";return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)("div",{className:"adp-contributor","data-testid":"asset-contributor",children:(0,yi.jsxs)("a",{className:"photographer "+Du,"data-testid":"photographer",href:f,onClick:function(){return E.setUiElementLocation("contributor_credit_adp")},children:[(0,yi.jsx)("img",{"data-testid":"photographer-image",className:"adp-contributor-avatar",src:u||null,viewBox:"0 0 98 98",alt:""}),(0,yi.jsx)("span",{className:Au,children:m("credit")}),(0,yi.jsx)("span",{className:ku,children:d})]})}),T&&C&&(0,yi.jsxs)("div",{"data-testid":"largest-size-content",className:"size-description",children:[(0,yi.jsx)("span",{children:m("attributes.largest_size_available")}),(0,yi.jsx)("span",{"data-testid":"largest-size-description",children:C})]}),(0,yi.jsxs)("div",{className:"asset-id","data-testid":"asset-id",children:[(0,yi.jsx)("span",{children:m(y?"attributes.stock_illustration_id":b?"attributes.stock_video_id":"attributes.stock_photo_id")}),(0,yi.jsx)("span",{children:h})]}),(0,yi.jsxs)("div",{className:"asset-upload-date","data-testid":"asset-upload-date",children:[(0,yi.jsx)("span",{children:m("upload_date")}),(0,yi.jsx)("span",{children:(0,yi.jsx)("time",{dateTime:v,children:g})})]}),I&&(0,yi.jsx)(Ou,{ftlpCategory:l.ftlpCategory,parentKeywordCategory:l.parentKeywordCategory}),o&&(0,yi.jsx)("div",{className:"credits-usage-disclaimer","data-testid":"credits-usage-disclaimer",children:m(b?"video_asset_savings":S?"savings_based_on_essentials_image":"savings_based_on_signature_image",{file_cost:s})}),w&&(0,yi.jsx)("h5",{className:"exclusive","data-testid":"exclusive-content-label",children:m("exclusive_coverage_label")})]})},Pu=["styles"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lu.apply(this,arguments)}var Ru=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Pu);return a().createElement("svg",Lu({xmlns:"http://www.w3.org/2000/svg",width:"103.08",height:"96.199",viewBox:"2.608 1 103.08 96.199"},t),a().createElement("path",{fill:"#007EE5",d:"M33.36 2.125L3.609 21.55 24.18 38.025l29.999-18.523L33.36 2.125zM3.608 54.5L33.36 73.927l20.818-17.378-30-18.524L3.609 54.5zM54.18 56.549l20.818 17.378L104.75 54.5 84.178 38.025 54.18 56.55zM104.75 21.551L75 2.125 54.179 19.5l30 18.524 20.572-16.474z"}),a().createElement("path",{fill:"#007EE5",d:"M54.24 60.287L33.36 77.613l-8.933-5.833v6.54L54.24 96.199l29.814-17.88v-6.54l-8.933 5.834-20.88-17.326z"}))},Fu="mPNt5ils43ExWUpANmQX",Mu="rlfOvthXUKl4El1wFOIw",Uu="IvUHORlPOqQqTCL0ptMM",Bu="ewGaJKYxecWX5H7AGEKg",zu="gapYMHShkSqMHNu7fj7T",Wu=function(e){var t=e.showDropboxModal,n=(0,Ai.T)(),a=(0,Zs.u)(),r=(0,i.useState)(t),s=r[0],o=r[1],c=null,l=function(){clearTimeout(c),o(!1)},d=function(e){a.trackEvent(e)},u=function(){return o(!0),c=setTimeout((function(){d("DropboxCloseModal"),l()}),3e4),function(){return clearTimeout(c)}};(0,i.useEffect)((function(){t&&u()}),[t]);var _=function(){d("DropboxdontShowAgain"),l(),"undefined"!=typeof window&&window.giLocalStorage&&window.giLocalStorage.setItem("dropboxOptOut",!0)};return s&&(0,yi.jsxs)("aside",{className:Fu,id:"dropbox-intro-modal",role:"dialog",children:[(0,yi.jsx)(Zi,{className:zu,onClick:_,"data-testid":"close-link"}),(0,yi.jsxs)("div",{className:Mu,children:[(0,yi.jsx)(Ru,{className:Bu,alt:n("dropbox")}),(0,yi.jsxs)("div",{className:Uu,children:[(0,yi.jsx)("div",{children:n("download_workflow.dropbox_save_your_downloads")}),(0,yi.jsx)("a",{href:"/account/apps",onClick:function(){return d("DropboxGetStarted")},children:n("download_workflow.get_started")+" >"})]})]})]})},Gu=(0,ya.Z)((function(e){var t=e.licenseOverviewPath,n=(0,c.v9)((function(e){return e.calc.step.purchaseExtendedLicenseNotAllowed})),i=(0,Ai.T)(),a=(0,Sr.Fg)().link||{},r=(0,c.I0)(),s=(0,c.v9)((function(e){return e.userDetails.free_trial_subscription_test_active})),o=(0,c.v9)((function(e){return e.mobileSimplification})),l=s&&o,d=(0,wr.Z)(),u=function(e){e.preventDefault(),r(Ee.pickOptionalLicenses());var t=(0,yr.Z)({cta_interaction:"extended_license_link_clicked",cta_text:"add_extended_license",cta_url:void 0,ui_element_location:d});(0,_.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Extended_License_Link_Click",adp_selection:"ADP_Extended_License"}},t)};return!n&&(0,yi.jsx)("div",{className:"license-and-file-data","data-testid":"license-links",children:(0,yi.jsxs)("div",{children:[(0,yi.jsx)("hr",{}),(0,yi.jsxs)("div",{className:"license",children:[(0,yi.jsx)("span",{"data-testid":"standard-license-link",className:a.textLink,children:(0,yi.jsx)(Gi.Z,{children:i("includes_standard_license",{links:[{href:t,target:"_blank",rel:"noopener noreferrer nofollow"}]})})}),!l&&(0,yi.jsx)("div",{role:"presentation",id:"show_extended_licenses",className:a.textLink,onClick:u,onKeyPress:function(e){"Enter"===e.key&&u(e)},children:(0,yi.jsx)("span",{"data-testid":"extended-license-link",children:(0,yi.jsx)(Gi.Z,{children:i("add_extended_license",{links:[{href:"#"}]})})})})]})]})})}),"license_options"),Vu="W5UA9nv82mNCOvPuhJmw",Hu=function(e){var t=e.showEditor,n=e.visualId,a=(0,c.v9)((function(e){return e.buyCardData.assetBuyCardContentPolicy.displayAdpSignInCta})),r=(0,c.v9)((function(e){return e.buyCardData.licenseOverviewPath})),s=(0,c.v9)((function(e){return e.calc.showDropboxModal})),o=(0,c.v9)((function(e){return e.calc.step})),l=o.hideDetails,d=o.viewLicenseSelection,u=o.currentStep,_=(0,c.v9)((function(e){return e.userDetails})).has_subscription,p=(0,c.v9)((function(e){return e.calc})).hasAvailableCredits||_,f=(0,Ii._P)("EPSFileType"),m=(0,c.v9)((function(e){return e.asset})).isVector,h=f.isOfferActive("TestA")&&m&&p,g=u===v.PICK_PAYMENT_OPTION;return(0,i.useEffect)((function(){if("undefined"!=typeof window&&f.is_active){var e="Control"===f.offerValue()?"is_epsfiletype-control":"is_epsfiletype-expA",t=window.tracking_data.ab_test_variation;window.tracking_data.ab_test_variation=t?t+"|"+e:e}}),[]),a?(0,yi.jsxs)("section",{children:[(0,yi.jsx)(Cu,{}),!l&&(0,yi.jsx)(ju,{}),(0,yi.jsx)(Wu,{showDropboxModal:s||!1})]}):(0,yi.jsxs)("section",{className:g?Vu:"",children:[(0,yi.jsx)(gu,{showEPSFileTypeTest:h,showEditor:t,visualId:n}),!d&&(0,yi.jsx)(Gu,{licenseOverviewPath:r}),!l&&(0,yi.jsx)(ju,{}),(0,yi.jsx)(Wu,{showDropboxModal:s||!1})]})};Hu.defaultProps={visualId:null};var Yu=Hu,Ku="wmkAWS5w4QvLo_X19JpA",Zu="QhGqtOrtIL3zYevRuhww",qu="MwK45fGCbCEnFYyf858O",Xu="fk44HdjTaFM5QhxtwJWu",Qu=function(){var e=(0,c.I0)(),t=(0,Ai.T)(),n=(0,i.useState)(!0),a=n[0],r=n[1],s=el(),o=(0,c.v9)((function(e){return e.buyCardData.orderId})),l=(0,c.v9)((function(e){return e.calc.selectedAgreementSize})),d=function(e,t){var n="close_modal"===t?"modal_cta":void 0,i={name:"adpInteraction",payload:{adp_interaction:e,adp_selection:"ADP_Buy_N_Burn",ui_element_location:"adp_modal"}},a=(0,Er.Z)({event:t,modal_content:"buy_n_burn",modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:n});(0,_.j)(i,a)};(0,i.useEffect)((function(){a&&l&&(d("ADP_Modal_Shown","modal_shown"),e(ae(!0)),s.createDownload())}),[l]);var u=function(e,t){void 0===t&&(t=!1),e.target.id};return(0,yi.jsx)("aside",{children:a&&(0,yi.jsx)("div",{className:Ku,children:(0,yi.jsx)("div",{className:Zu,children:(0,yi.jsxs)("div",{className:Xu,children:[(0,yi.jsx)("h2",{children:t("thanks_for_your_purchase")}),(0,yi.jsx)("p",{children:t("initiated_your_download")}),(0,yi.jsx)("div",{children:(0,yi.jsxs)("p",{children:[t("confirmation_sent_to_email"),(0,yi.jsx)("span",{role:"link",tabIndex:0,onClick:function(e){return u(e)},onKeyPress:function(e){"Enter"===e.key&&u(e,!0)},children:(0,yi.jsx)(Gi.Z,{children:t("view_order_here",{order_id:o,links:[{href:"/sales-order/"+o,target:"_blank",rel:"noopener noreferrer",id:"order-id-link"}]})})})]})}),(0,yi.jsx)("button",{type:"button",className:qu,"data-testid":"buy-and-burn-got-it",onClick:function(){d("ADP_Modal_Dismiss","close_modal"),r(!1)},children:t("got_it_cta")})]})})})})},Ju={assetDetail:"o1mmrvbvek738U7UT2yr",main:"zahpcukElDRb_Ohm_lOq",assetContainerComp:"yHPYlHVGpzwlgFAJcHn4",assetContainerMeta:"Rfm5Ib9MsxDzwZ1PfoKh",assetContainer:"etgO5QRmCLU1wcj0BlPn",mainImage:"IpFd5ntbKXKzp0faqOiE",mainFilm:"s5U3t2AzNsmKR0qy8eTG",subFoldContainer:"cBjX34_XGwnfVF9NAZQx"},$u=function(){var e,t,n=(0,Ai.T)(),a=(0,Ci.T)(),r=(0,Ii._P)("MiniPnp"),s=(0,c.v9)((function(e){return e.asset})),l=(0,c.v9)((function(e){return e.userDetails.pricing_clarity_flow})),d=(0,c.v9)((function(e){return e.categories.isKeywordsTestAboveSeries})),u=(0,c.v9)((function(e){return e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow})),p=(0,c.v9)((function(e){return e.displayError})),f=(0,c.v9)((function(e){return e.calc.includedWithSubscription})),m=(0,c.v9)((function(e){return e.calc.isInPricingClarity})),h=(0,c.v9)((function(e){return e.mobileSimplification})),v=(0,c.v9)((function(e){return e.buyCardData.buyAndBurn})),g=(0,c.v9)((function(e){return e.buyCardData.orderId})),w=(0,Ti.b5)({asset:s}),y=w.handleDismissal,b=w.handleRemoveBackground,S=w.handleModifyAsset,E=w.showEditor,T=w.showErrorMessage,x=w.visualId,I=w.assetCanBeModified,C=w.modificationType,N=w.availableModifications,O=u&&l?"video-pricing-clarity-width":"",A=h?"simplification-test-margin":"",k=s.localizedCaption?s.localizedCaption:s.title,D=(0,c.I0)();Ni();var j=(0,c.v9)((function(e){return e.userDetails}));return(0,i.useEffect)((function(){a.sendAssetDetailsViewedSignal(s,(0,Oi.c)()),(0,_.j)({},(0,xi.Z)(window.tracking_data)),D(Ee.goToInitialLoad())}),[]),(0,yi.jsxs)("div",{className:Ju.assetDetail,"data-testid":"asset-detail-container",children:[(0,yi.jsx)(o.IU,{}),(0,yi.jsx)(bs,{}),r.isActive()&&(0,yi.jsx)(Mi,{asset:s}),(0,yi.jsxs)(Ti.Rc,{children:[(0,yi.jsx)(Ti.rK,{headerText:n("object_removal_feedback_header"),visualId:x,assetId:s.assetId}),(0,yi.jsx)(Ti.x1,{asset:s,visualId:x,availableModifications:N}),(0,yi.jsxs)("div",{"data-testid":"asset-detail-main",className:Di()(Ju.main,(e={},e[Ju.mainImage]=s.isImage,e[Ju.mainFilm]=s.isFilm,e)),children:[g&&(v?(0,yi.jsx)(Qu,{}):(0,yi.jsx)(Hi,{})),(0,yi.jsx)(Ks,{errorType:p}),(0,yi.jsx)(js,{asset:s}),(0,yi.jsxs)("div",{className:Ju.assetContainer,children:[(0,yi.jsxs)("section",{className:"comp "+O+" "+Ju.assetContainerComp,children:[(0,yi.jsx)(hs,{asset:s.toObject(),userDetails:j,handleDismissal:y,handleRemoveBackground:b,handleModifyAsset:S,showEditor:E,showErrorMessage:T,visualId:x,modificationType:C,assetCanBeModified:I}),(0,yi.jsx)(gs,{descriptionContent:k,editorialImage:s.isImage&&s.isEditorialUseOnly})]}),(0,yi.jsx)("section",{className:"meta "+O+" "+A+" "+Ju.assetContainerMeta,children:(0,yi.jsx)(Yu,{isInPricingClarity:m,buyCardSignedInData:f,showEditor:E,visualId:x})})]})]})]}),(0,yi.jsx)("div",{className:Ju.subFold,children:(0,yi.jsxs)("div",{className:Di()(Ju.subFoldContainer,(t={},t[Ju.subFoldImage]=s.isImage,t[Ju.subFoldFilm]=s.isFilm,t)),children:[d&&(0,yi.jsx)(oo,{}),(0,yi.jsx)(Ho,{}),!d&&(0,yi.jsx)(oo,{}),(0,yi.jsx)(Hs,{}),(0,yi.jsx)(bo,{})]})})]})},e_=function(e){var t=e.payload;return(0,yi.jsx)(Ei,{payload:t,children:(0,yi.jsx)(Ti.zt,{openModificationsModalWithModificationType:t.modificationType,children:(0,yi.jsx)(r.DY,{children:(0,yi.jsx)(o.JQ,{children:(0,yi.jsx)(Ti.y6,{children:(0,yi.jsx)($u,{})})})})})})}},80971:function(e,t,n){"use strict";n.d(t,{He:function(){return s},Z7:function(){return o},e1:function(){return a},gB:function(){return l},tm:function(){return r},uq:function(){return c}});var i=function(e,t,n,i,a){var r,s,o,c,l,d,u,_,p,f,m;void 0===i&&(i=null),void 0===a&&(a=null);var h=window.trackingData||{},v={download_payment_source:t,download_type:e,products_string:h.products_string,payment_source:t,downloaded_items:[{asset_family:null==(r=h.asset_details)?void 0:r.asset_family,asset_id:null==(s=h.asset_details)?void 0:s.asset_id,asset_size:n,asset_type:null==(o=h.asset_details)?void 0:o.asset_type,asset_usage:null==(c=h.asset_details)?void 0:c.asset_usage,date_submitted:null==(l=h.asset_details)?void 0:l.date_submitted,collection_code:null==(d=h.asset_details)?void 0:d.collection_code,istock_collection:null==(u=h.asset_details)?void 0:u.istock_collection,license_type:null==(_=h.asset_details)?void 0:_.license_type,media_type:null==(p=h.asset_details)?void 0:p.media_type,quality:null==(f=h.asset_details)?void 0:f.quality,release_info:null==(m=h.asset_details)?void 0:m.release_info}]};return i&&(v.extended_licenses=i,v.ui_element_location="extended_license"),a&&(a.team_leader?v.istock_download_account_type="team_lead":a.team_member?v.istock_download_account_type="team_member":v.istock_download_account_type="individual"),v},a=function(){return i("SaveToDesktopLeft","comp","comp")},r=function(){return i("SaveToDesktopRight","comp","comp")},s=function(){return i("preview image","comp","comp")},o=function(){return i("preview film","comp","Comp_H.264")},c=function(e){return i("comp download","comp","Comp_H.264",null,e)},l=function(e){return i("comp download","comp","comp",null,e)}},66704:function(){},2590:function(){},21989:function(){}}]);
//# sourceMappingURL=app-root-components-asset-detail-istock-index-3e275fba0720d09eeb08.js.map